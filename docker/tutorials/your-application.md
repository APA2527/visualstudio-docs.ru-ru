---
title: Учебник по DOCKER. часть 1. сборка и запуск примера приложения List TODO
description: Общие сведения о примере приложения List TODO, которое выполняется в Node.js.
ms.date: 08/04/2020
author: nebuk89
ms.author: ghogen
manager: jillfra
ms.technology: vs-azure
ms.topic: conceptual
ms.workload:
- azure
ms.openlocfilehash: b8470c8d7708bc51916a6f57f5aa135c3267e355
ms.sourcegitcommit: c4212f40df1a16baca1247cac2580ae699f97e4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2020
ms.locfileid: "89176834"
---
# <a name="build-and-run-the-todo-sample-app"></a>Сборка и запуск примера приложения Todo

В оставшейся части этого руководства вы будете работать с простым диспетчером списка дел, который выполняется в Node.js. Если вы не знакомы с Node.js, не беспокойтесь! Реальное взаимодействие с JavaScript не требуется!

На этом этапе команда разработчиков довольно мала, и вы просто создаете приложение, чтобы доказать свое звание MVP (минимальный приемлемый продукт). Вы хотите продемонстрировать, как он работает и как он может делать без необходимости думать о том, как он будет работать для крупной группы, нескольких разработчиков и т. д.

![Снимок экрана диспетчера списка задач](media/todo-list-sample.png)

## <a name="get-the-app"></a>Получение приложения

Перед запуском приложения необходимо получить исходный код приложения на компьютере. Для реальных проектов обычно создается Клонирование репозитория. Но в этом руководстве вы создали ZIP-файл, содержащий приложение.

1. [Скачайте zip-файл](/assets/app.zip). Откройте ZIP-файл и убедитесь, что вы извлеки его содержимое.

1. После извлечения используйте любой редактор кода, чтобы открыть проект. Если вам требуется редактор, можно использовать [Visual Studio Code](https://code.visualstudio.com/). Вы должны увидеть `package.json` и два подкаталога ( `src` и `spec` ).

    ![Снимок экрана Visual Studio Code, открытого с загруженным приложением](media/ide-screenshot.png)

## <a name="building-the-apps-container-image"></a>Создание образа контейнера приложения

Чтобы создать приложение, необходимо использовать `Dockerfile` . Dockerfile — это просто текстовый сценарий инструкций, который используется для создания образа контейнера. Если вы создали файлы dockerfile ранее, в Dockerfile ниже может появиться несколько изъянов. Но не беспокойтесь! Мы продолжим их.

1. Создайте файл с именем `Dockerfile` в той же папке, что и файл `package.json` со следующим содержимым.

    ```dockerfile
    FROM node:12-alpine
    WORKDIR /app
    COPY . .
    RUN yarn install --production
    CMD ["node", "/app/src/index.js"]
    ```

    Убедитесь, что файл `Dockerfile` не имеет расширения файла, например `.txt` . Некоторые редакторы могут добавлять это расширение файла автоматически, что приведет к ошибке на следующем шаге.

1. Если вы еще не сделали этого, откройте терминал и перейдите в `app` каталог с помощью `Dockerfile` . Теперь создайте образ контейнера с помощью `docker build` команды.

    ```bash
    docker build -t getting-started .
    ```

    Эта команда использовала Dockerfile для создания нового образа контейнера. Возможно, вы заметили, что загружено много уровней. Это связано с тем, что вы получили указание построителя, который вы хотели бы начать с `node:12-alpine` образа. Но, так как у вас нет этого компьютера, необходимо скачать этот образ.

    После загрузки образа вы копируете в приложение и используется `yarn` для установки зависимостей приложения. `CMD`Директива задает команду по умолчанию, которую необходимо выполнить при запуске контейнера из этого образа.

    Наконец, `-t` флаг помечает изображение. Представьте себе, что это просто удобное для восприятия имя конечного образа. Так как вы назвали образ `getting-started` , вы можете ссылаться на этот образ при запуске контейнера.

    В `.` конце `docker build` команды указывается, что DOCKER должен искать в `Dockerfile` текущем каталоге.

## <a name="starting-an-app-container"></a>Запуск контейнера приложения

Теперь, когда у вас есть образ, запустите приложение. Для этого используйте `docker run` команду (Помните, что из предыдущих?).

1. Запустите контейнер с помощью `docker run` команды и укажите имя образа, который вы только что создали:

    ```bash
    docker run -dp 3000:3000 getting-started
    ```

    Запомнить `-d` `-p` флаги и? Вы запускаете новый контейнер в режиме "отключено" (в фоне) и создаете сопоставление между портом 3000 узла и портом 3000 контейнера. Без сопоставления портов вы не сможете получить доступ к приложению.

1. Через несколько секунд откройте веб-браузер в [http://localhost:3000](http://localhost:3000) .
    Вы должны увидеть приложение!

    ![Пустой список дел](media/todo-list-empty.png)

1. Добавьте элемент или два, чтобы увидеть, что он работает как можно раньше. Элементы можно пометить как завершенные и удалить элементы. Внешний интерфейс успешно сохраняет элементы в серверной части. Просто и быстро, правда?

На этом этапе у вас должен быть работающий диспетчер списка задач с небольшими наборами элементов. Теперь сделаем несколько изменений и изучите Управление контейнерами.

Если вы кратко Взгляните на расширение VS Code, вы должны увидеть два контейнера, которые работают сейчас (это руководство и новый контейнер приложения).

![Расширение DOCKER с учебником и контейнерами приложений, работающими](media/vs-two-containers.png)

## <a name="recap"></a>Резюме

В этом кратком разделе вы узнали о создании образа контейнера и создании Dockerfile для этого. После создания образа вы запустили контейнер и видели работающее приложение!

Далее предстоит внести изменения в приложение и узнать, как обновить работающее приложение с помощью нового образа. Кроме того, вы узнаете о некоторых других полезных командах.

## <a name="next-steps"></a>Дальнейшие действия

Продолжайте работу с руководством.

> [!div class="nextstepaction"]
> [Обновление приложения](update-your-app.md)