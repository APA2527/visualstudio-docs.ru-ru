---
title: Учебник по DOCKER. часть 3. предоставление общего доступа к приложению
description: Описывает, как предоставлять общий доступ к образам DOCKER с помощью реестра DOCKER Hub.
ms.date: 08/04/2020
author: nebuk89
ms.author: ghogen
manager: jillfra
ms.technology: vs-azure
ms.topic: conceptual
ms.workload:
- azure
ms.openlocfilehash: d5bd7a2d79bf6da710fd0f5803c2415781160143
ms.sourcegitcommit: c4212f40df1a16baca1247cac2580ae699f97e4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2020
ms.locfileid: "89176838"
---
# <a name="share-your-app"></a>Совместное использование приложения

Теперь, когда мы создали образ, давайте поделиться им! Чтобы предоставить общий доступ к образам DOCKER, необходимо использовать реестр DOCKER. По умолчанию в реестре используется центр DOCKER, и в него входят все используемые нами образы.

## <a name="create-a-repo"></a>Создание репозитория

Чтобы отправить образ, сначала необходимо создать репозиторий в центре DOCKER.

1. Перейдите в [центр DOCKER](https://hub.docker.com) и войдите в систему, если нужно.

1. Нажмите кнопку **создать репозиторий** .

1. В качестве имени репозитория используйте `getting-started` . Убедитесь, что видимость имеет значение `Public` .

1. Нажмите кнопку **создать** !

Если взглянуть на правой стороне страницы, вы увидите раздел с именем **команды DOCKER**. Это дает пример команды, которую необходимо выполнить для отправки в репозиторий.

![Команда DOCKER с примером Push](media/push-command.png)

## <a name="push-the-image"></a>Отправка образа

1. В командной строке попробуйте выполнить команду push, которая отображается в DOCKER Hub. Обратите внимание, что команда будет использовать пространство имен, а не "DOCKER".

    ```plaintext
    $ docker push docker/getting-started
    The push refers to repository [docker.io/docker/getting-started]
    An image does not exist locally with the tag: docker/getting-started
    ```

    Почему это не удалось? Команда push ищет образ с именем DOCKER/Приступая к работе, но он не найден. При запуске `docker image ls` вы не увидите ни одного.

    Чтобы устранить эту проблему, необходимо "пометить" существующий образ, который мы создали, чтобы присвоить ему другое имя.

1. Войдите в центр DOCKER с помощью команды `docker login -u <username>` .

1. Используйте `docker tag` команду, чтобы присвоить `getting-started` образу новое имя. Не забудьте заменить `<username>` идентификатором DOCKER.

    ```bash
    docker tag getting-started <username>/getting-started
    ```

1. Теперь повторите команду push-уведомлений. Если вы копируете значение из DOCKER Hub, можно удалить `tagname` часть, так как тег не добавлен к имени образа. Если не указать тег, Docker будет использовать тег с именем `latest` .

    ```bash
    docker push <username>/getting-started
    ```

## <a name="run-the-image-on-a-new-instance"></a>Запуск образа на новом экземпляре

Теперь, когда образ создан и помещен в реестр, попробуйте запустить приложение на новом экземпляре, который никогда не встречался с этим образом контейнера. Для этого вы будете использовать Play с DOCKER.

1. Откройте браузер для [воспроизведения с помощью DOCKER](http://play-with-docker.com).

1. Войдите с помощью учетной записи центра DOCKER.

1. После входа щелкните ссылку "+ добавить новый экземпляр" на левой панели. (Если вы не видите его, сделайте свой браузер немного шире.) Через несколько секунд в браузере откроется окно терминала.

    ![Воспроизведение с помощью DOCKER Добавление нового экземпляра](media/pwd-add-new-instance.png)

1. В окне терминала запустите приложение, отправленное недавно.

    ```bash
    docker run -dp 3000:3000 <username>/getting-started
    ```

    Вы увидите, что образ будет извлечен и в конечном итоге запустится.

1. Щелкните значок 3000, когда появится индикатор, и вы увидите приложение с изменениями! Радостных! Если эмблема 3000 не отображается, можно нажать кнопку **открыть порт** и ввести 3000.

## <a name="recap"></a>Резюме

В этом разделе вы узнали, как совместно использовать образы, отправляя их в реестр. Затем вы перешли на новый экземпляр и смогли запустить образ, отправленный недавно. Это довольно распространено в конвейерах CI, где конвейер создает образ и передает его в реестр, а затем Рабочая среда может использовать последнюю версию образа.

Теперь, когда вы узнали об этом, помните, что в конце последнего раздела при перезапуске приложения вы потеряли все элементы списка дел. Это, очевидно, не очень удобно, поэтому вы узнаете, как можно сохранить данные в процессе перезагрузки!

## <a name="next-steps"></a>Дальнейшие действия

Продолжайте работу с руководством.

> [!div class="nextstepaction"]
> [Сохранение базы данных](persist-your-data.md)