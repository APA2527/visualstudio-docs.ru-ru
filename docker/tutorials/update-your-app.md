---
title: Учебник по DOCKER. часть 2. Обновление приложения
description: Описывает, как обновить приложение DOCKER.
ms.date: 08/04/2020
author: nebuk89
ms.author: ghogen
manager: jillfra
ms.technology: vs-azure
ms.topic: conceptual
ms.workload:
- azure
ms.openlocfilehash: 4a1cba71481608803522336ad5c0f6b6354bca32
ms.sourcegitcommit: c4212f40df1a16baca1247cac2580ae699f97e4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2020
ms.locfileid: "89176842"
---
# <a name="update-the-app"></a>Обновление приложения

В качестве запроса небольшого компонента вы получили запрос на изменение "пустого текста", если у вас нет элементов списка дел. Они хотели бы перейти к следующему:

> У вас еще нет элементов Todo. Добавьте один из приведенных выше!

Довольно просто, правильно? Давайте изменим.

## <a name="update-the-source-code"></a>Обновление исходного кода

1. В `src/static/js/app.js` файле обновите строку 56, чтобы использовать новый пустой текст.

    ```diff
    -                <p className="text-center">No items yet! Add one above!</p>
    +                <p className="text-center">You have no todo items yet! Add one above!</p>
    ```

1. Создайте обновленную версию образа, используя ту же команду, которая использовалась ранее.

    ```bash
    docker build -t getting-started .
    ```

1. Запустите новый контейнер, используя обновленный код.

    ```bash
    docker run -dp 3000:3000 getting-started
    ```

**Ой!** Вероятно, вы видели ошибку вроде этого (идентификаторы будут отличаться):

```bash
docker: Error response from daemon: driver failed programming external connectivity on endpoint laughing_burnell 
(bb242b2ca4d67eba76e79474fb36bb5125708ebdabd7f45c8eaf16caaabde9dd): Bind for 0.0.0.0:3000 failed: port is already allocated.
```

Итак, что произошло? Не удалось запустить новый контейнер, так как старый контейнер все еще работает. Причина проблемы заключается в том, что контейнер использует порт 3000 узла и только один процесс на компьютере (контейнеры включены) может прослушивать конкретный порт. Чтобы устранить эту проблему, удалите старый контейнер.

## <a name="replace-the-old-container"></a>Замена старого контейнера

Чтобы удалить контейнер, его необходимо остановить. После остановки его можно удалить. Существует два способа удаления старого контейнера. Вы можете выбрать путь, с которым вам удобнее работать.

### <a name="remove-a-container-using-the-cli"></a>Удаление контейнера с помощью интерфейса командной строки

1. Получите идентификатор контейнера с помощью `docker ps` команды.

    ```bash
    docker ps
    ```

1. `docker stop`Чтобы прерывать контейнер, используйте команду.

    ```bash
    # Swap out <the-container-id> with the ID from docker ps
    docker stop <the-container-id>
    ```

1. После остановки контейнера его можно удалить с помощью `docker rm` команды.

    ```bash
    docker rm <the-container-id>
    ```

> [!TIP]
> Вы можете отключить и удалить контейнер в одной команде, добавив к команде флаг force `docker rm` . Пример: `docker rm -f <the-container-id>`

### <a name="remove-a-container-using-the-docker-dashboard"></a>Удаление контейнера с помощью панели мониторинга DOCKER

При открытии расширения VS Code можно удалить контейнер с двумя щелчками мыши! Это, несомненно, намного проще, чем искать идентификатор контейнера и удалять его.

1. После открытия расширения перейдите к контейнеру и щелкните его правой кнопкой мыши.

1. Щелкните параметр **Удалить** .

1. Подтвердите удаление, и все готово.

![Панель мониторинга DOCKER. Удаление контейнера](media/vs-removing-container.png)

### <a name="start-the-updated-app-container"></a>Запуск обновленного контейнера приложения

1. Теперь запустите обновленное приложение.

    ```bash
    docker run -dp 3000:3000 getting-started
    ```

1. Обновите страницу в браузере [http://localhost:3000](http://localhost:3000) , и вы увидите обновленный текст справки!

![Обновленное приложение с обновленным пустым текстом](media/todo-list-updated-empty-text.png)

## <a name="recap"></a>Резюме

Хотя вы могли создать обновление, вы могли заметить две вещи:

- Все существующие элементы в списке дел исчезли! Это не очень хорошее приложение! Мы поговорим об этом чуть позже.
- Для такого небольшого изменения было внесено *много* действий. В следующем разделе вы узнаете, как просматривать обновления кода без необходимости перестраивать и запускать новый контейнер каждый раз, когда вы вносите изменения.

Прежде чем приступить к изучению сохраняемости, вы быстро узнаете, как предоставлять общий доступ к этим образам другим пользователям.

## <a name="next-steps"></a>Дальнейшие действия

Продолжайте работу с руководством.

> [!div class="nextstepaction"]
> [Совместное использование приложения](share-your-app.md)
