---
title: Создание и настройка наборов данных
ms.date: 11/21/2018
ms.topic: conceptual
helpviewer_keywords:
- typed datasets, creating
- datasets, creating
- datasets, configuring
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- data-storage
ms.openlocfilehash: 41a7a699506853d6891c7d7b66fef4082814c06a
ms.sourcegitcommit: 50f0c3f2763a05de8482b3579026d9c76c0e226c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/09/2019
ms.locfileid: "65460622"
---
# <a name="how-to-create-and-configure-datasets-in-visual-studio"></a>Практическое руководство. Создание и настройка наборов данных в Visual Studio

Набор данных является набор объектов для хранения данных из базы данных в памяти и поддерживает отслеживание изменений для включения создания, чтения, обновления и удаления (CRUD) с этими данными без необходимости всегда необходимо подключение к базе данных. Наборы данных были разработаны для простых *формы поверх данных* бизнес-приложений. Для новых приложений рассмотрите возможность использования Entity Framework для хранения и моделирования данных в памяти. Для работы с наборами данных, должны иметь базовые знания о основными понятиями баз данных.

Можно создать типизированный <xref:System.Data.DataSet> класса в Visual Studio во время разработки с помощью **мастер настройки источника данных**. Сведения о создании наборов данных программными средствами, см. в разделе [Создание набора данных (ADO.NET)](/dotnet/framework/data/adonet/dataset-datatable-dataview/creating-a-dataset).

## <a name="create-a-new-dataset-by-using-the-data-source-configuration-wizard"></a>Создать новый набор данных с помощью мастера настройки источника данных

1. Откройте проект в Visual Studio и выберите **проекта** > **добавить новый источник данных** запустить **мастер настройки источника данных**.

2. Выберите тип источника данных, к которому вы будете подключаться.

     ![мастер настройки источника данных](../data-tools/media/data-source-configuration-wizard.png)

3. Выберите базу данных или базы данных, которые будет источником данных для набора данных.

     ![Источник данных выберите соединение](../data-tools/media/data-source-choose-a-connection.png)

4. Выбор таблицы (или отдельные столбцы), хранимые процедуры, функции и представления из базы данных, которую требуется представить в наборе данных.

     ![Выбор объектов базы данных](../data-tools/media/raddata-chose-objects.png)

5. Нажмите кнопку **Готово**.

   Набор данных отображается как узел в **обозревателе решений**.

   ![Набор данных в обозревателе решений](../data-tools/media/dataset-in-solution-explorer.png)

6. Щелкните узел набора данных в **обозревателе решений** чтобы открыть набор данных в **конструктор наборов данных**. Каждая таблица в наборе данных имеет связанный `TableAdapter` объект, который представлен в нижней. Адаптер таблицы используется для заполнения набора данных и при необходимости отправлять команды в базу данных.

   ![Конструктор наборов данных](../data-tools/media/dataset-designer.png)

7. Линии связи, соединяющие таблицы представляют связи между таблицами, как определено в базе данных. По умолчанию ограничения внешнего ключа в базе данных представляются в виде отношения, обновление и удаление правил. Как правило это то, что нужно. Тем не менее, можно щелкнуть строки, чтобы открыть **отношения** диалоговое окно, где можно изменить поведение иерархических обновлений. Дополнительные сведения см. в разделе [отношения в наборах данных](../data-tools/relationships-in-datasets.md) и [иерархическое обновление](../data-tools/hierarchical-update.md).

     ![Диалоговое окно отношения набор данных](../data-tools/media/raddata-relation-dialog.png)

8. Щелкните таблицу, адаптер таблицы или имя столбца в таблице см. в разделе его свойств в **свойства** окна. Можно изменить некоторые значения здесь. Просто помните, что вы изменяете набора данных, а не базы данных-источника.

     ![Свойства столбца набора данных](../data-tools/media/dataset-column-properties.png)

9. Можно добавить новые таблицы или адаптеров таблиц в набор данных, или добавить новые запросы для существующих адаптеров таблиц или указать новые связи между таблицами путем перетаскивания этих элементов из **элементов** вкладки. Эта вкладка отображается, когда **конструктор наборов данных** в фокусе.

     ![Набор данных панели элементов](../data-tools/media/raddata-dataset-toolbox.png)

Затем можно указать способ заполнения набора данных с данными. Для этого используется **мастер настройки адаптера таблицы**. Дополнительные сведения см. в разделе [заполнения набора данных с помощью адаптера таблицы](../data-tools/fill-datasets-by-using-tableadapters.md).

## <a name="add-a-database-table-or-other-object-to-an-existing-dataset"></a>Добавить таблицу базы данных или другой объект в существующий набор данных

Эта процедура демонстрирует добавление таблицы из той же базе данных, которая использовалась для сначала создать набор данных.

1. Щелкните узел набора данных в **обозревателе решений** перевести **конструктор наборов данных** в фокус.

2. Нажмите кнопку **источников данных** вкладка в левой области Visual Studio, или тип **источников данных** в поле поиска.

3. Щелкните правой кнопкой мыши узел набора данных и выберите **Настройка источника данных с помощью мастера**.

     ![Контекстное меню источника данных](../data-tools/media/data-source-context-menu.png)

4. Используйте мастер, чтобы указать, какие дополнительные таблицы, хранимые процедуры или объекты базы данных, чтобы добавить к набору данных.

## <a name="add-a-stand-alone-data-table-to-a-dataset"></a>Добавление отдельной таблицы к набору данных

1. Откройте свой набор данных в **Конструкторе наборов данных**.

2. Перетащите <xref:System.Data.DataTable> класса из **набора данных** вкладке **элементов** на **конструктор наборов данных**.

3. Добавьте столбцы для определения таблицы данных. Щелкните правой кнопкой мыши по таблице и выберите **добавить** > **столбец**. Используйте **свойства** окно, чтобы задать тип данных столбца и ключ, при необходимости.

Отдельных таблиц необходимо реализовать `Fill` логику в изолированных таблиц, чтобы их можно заполнить данными. Сведения о заполнении отдельной таблицы, см. в разделе [заполнение набора данных из объекта DataAdapter](/dotnet/framework/data/adonet/populating-a-dataset-from-a-dataadapter).

## <a name="see-also"></a>См. также

- [Инструменты для работы с наборами данных в Visual Studio](../data-tools/dataset-tools-in-visual-studio.md)
- [Отношения в наборах данных](../data-tools/relationships-in-datasets.md)
- [Иерархическое обновление](../data-tools/hierarchical-update.md)
- [Заполнение наборов данных с помощью адаптера таблицы](../data-tools/fill-datasets-by-using-tableadapters.md)