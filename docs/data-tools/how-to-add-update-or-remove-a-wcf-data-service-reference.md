---
title: Практическое руководство. Добавление, обновление или удаление ссылки на службу данных WCF
ms.date: 11/04/2016
ms.topic: how-to
helpviewer_keywords:
- service references [Visual Studio]
- WCF Data Service reference
- WCF data service references
- ADO.NET service references
- ADO.NET Data Service reference
ms.assetid: 892ebf37-3af4-472e-8744-92837677d611
author: ghogen
ms.author: ghogen
manager: jillfra
ms.workload:
- data-storage
ms.openlocfilehash: f5f5a1e14a6eab7537c8ce64636f0f34378ad7f0
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "85282375"
---
# <a name="how-to-add-update-or-remove-a-wcf-data-service-reference"></a>Практическое руководство. Добавление, обновление или удаление ссылки на службу данных WCF

::: moniker range="vs-2017"
Ссылка на службу позволяет проекту получить доступ к одному или нескольким *службам* [!INCLUDE[ssAstoria](../data-tools/includes/ssastoria_md.md)] . Используйте диалоговое окно **Добавление ссылки на службу** для поиска [!INCLUDE[ssAstoria](../data-tools/includes/ssastoria_md.md)] в текущем решении, локально, в локальной сети или в Интернете.
::: moniker-end
::: moniker range=">=vs-2019"
Можно использовать узел **подключенные службы** в **Обозреватель решений** для доступа к **Microsoft WCF Web Service Reference Provider**, который позволяет управлять ссылками на службы данных Windows Communication Foundation (WCF).
::: moniker-end

[!INCLUDE[note_settings_general](../data-tools/includes/note_settings_general_md.md)]

## <a name="add-a-wcf-service-reference"></a>Добавление ссылки на службу WCF

### <a name="to-add-a-reference-to-an-external-service"></a>Добавление ссылки на внешнюю службу

::: moniker range="vs-2017"

1. В **Обозреватель решений**щелкните правой кнопкой мыши имя проекта, в который требуется добавить службу, и выберите пункт **Добавление ссылки на службу**.

   Откроется диалоговое окно **Добавить ссылку на службу**.

1. В поле **адрес** введите URL-адрес службы и нажмите кнопку **Перейти** , чтобы найти службу. Если служба реализует защиту имени пользователя и пароля, может появиться запрос на ввод имени пользователя и пароля.

    > [!NOTE]
    > Ссылаться на службы следует только из надежного источника. Добавление ссылок из ненадежного источника может нарушить безопасность.

     Можно также выбрать URL-адрес из списка **адресов** , в котором хранятся предыдущие 15 URL-адресов, в которых были найдены допустимые метаданные службы.

     При выполнении поиска отображается индикатор выполнения. Вы можете в любое время закрыть поиск, нажав кнопку " **Закрыть**".

1. В списке **служб** разверните узел службы, которую необходимо использовать, и выберите набор сущностей.

1. В поле **Пространство имен** введите пространство имен, которое хотите использовать для ссылки.

1. Нажмите кнопку **OK**, чтобы добавить ссылку на проект.

     Создается клиент службы (прокси), и метаданные, описывающие службу, добавляются в файл *app.config* .
::: moniker-end
::: moniker range=">=vs-2019"
1. В **Обозреватель решений**дважды щелкните узел **подключенные службы** .

   Откроется вкладка **Настройка служб** .

1. Выберите **Microsoft WCF Web Service Reference Provider**.

   Откроется диалоговое окно **Настройка ссылки на веб-службу WCF** .

   ![Снимок экрана: диалоговое окно поставщика веб-службы WCF](media/vs-2019/configure-wcf-web-service-reference-dialog.png)


1. В поле **URI** введите URL-адрес службы и нажмите кнопку **Перейти** , чтобы найти службу. Если служба реализует защиту имени пользователя и пароля, может появиться запрос на ввод имени пользователя и пароля.

    > [!NOTE]
    > Ссылаться на службы следует только из надежного источника. Добавление ссылок из ненадежного источника может нарушить безопасность.

     Можно также выбрать URL-адрес из списка **URI** , в котором хранятся предыдущие 15 URL-адресов, в которых были найдены допустимые метаданные службы.

     При выполнении поиска отображается индикатор выполнения. Вы можете в любое время закрыть поиск, нажав кнопку " **Закрыть**".

1. В списке **служб** разверните узел службы, которую необходимо использовать, и выберите набор сущностей.

1. В поле **Пространство имен** введите пространство имен, которое хотите использовать для ссылки.

1. Нажмите кнопку **Готово** , чтобы добавить ссылку на проект.

     Создается клиент службы (прокси), и метаданные, описывающие службу, добавляются в файл *app.config* .

::: moniker-end

### <a name="to-add-a-reference-to-a-service-in-the-current-solution"></a>Добавление ссылки на службу в текущем решении

::: moniker range="vs-2017"

1. В **Обозреватель решений**щелкните правой кнопкой мыши имя проекта, в который требуется добавить службу, и выберите пункт **Добавление ссылки на службу**.

    Откроется диалоговое окно **Добавить ссылку на службу**.

1. Нажмите кнопку **обнаружить**.

    Все службы ( [!INCLUDE[ssAstoria](../data-tools/includes/ssastoria_md.md)] и службы WCF) в текущем решении добавляются в список **служб** .

1. В списке **служб** разверните узел службы, которую необходимо использовать, и выберите набор сущностей.

1. В поле **Пространство имен** введите пространство имен, которое хотите использовать для ссылки.

1. Нажмите кнопку **OK**, чтобы добавить ссылку на проект.

    Создается клиент службы (прокси), и метаданные, описывающие службу, добавляются в файл *app.config* .
::: moniker-end
::: moniker range=">=vs-2019"
1. В **Обозреватель решений**дважды щелкните узел **подключенные службы** . 

   Откроется вкладка **Настройка служб** .

1. Выберите **Microsoft WCF Web Service Reference Provider**.

   Откроется диалоговое окно **Настройка ссылки на веб-службу WCF** .

1. Нажмите кнопку **обнаружить**.

    Все службы ( [!INCLUDE[ssAstoria](../data-tools/includes/ssastoria_md.md)] и службы WCF) в текущем решении добавляются в список **служб** .

1. В списке **служб** разверните узел службы, которую необходимо использовать, и выберите набор сущностей.

1. В поле **Пространство имен** введите пространство имен, которое хотите использовать для ссылки.

1. Нажмите кнопку **Готово** , чтобы добавить ссылку на проект.

    Создается клиент службы (прокси), и метаданные, описывающие службу, добавляются в файл *app.config* .

::: moniker-end

## <a name="update-a-service-reference"></a>Обновление ссылки на службу

EDM в [!INCLUDE[ssAstoria](../data-tools/includes/ssastoria_md.md)] некоторых случаях изменения. В этом случае необходимо обновить ссылку на службу.

### <a name="to-update-a-service-reference"></a>Обновление ссылки на службу

- В **Обозреватель решений**щелкните правой кнопкой мыши ссылку на службу и выберите пункт **Обновить ссылку на службу**.

     При обновлении ссылки из исходного расположения отображается диалоговое окно хода выполнения, и клиент службы повторно создается для отражения любых изменений в метаданных.

## <a name="remove-a-service-reference"></a>Удаление ссылки на службу

Если ссылка на службу больше не используется, ее можно удалить из решения.

### <a name="to-remove-a-service-reference"></a>Удаление ссылки на службу

- В **Обозреватель решений**щелкните правой кнопкой мыши ссылку на службу и выберите команду **Удалить**.

     Клиент службы будет удален из решения, а метаданные, описывающие службу, будут удалены из файла *app.config* .

    > [!NOTE]
    > Любой код, ссылающийся на ссылку на службу, необходимо удалить вручную.

## <a name="see-also"></a>См. также раздел

- [Службы Windows Communication Foundation и WCF Data Services в Visual Studio](../data-tools/windows-communication-foundation-services-and-wcf-data-services-in-visual-studio.md)
