---
title: Создание таблиц подстановки в приложениях Windows Forms
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- lookup tables
- lookup tables, creating
ms.assetid: 0edd5385-c381-4b17-9096-74e2778db9d5
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- data-storage
ms.openlocfilehash: 782f5b422058d1564bde04251a92d95145f6edf3
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62567280"
---
# <a name="create-lookup-tables-in-windows-forms-applications"></a>Создание таблиц подстановки в приложениях Windows Forms

Термин *таблицы подстановки* описываются элементы управления, привязанных к двух связанных таблиц данных. Эти подстановочные элементы управления отображают данные из первой таблицы на основе значения, выбранные во второй таблице.

Таблицы подстановки можно создать путем перетаскивания главного узла родительской таблицы (из [окна "Источники данных"](add-new-data-sources.md#data-sources-window)) на элемент управления на форме, который уже привязан к столбцу в связанной дочерней таблицы.

Например, рассмотрим таблицу `Orders` в базе данных продаж. Каждая запись в `Orders` таблица включает `CustomerID`, указывающее, какой клиент разместил заказ. `CustomerID` Является внешним ключом, указывающим на запись клиента в `Customers` таблицы. В этом случае разверните `Orders` в таблицу **источников данных** окно и значение главный узел **сведения**. Затем задайте `CustomerID` столбец, используемый <xref:System.Windows.Forms.ComboBox> (или любой другой элемент управления подстановочной привязкой) и перетащите `Orders` узлов на форму. Наконец, перетащите `Customers` узел на элемент управления, привязанный к связанному столбцу — в этом случае <xref:System.Windows.Forms.ComboBox> привязан к `CustomerID` столбца.

## <a name="to-databind-a-lookup-control"></a>Привязки элемента управления

1. Открыв проект, откройте **источников данных** окно, выбрав **представление** > **Other Windows** > **источников данных**.

    > [!NOTE]
    > Таблицы подстановки требуют, что две связанные таблицы или объекты доступны в **источников данных** окна. Дополнительные сведения см. в разделе [отношения в наборах данных](relationships-in-datasets.md).

2. Разверните узлы в **источников данных** окно, пока не будут видны в родительской таблице и все ее столбцы и связанной дочерней таблицы и все ее столбцы.

    > [!NOTE]
    > Узел дочерней таблицы является узел, который отображается в виде расширяемый дочерний узел в родительской таблице.

3. Измените тип удаления для дочерней таблицы **сведения** , выбрав **сведения** в списке элементов управления на узле дочерней таблицы. Дополнительные сведения см. в разделе [задать для элемента управления создается при перетаскивании из окна источников данных](../data-tools/set-the-control-to-be-created-when-dragging-from-the-data-sources-window.md).

4. Найдите узел, между двумя таблицами ( `CustomerID` узел в предыдущем примере). Измените его тип для <xref:System.Windows.Forms.ComboBox> , выбрав **ComboBox** в списке элементов управления.

5. Перетащите главный узел дочерней таблицы из **источников данных** окна на форму.

     Элементы управления с привязкой к данным (с метками описания) и панель инструментов (<xref:System.Windows.Forms.BindingNavigator>) отображаются в форме. Объект [набора данных](../data-tools/dataset-tools-in-visual-studio.md), [TableAdapter](../data-tools/create-and-configure-tableadapters.md), <xref:System.Windows.Forms.BindingSource>, и <xref:System.Windows.Forms.BindingNavigator> отображаются в области компонентов.

6. Теперь перетащите главный узел родительской таблицы из **источников данных** окна непосредственно в элемент управления поиском ( <xref:System.Windows.Forms.ComboBox>).

     Теперь устанавливаются привязок поиска. См. в следующей таблице, для определенных свойств, которые были заданы в элементе управления.

    |Свойство|Пояснение к параметру|
    |--------------| - |
    |**DataSource**|Visual Studio задает для этого свойства <xref:System.Windows.Forms.BindingSource>, созданный для перетаскиваемой на элемент управления таблицы (сравните с созданием <xref:System.Windows.Forms.BindingSource> при создании элемента управления).<br /><br /> Если вы хотите внести корректировку, задайте значение <xref:System.Windows.Forms.BindingSource> таблицы со столбцом, который вы хотите отобразить.|
    |**DisplayMember**|Visual Studio задает для данного свойства первый столбец после первичного ключа, содержащий тип строковых данных для таблицы, которую вы перетаскиваете на элемент управления.<br /><br /> Если вы хотите внести корректировку, задайте имя столбца, который вы хотите отобразить.|
    |**ValueMember**|Visual Studio задает для данного свойства первый столбец, участвующий в первичном ключе, или первый столбец в таблице, если ключ не задан.<br /><br /> Если вы хотите внести корректировку, задайте первичный ключ в таблице со столбцом, который вы хотите отобразить.|
    |**SelectedValue**|Visual Studio задает это свойство в исходный столбец, удалены из **источников данных** окна.<br /><br /> Если вы хотите внести корректировку, задайте столбец внешнего ключа в связанной таблице.|

## <a name="see-also"></a>См. также

- [Привязка элементов управления Windows Forms к данным в Visual Studio](../data-tools/bind-windows-forms-controls-to-data-in-visual-studio.md)