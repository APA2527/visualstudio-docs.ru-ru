---
title: Анализ результатов и ошибок нагрузочных тестов
ms.date: 10/19/2016
ms.topic: conceptual
f1_keywords:
- vs.test.load.monitor.pageresult
- vs.test.load.dialog.column
- vs.test.load.monitor.requestresult
- vs.test.load.monitor.testresult
- vs.test.load.monitor.table.view
- vs.test.load.monitor.agentresult
- vs.test.load.monitor.transactionresult
helpviewer_keywords:
- tables, Load Test Viewer options
- load test results, tables
- load tests, Load Test Viewer
- data [Visual Studio ALM], load test tables
- Load Test Viewer, tables
- load tests, results tables
ms.assetid: 0a84bda3-6051-45eb-9c7f-d57419e1f97d
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 98e54e8e1bec7502e7401dc6a13a639e92c1a881
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62823045"
---
# <a name="analyze-load-test-results-and-errors-in-the-tables-view-of-the-load-test-analyzer"></a>Анализ результатов и ошибок нагрузочного теста в представлении таблиц анализатора тестовой нагрузки

Во время просмотра результатов выполнения нагрузочного теста на экран можно вывести различные панели, предоставляющие разные способы анализа данных. Данные можно отобразить на графике, чтобы проследить их изменение с течением времени, либо данные можно упорядочить в подробных таблицах.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

Чтобы перейти к представлению таблицы, нажмите кнопку **Таблицы** на панели инструментов **нагрузочного теста**. Чтобы переключаться между различными таблицами, воспользуйтесь раскрывающимся списком **Таблица**, расположенным на панели инструментов над таблицей. В режиме таблицы можно просматривать до четырех таблиц одновременно. Дополнительные сведения см. в подразделе [Мозаичное размещение таблиц нагрузочных тестов](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#tile-load-test-tables) ниже.

Большинство числовых значений, отображаемых в таблице счетчиков производительности, накапливаются в течение времени полного выполнения теста. Столбцы с именами **Последний** являются исключением и представляют значение, полученное за последний интервал выборки.

> [!NOTE]
> Столбцы с именами **Последний** доступны только во время выполнения нагрузочного теста. По его завершении они становятся недоступными.

Для сортировки большинства таблиц можно выбрать заголовок столбца, по которому необходимо выполнить сортировку. По умолчанию в некоторых таблицах отображаются не все доступные столбцы. Если столбцы доступны, их можно добавить в таблицу. Для этого щелкните таблицу правой кнопкой мыши таблицу и в контекстном меню выберите команду **Добавить/удалить столбцы**.

> [!NOTE]
> Данные из таблицы можно скопировать в другие приложения, например в программу Excel, и использовать их для дополнительного анализа.

## <a name="the-load-test-tables"></a>Таблицы нагрузочных тестов

В следующей таблице перечислены имеющиеся таблицы для анализа выполнений нагрузочных тестов.

|Имя таблицы|Описание|
|-|-|
|Ошибки|Отображает список ошибок, которые произошли в процессе выполнения нагрузочного теста. Дополнительные сведения см. в [таблице ошибок](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-errors-table) ниже и в разделе [Анализ результатов нагрузочных тестов](../test/analyze-load-test-results-using-the-load-test-analyzer.md).|
|Pages|Отображает список страниц, к которым осуществлялось обращение в процессе выполнения нагрузочного теста. Некоторые данные в этой таблице будут доступны только по завершении нагрузочного теста. Дополнительные сведения см. в разделе [Как просмотреть отклик веб-страницы](../test/how-to-view-web-page-response-time-in-a-load-test.md).|
|Запросы|Отображает сведения для отдельных запросов, выданных во время нагрузочного теста. Сюда входят все HTTP-запросы и зависимые запросы, например изображения. Дополнительные сведения см. в [таблице запросов](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-requests-table) ниже.|
|Трассировка SQL|Отображает результаты трассировки SQL. Эта таблица будет доступна только по завершении нагрузочного теста, и только если в его ходе использовалась трассировка SQL. Дополнительные сведения см. в [таблице трассировки данных SQL](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-sql-trace-data-table) ниже.|
|Тестирует|Отображает сведения для отдельных выполнений тестов во время нагрузочного теста. Дополнительные сведения см. в [таблице тестов](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-tests-table) ниже.|
|Пороговые значения|Отображает список нарушений правил пороговых значений, произошедших во время выполнения нагрузочного теста. Дополнительные сведения см. в разделе [Анализ нарушений правила порога](../test/analyze-threshold-rule-violations-in-load-tests.md).|
|Транзакции|Отображает список транзакций, выполненных во время нагрузочного теста. Дополнительные сведения см. в [таблице транзакций](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-transactions-table) ниже.|
|Агенты|Отображается, только если нагрузочный тест использует контроллер тестирования и агенты тестирования. Отображает список агентов, использовавшихся в процессе выполнения нагрузочного теста. В таблице агентов указывается число запросов, протестированных агентом, и число неудачных запросов. Кроме того, в таблице "Агенты" содержится число тестов из набора нагрузочных тестов, выполненных агентом, а также число непройденных тестов.|
|Сведения о тесте|Отображает сведения о тестах, входящих в набор нагрузочных тестов. Эти сведения включают имя теста, сценарий, к которому принадлежит тест, время запуска теста, длительность выполнения тестов, а также результат каждого теста (пройден или не пройден). Если тест не пройден, в столбце **Подробности** указана соответствующая ссылка. Эта ссылка открывает редактор веб-тестов производительности с выделенным запросом, вызвавшем сбой.|

## <a name="collect-percentile-data"></a>Сбор данных процентиля

 Некоторые таблицы нагрузочных тестов могут содержать дополнительные столбцы, в которых представлены данные процентиля и значения времени ответа, сгруппированные на основании эмуляции сети. По умолчанию эти данные не собираются. Данные процентилей доступны только при сохранении результатов в базу данных, но не локально. Дополнительные сведения см. в статье [Управление результатами нагрузочного теста в репозитории результатов нагрузочного теста](../test/manage-load-test-results-in-the-load-test-results-repository.md). Кроме того, для сбора этих данных в **редакторе тестовой нагрузки** в узле **Параметры запуска** выберите узел параметров запуска, который нужно изменить. В окне **Свойства** задайте для свойства **Хранилище сведений о синхронизации** значение **StatisticsOnly** или **AllIndividualDetails**. Дополнительные сведения см. в разделе [Как просмотреть отклик веб-страницы](../test/how-to-view-web-page-response-time-in-a-load-test.md).

## <a name="the-requests-table"></a>Таблица "Запросы"

 В таблице **Запросы** представлены сведения для отдельных запросов, выданных в нагрузочном тесте. Сюда входят все HTTP-запросы и зависимые запросы, например изображения. В таблице запросы перечислены по тесту и сценарию, поскольку один запрос может входить в несколько тестов и сценариев.

 В следующей таблице представлены столбцы из таблицы **Запросы**:

|Столбец|Описание|Отображается по умолчанию|
|-|-|-|
|**Запрос**|URL-адрес запроса. Например, *home.html* или *orange-arrow.gif*.|Да|
|**Сценарий**|Имя сценария.|Да|
|**Тест**|Имя теста.|Да|
|**Итого**|Общее число запросов этого веб-теста производительности, выданных во время выполнения нагрузочного теста. В это число входят успешные и неудачные запросы. Кэшированные запросы сюда не входят, поскольку они не передаются на веб-сервер.|Да|
|**Выполнено**|Количество раз вызовов и передач запроса.|Нет|
|**Сбой**|Количество раз вызовов и сбоев при выполнении запроса. Записи в этом столбце представлены в виде гиперссылок. Чтобы просмотреть список отдельных ошибок в диалоговом окне **Ошибки при загрузке теста**, выберите любую гиперссылку. Дополнительные сведения см. в разделе [Анализ результатов нагрузочных тестов](../test/analyze-load-test-results-using-the-load-test-analyzer.md).|Да|
|**Кэшировано**|Общее количество раз кэширования запроса.|Нет|
|**Запросов/с**|Скорость запроса во время выполнения нагрузочного теста.|Нет|
|**Пройденных в секунду**|Скорость переданных запросов во время выполнения нагрузочного теста.|Нет|
|**Не пройденных в секунду**|Скорость запросов, при передаче которых произошла ошибка, во время выполнения нагрузочного теста.|Нет|
|**Время обработки запроса**|Среднее время получения первого байта ответа, измеренное с момента отправки запроса на веб-сервер. Единицей измерения является секунда.|Нет|
|**Время отклика**|Среднее время получения полного ответа на запрос, измеренное с момента отправки запроса на веб-сервер. Единицей измерения является секунда.|Да|
|**Длина содержимого**|Средняя длину содержимого ответа на запрос. Единицей измерения является байт.|Да|

## <a name="the-tests-table"></a>Таблица "Тесты"

 В таблице **Тесты** представлены сведения об отдельных тестах, выполняемых во время нагрузочного теста. В таблице тесты перечислены по тесту и сценарию, поскольку один тест может входить в состав нескольких сценариев.

 В следующей таблице представлены столбцы таблицы **Тесты**.

|Столбец|Описание|Отображается по умолчанию|
|-|-|-|
|**Тест**|Имя теста.|Да|
|**Сценарий**|Имя сценария.|Да|
|**Итого**|Общее количество раз выполнения теста в сценарии. В это число входит количество раз успешного и неудачного выполнения теста.|Да|
|**Выполнено**|Количество раз успешного выполнения теста в сценарии.|Да|
|**Сбой**|Количество раз неудачного выполнения теста в сценарии. Записи в этом столбце представлены в виде гиперссылок. Чтобы просмотреть список отдельных ошибок в диалоговом окне **Ошибки при загрузке теста**, выберите любую гиперссылку. Дополнительные сведения см. в разделе [Анализ результатов нагрузочных тестов](../test/analyze-load-test-results-using-the-load-test-analyzer.md).|Да|
|**Тестов в секунду**|Скорость теста во время выполнения нагрузочного теста.|Да|
|**Пройденных в секунду**|Скорость выполненных тестов во время выполнения нагрузочного теста.|Нет|
|**Не пройденных в секунду**|Скорость неудачных тестов во время выполнения нагрузочного теста.|Нет|
|**Время теста**|Среднее время выполнения теста во время нагрузочного теста. Единицей измерения является секунда.|Да|
|**90 % времени теста**|Значение процентиля 90 для времени выполнения теста.|Нет|
|**95 % времени теста**|Значение процентиля 95 для времени выполнения теста.|Да|
|**Запросы/тест**|Среднее число запросов в тесте, если это веб-тест производительности.|Нет|

## <a name="the-transactions-table"></a>Таблица "Транзакции"

 В таблице **Транзакции** представлен список транзакций, происходящих во время выполнения нагрузочного теста. Транзакции ссылаются либо на транзакции, определенные в веб-тесте производительности, либо на таймеры, определенные в модульном тесте. Транзакции не ссылаются на транзакции базы данных.

 В следующей таблице перечислены столбцы таблицы **Транзакции**.

> [!NOTE]
> Чтобы увидеть все столбцы, необходимо включить свойство "Хранилище сведений о времени", связанное с параметрами активного запуска. Дополнительные сведения см. в разделе [Как указать свойство хранилища сведений о синхронизации](../test/how-to-specify-the-timing-details-storage-property-for-a-load-test.md).

|Столбец|Описание|Отображается без сведений о синхронизации|
|-|-|-|
|**Транзакция**|Имя транзакции.|Да|
|**Сценарий**|Имя сценария.|Да|
|**Тест**|Имя теста.|Да|
|**Итого**|Общее число транзакций, выданных во время выполнения нагрузочного теста.|Да|
|**Время транзакции**|Время выполнения транзакции во время нагрузочного теста. Для веб-тестов производительности в расчет включается время обработки пользователем. Единицей измерения является секунда.|Нет|
|**Время отклика**|Время отклика для транзакции веб-теста производительности в нагрузочном тесте. Время ответа отличается от времени транзакции. Время ответа не учитывает время задержек, которое имеет место при транзакции. Единицей измерения является секунда.|Нет|
|**Среднее время транзакции**|Среднее время транзакции. Это время включает время обработки. Например, если каждый из трех запросов имеет время обработки, среднее время будет учитывать отрезки времени обработки и фактическое время выполнения запросов.|Нет|
|**Среднее время отклика**|Среднее время ответа для транзакции веб-теста производительности в нагрузочном тесте. Время ответа отличается от времени транзакции. Время ответа не учитывает время задержек, которое имеет место при транзакции. Единицей измерения является секунда.|Нет|
|**Минимальное значение: время отклика**|Это время не включает время обработки.|Нет|
|**Максимальное значение: время отклика**|Это время не включает время обработки.|Нет|
|**Медиана: время отклика**|Это время не включает время обработки.|Нет|
|**90 %: время отклика**|Значение процентиля 90 для времени транзакции. Это время не включает время обработки. **Примечание.**  Это поведение отличается от Visual Studio Team System 2008 Load Test Agent, где использовалось значение **90 % времени транзакции**.|Нет|
|**95 %: время отклика**|Значение процентиля 95 для времени транзакции. Это время не включает время обработки. **Примечание.**  Это поведение отличается от Visual Studio Team System 2008 Load Test Agent, где использовалось значение **95 % времени транзакции**.|Нет|
|**99 %: время отклика**|Значение процентиля 99 для времени транзакции. Это время не включает время обработки.|Нет|
|**Стандартное отклонение: время отклика**|Это время не включает время обработки.|Нет|

## <a name="the-errors-table"></a>Таблица ошибок

 При выполнении нагрузочных тестов выполняется анализ возникающих ошибок. Анализ ошибок и настройка тестов являются важной частью процесса нагрузочного теста. При возникновении любых ошибок в строке состояния нагрузочного теста появляется гиперссылка **ошибки** и указывается количество ошибок. Чтобы открыть таблицу, выберите гиперссылку.

 Ошибки, возникшие во время выполнения нагрузочного теста, сгруппированы в таблице по типу и подтипу ошибки. Кроме того, в таблице имеется строка **Итого**, где указывается общее количество ошибок.

 Таблица ошибок содержит следующие столбцы.

|Столбец|Описание|Отображается по умолчанию|
|-|-|-|
|Тип|Тип ошибки. Например, HttpError.|Да|
|Подтип|Подтип ошибки. Например, LoadTestException.|Да|
|Количество|Число ошибок данного типа, возникших во время нагрузочного теста. Записи в этом столбце представлены в виде гиперссылок. Для просмотра списка отдельных ошибок нужно выбрать гиперссылку.|Да|
|Последнее сообщение|Сообщение, описывающее ошибку. Например, 404 - NotFound.|Да|

 Дополнительные сведения см. в разделе [Работа с таблицами нагрузочных тестов](../test/analyze-load-test-results-and-errors-in-the-tables-view.md).

### <a name="drill-down-to-the-error-list"></a>Детализация списка ошибок

В таблице ошибки сгруппированы по типу и подтипу. Для просмотра таблицы отдельных ошибок используется диалоговое окно **Ошибки нагрузочного теста**. Чтобы открыть диалоговое окно, выберите гиперссылку в столбце **Число** таблицы ошибок. Также для его открытия можно щелкнуть правой кнопкой мыши строку с ошибкой в таблице ошибок и выбрать **Ошибки**.

> [!NOTE]
> Собирается только первая тысяча экземпляров любой комбинации типа и подтипа ошибки. В диалоговом окне **Ошибки нагрузочного теста** отображается не больше 1000 первых экземпляров ошибки.

Таблица **Ошибки нагрузочного теста** содержит следующие столбцы:

|Столбец|Описание|
|-|-|
|**Время**|Время возникновения ошибки в нагрузочном тесте.|
|**Агент**|Имя агентского компьютера, на котором возникла ошибка. Это важно при выполнении нагрузочных тестов с использование контроллеров и агентов тестирования. Дополнительные сведения см. в статье [Установка и настройка агентов тестирования](../test/lab-management/install-configure-test-agents.md).|
|**Тест**|Имя веб-теста производительности, в котором возникла ошибка.|
|**Сценарий**|Имя сценария, в котором возникла ошибка.|
|**Запрос**|URL-адрес запроса, в котором возникла ошибка.|
|**Type**|Тип ошибки. Например, HttpError.|
|**Подтип**|Подтип ошибки. Например, LoadTestException.|
|**Text**|Текст сообщения об ошибке. Например, 404 - NotFound.|
|**Стек**|Столбец либо пуст, либо содержит слово **Stack** в формате гиперссылки. Для просмотра трассировки стека следует выбрать гиперссылку.|
|**Подробные сведения**|Столбец либо пуст, либо содержит слово **TestLog** в формате гиперссылки. Эта ссылка может помочь при обнаружении ошибок в нагрузочном тесте. Например, если выбрать ссылку **TestLog** в ошибке запроса веб-теста производительности, в средстве просмотра веб-тестов производительности откроются результаты веб-теста, в которых будет выделена ошибка запроса.|

> [!NOTE]
> Чтобы сортировать таблицу, можно выбирать заголовки столбцов.

## <a name="the-sql-trace-data-table"></a>Таблица данных трассировки SQL

Данные трассировки SQL можно собирать во время выполнения нагрузочного теста для их последующего анализа. Собранные данные позволяют определить самые медленные из выполняемых запросов и хранимых процедур в тестируемой базе данных SQL Server.

После этого во время выполнения нагрузочного теста будет создан файл, содержащий данные трассировки. После завершения выполнения теста и удаления файла трассировки эти данные автоматически сохранятся в хранилище результатов нагрузочного теста. По окончании теста данные анализируются в таблице **Трассировка SQL**.

### <a name="to-view-sql-trace-data"></a>Просмотр данных трассировки SQL

1. В анализаторе тестовой нагрузки нажмите кнопку **Таблицы** на панели инструментов и убедитесь, что сетка таблицы отображается.

2. В раскрывающемся списке **Таблица** выберите вариант **Трассировка SQL**.

3. В таблице будут отображенные данные трассировки, собранные во время выполнения. Операции SQL перечислены в порядке сокращения длительности их выполнения. Первым обычно изучается столбец **Длительность**. Данные отображаются в миллисекундах.

   Столбцы отображаются в следующем порядке.

    - **Класс event**

    - **Длительность**

    - **ЦП**

    - **Число считываний**

    - **Число записей**

    - **TextData**

    - **StartTime**

    - **EndTime**

   Для трассировки событий SQL, отличных от данных, указанных в этих столбцах, следует создать пользовательскую трассировку SQL с помощью средства SQL Profiler, которое не входит в Visual Studio.

## <a name="tile-load-test-tables"></a>Мозаичное заполнение таблиц нагрузочных тестов

Результаты выполнения нагрузочного теста можно просматривать в виде подробных таблиц. Чтобы перейти к представлению таблицы, нажмите кнопку **Таблицы** на панели инструментов **нагрузочного теста**. Доступны следующие таблицы: **Ошибки**, **Страницы**, **Запросы**, **Трассировка SQL**, **Тесты**, **Пороговые значения**, **Транзакции**. Дополнительные сведения см. в разделе [Работа с таблицами нагрузочных тестов](../test/analyze-load-test-results-and-errors-in-the-tables-view.md).

В режиме таблицы можно одновременно просматривать до четырех неперекрывающихся таблиц.

### <a name="to-tile-tables"></a>Мозаичное расположение таблиц

1. На панели инструментов **анализатора тестовой нагрузки** щелкните элемент **Таблицы**.

     Откроется представление таблицы. Макетом по умолчанию являются две горизонтальные панели.

2. На панели инструментов **анализатора тестовой нагрузки** нажмите кнопку **макета**, а затем выберите один из следующих параметров:

    - **Одна панель**

    - **Две панели по горизонтали**

    - **Три панели по горизонтали**

    - **Четыре панели по горизонтали**

3. Для перехода между различными таблицами служит раскрывающийся список, расположенный над сеткой в каждой панели.

    > [!NOTE]
    > Отображение одной и той же таблицы допускается только на одной панели. При изменении таблицы, отображаемой на одной панели, на таблицу, уже выведенную на другой, таблицы переключают панели.

## <a name="see-also"></a>См. также

- [Анализ результатов нагрузочных тестов](../test/analyze-load-test-results-using-the-load-test-analyzer.md)
- [Практическое руководство. обращение к результатам нагрузочного теста для их анализа](../test/how-to-access-load-test-results-for-analysis.md)
- [Анализ результатов нагрузочного тестирования в представлении диаграмм](../test/analyze-load-test-results-in-the-graphs-view.md)
- [Анализ нарушений правил порогов](../test/analyze-threshold-rule-violations-in-load-tests.md)
- [Управление результатами нагрузочного теста в репозитории результатов нагрузочного теста](../test/manage-load-test-results-in-the-load-test-results-repository.md)
- [Обзор сводки по результатам нагрузочного теста](../test/load-test-results-summary-overview.md)