---
title: Приступая к работе с модульным тестированием
ms.date: 04/01/2019
ms.topic: conceptual
helpviewer_keywords:
- unit testing, create unit test plans
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: a01f08d430e9812283c3f5179e08d20f98a687a4
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63003163"
---
# <a name="get-started-with-unit-testing"></a>Приступая к работе с модульным тестированием

Используйте Visual Studio, чтобы определить и запустить модульные тесты для обеспечения работоспособности кода, нужного объема протестированного кода, а также для обнаружения ошибок и сбоев, прежде чем с ними столкнутся клиенты. Выполняйте модульные тесты регулярно, чтобы обеспечить правильную работу вашего кода.

## <a name="create-unit-tests"></a>Создание модульных тестов

В этом разделе в общих чертах описывается создание проекта модульного теста.

1. Откройте проект, который хотите протестировать в Visual Studio.

   Для наглядности в статье проводится модульный тест простого проекта Hello World. Пример кода для такого проекта выглядит следующим образом:

   ```csharp
   public class Program
   {
       public static void Main()
       {
           Console.WriteLine("Hello World!");
       }
   }
   ```

1. Выберите узел решения в **обозревателе решений**. Затем в верхней строке меню выберите **Файл** > **Добавить** > **Новый проект**.

1. В диалоговом окне создания проекта найдите шаблон проекта модульных тестов, который требуется использовать, и выберите его.

   ::: moniker range=">=vs-2019"

   ![Шаблон проекта модульных тестов в Visual Studio 2019](media/vs-2019/add-new-test-project.png)

   Нажмите **Далее**, выберите имя для тестового проекта и нажмите **Создать**.

   ::: moniker-end

   ::: moniker range="vs-2017"

   ![Шаблон проекта модульных тестов в Visual Studio 2019](media/mstest-test-project-template.png)

   Выберите имя для тестового проекта и нажмите **OK**.

   ::: moniker-end

   Проект добавляется в решение.

   ![Проект модульного теста в обозревателе решений](media/vs-2019/solution-explorer.png)

1. В проекте модульных тестов добавьте ссылку на проект, который необходимо протестировать, щелкнув правой кнопкой мыши **Ссылки** или **Зависимости**, и выберите **Добавить ссылку**.

1. Выберите проект, содержащий код, который будет тестироваться, и нажмите **OK**.

   ![Добавление ссылок на проект в Visual Studio](media/vs-2019/reference-manager.png)

1. Добавьте код в метод модульных тестов.

   ![Добавление кода в метод модульных тестов в Visual Studio](media/vs-2019/unit-test-method.png)

> [!TIP]
> Более подробные инструкции по созданию модульных тестов см. в статье [Пошаговое руководство. Создание и запуск модульных тестов для управляемого кода](walkthrough-creating-and-running-unit-tests-for-managed-code.md).

## <a name="run-unit-tests"></a>Запуск модульных тестов

1. Откройте [Обозреватель тестов](../test/run-unit-tests-with-test-explorer.md), выбрав **Тест** > **Windows** > **Обозреватель тестов** в верхней строке меню.

1. Выполните модульные тесты, щелкнув **Запустить все**.

   ![Выполнение модульных тестов в обозревателе тестов](media/vs-2019/test-explorer-run-all.png)

   После завершения зеленый флажок указывает, что тест пройден. Красный значок "x" указывает на сбой теста.

   ![Просмотр результатов тестов в обозревателе тестов](media/vs-2019/unit-test-passed.png)

> [!TIP]
> Используйте [обозреватель тестов](../test/run-unit-tests-with-test-explorer.md) для запуска модульных тестов из встроенной платформы тестирования (MSTest) или сторонней платформы тестирования. Вы можете группировать тесты по категориям, фильтровать список тестов, а также создавать, сохранять и запускать списки воспроизведения тестов. Кроме того, с его помощью можно выполнять отладку тестов и анализировать производительность тестов и покрытие кода.

## <a name="view-live-unit-test-results"></a>Просмотр динамических результатов модульных тестов

Если вы используете платформу тестирования MSTest, xUnit или NUnit в Visual Studio 2017 или более поздней версии, можно просмотреть динамические результаты модульных тестов.

> [!NOTE]
> Live Unit Testing доступен только в выпуске Enterprise.

1. Включите Live Unit Testing в меню **Тест**, выбрав **Тест** > **Live Unit Testing** > **Запустить**.

   ::: moniker range="vs-2017"

   ![Включение Live Unit Testing](media/live-test-results-start.png)

   ::: moniker-end

   ::: moniker range=">=vs-2019"

   ![Запуск Live Unit Testing в Visual Studio 2019](media/vs-2019/start-live-unit-testing.png)

   ::: moniker-end

1. Вы можете просматривать результаты тестов в окне редактора кода по мере написания и редактирования кода.

   ![Просмотр результатов тестов](media/vs-2019/live-unit-testing-results.png)

1. Щелкните индикатор результатов теста для просмотра дополнительных сведений, таких как имена тестов для этого метода.

   ![Выберите индикаторы результатов тестов](media/vs-2019/live-unit-testing-details.png)

Дополнительные сведения о Live Unit Testing см. в разделе [Live Unit Testing](../test/live-unit-testing-intro.md).

## <a name="generate-unit-tests-with-intellitest"></a>Создание модульных тестов с помощью IntelliTest

При запуске IntelliTest видно, какие тесты завершились сбоем, и можно добавить код для их исправления. Вы можете выбрать, какие созданные тесты следует сохранить в тестовый проект, чтобы предоставить набор регрессий. Изменив код, необходимо перезапустить IntelliTest, чтобы синхронизировать созданные тесты с изменениями в коде. Чтобы узнать, как это сделать, см. статью [Создание модульных тестов для кода с помощью IntelliTest](../test/generate-unit-tests-for-your-code-with-intellitest.md).

> [!TIP]
> IntelliTest доступен только для управляемого кода, предназначенного для .NET Framework.

![Создание модульных тестов с помощью IntelliTest](media/intellitest.png)

## <a name="analyze-code-coverage"></a>Анализ покрытия кода

Чтобы определить, какая часть кода проекта в действительности тестируется закодированными тестами, такими как модульные тесты, можно воспользоваться возможностью покрытия кода в Visual Studio. Для эффективного обнаружения ошибок тесты должны выполнять значительную часть кода. Чтобы узнать, как это сделать, см. статью [Использование покрытия кода для определения объема протестированного кода](../test/using-code-coverage-to-determine-how-much-code-is-being-tested.md).

## <a name="use-a-third-party-test-framework"></a>Использование сторонней платформы тестирования

Модульные тесты можно выполнять в Visual Studio с помощью сторонних платформ тестирования, таких как Boost, Google и NUnit. Используйте **диспетчер пакетов NuGet**, чтобы установить пакет NuGet для выбранной платформы. Или, для платформ тестирования NUnit и xUnit, Visual Studio включает предварительно настроенные шаблоны проекта тестирования, которые включают необходимые пакеты NuGet.

Чтобы создать модульные тесты, использующие [NUnit](https://nunit.org/):

1. Откройте решение, содержащее код, который нужно протестировать.

2. В **обозревателе решений** щелкните решение правой кнопкой мыши и выберите **Добавить** > **Создать проект**.

3. Выберите шаблон проекта **Тестовый проект NUnit**.

   ::: moniker range=">=vs-2019"

   ![Шаблон проекта тестирования NUnit в Visual Studio 2019](media/vs-2019/nunit-test-project-template.png)

   Щелкните **Далее**, назовите проект и нажмите кнопку **Создать**.

   ::: moniker-end

   ::: moniker range="vs-2017"

   Задайте проекту имя и нажмите **ОК**, чтобы создать его.

   ::: moniker-end

   Шаблон проекта содержит ссылки на пакеты NuGet для NUnit и NUnit3TestAdapter.

   ![Зависимости NUnit NuGet в обозревателе решений](media/vs-2019/nunit-nuget-dependencies.png)

4. Добавьте ссылку из проекта тестирования на проект, содержащий код, который вы хотите протестировать.

5. Добавьте код в метод теста.

   ![Добавление кода в файл кода модульного теста](media/vs-2019/unit-test-method.png)

6. Запустите тест в **обозревателе тестов** или щелкните правой кнопкой мыши в коде теста и выберите **Запустить тесты**.

## <a name="see-also"></a>См. также

* [Пошаговое руководство: создание и запуск модульных тестов для управляемого кода](walkthrough-creating-and-running-unit-tests-for-managed-code.md)
* [Команда "Создать модульные тесты"](create-unit-tests-menu.md)
* [Создание тестов с помощью IntelliTest](generate-unit-tests-for-your-code-with-intellitest.md)
* [Выполнение тестов с помощью обозревателя тестов](run-unit-tests-with-test-explorer.md)
* [Использование покрытия кода для определения объема протестированного кода](using-code-coverage-to-determine-how-much-code-is-being-tested.md)