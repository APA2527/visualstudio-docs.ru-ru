---
title: Управление npm-пакетами
description: Visual Studio позволяет управлять пакетами с помощью диспетчера пакетов Node.js (npm)
ms.custom: seodec18
ms.date: 06/06/2018
ms.topic: conceptual
ms.devlang: javascript
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- JavaScript
ms.workload:
- nodejs
ms.openlocfilehash: de92c3f1f0d0e29d1ba2dfaf5d536a42e636be2c
ms.sourcegitcommit: cc841df335d1d22d281871fe41e74238d2fc52a6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/18/2020
ms.locfileid: "79307223"
---
# <a name="manage-npm-packages-in-visual-studio"></a>Управление пакетами npm в Visual Studio

npm позволяет устанавливать пакеты для приложений Node.js и управлять ими. Если вы не знакомы с npm и хотите узнать больше, перейдите на страницу [документации npm](https://docs.npmjs.com/).

Visual Studio позволяет легко взаимодействовать с npm и использовать команды npm через пользовательский интерфейс или напрямую. Можно использовать следующие методы:
* [Установка пакетов из обозревателя решений](#npmInstallWindow)
* [Управление установленными пакетами из обозревателя решений](#solutionExplorer)
* [Использование команды `.npm` в интерактивном окне Node.js](#interactive)

Эти функции работают вместе и синхронизируются с системой проекта и файлом *package.json* в проекте.

> [!Important]
> NPM ожидает найти папку *node_modules* и *package.json* в корневом каталоге проекта. Если структура папок вашего приложения отличается, можно изменить ее, если вы хотите управлять пакетами npm с помощью Visual Studio.

> [!NOTE]
> Для существующих проектов NPM используйте шаблон решения **Из существующего кода Node.js**.

## <a name="npmInstallWindow"></a> Установка пакетов из обозревателя решений

Самый простой способ установить пакеты npm — через окно установки пакетов npm. Чтобы открыть это окно, щелкните правой кнопкой мыши узел **npm** в проекте и выберите пункт **Установить новые пакеты npm**.

![Установка нового пакета npm из обозревателя решений](../javascript/media/solution-explorer-install-package.png)

В этом окне можно найти пакет, указать параметры и установить пакет.

![Поиск пакета npm](../javascript/media/search-package.png)

* **Тип зависимости** — выберите **Стандартный**, **Разработка** или **Необязательный**. Вариант "Стандартный" означает, что пакет является зависимостью среды выполнения, а вариант "Разработка" указывает, что пакет необходим только во время разработки.
* **Добавить в package.json** — этот параметр устарел
* **Выбранная версия** — выберите версию пакета, который вы хотите установить.
* **Другие аргументы npm** — укажите другие стандартные аргументы npm. Вы можете указать значение версии, например `@~0.8`, чтобы установить определенную версию, которая недоступна в списке версий.

Ход выполнения установки отображается на вкладке npm в окне вывода. Это может занять некоторое время.

> [!TIP]
> Если вы хотите найти пакеты с заданной областью, добавьте в начало поискового запроса нужную область, например, введите `@types/mocha`, чтобы искать файлы определений TypeScript для mocha. Кроме того, при установке определений типов для TypeScript можно указать целевую версию TypeScript, добавив `@ts2.6` в поле аргумента npm.

## <a name="solutionExplorer"></a>Управление установленными пакетами из обозревателя решений

Пакеты npm отображаются в обозревателе решений. Записи в узле **npm** повторяют зависимости в файле *package.json*.

![Поиск пакета npm](../javascript/media/solution-explorer-status.png)

### <a name="package-status"></a>Состояние пакета
* ![Установленный пакет](../javascript/media/installed-npm.png) — установлен и указан в package.json
* ![Лишний пакет](../javascript/media/extraneous-npm.png) — установлен, но явно не указан в файле package.json
* ![Отсутствующий пакет](../javascript/media/missing-npm.png) — не установлен, но указан в package.json

Щелкните правой кнопкой мыши узел пакета или узел **npm** и выполните одно из следующих действий:
* **Установите отсутствующие пакеты**, указанные в *package.json*
* **Обновите пакеты** до последней версии
* **Удалите пакет** и исключите его из *package.json*

## <a name="interactive"></a>Использование команды .npm в интерактивном окне Node.js

Вы также можете использовать команду `.npm` в интерактивном окне Node.js для выполнения команды npm. Чтобы открыть окно, в обозревателе решений щелкните проект правой кнопкой мыши и выберите пункт **Открыть интерактивное окно Node.js**.

В этом окне вы можете использовать следующие команды для установки пакета:

`.npm install azure@4.2.3`

 > [!Tip]
 > По умолчанию npm будет выполняться в домашнем каталоге проекта. Если у вас несколько проектов в решении, укажите имя или путь к проекту в квадратных скобках.
 > `.npm [MyProjectNameOrPath] install azure@4.2.3`

 > [!Tip]
 > Если проект не содержит файл package.json, используйте `.npm init -y`, чтобы создать файл package.json со значениями по умолчанию.
