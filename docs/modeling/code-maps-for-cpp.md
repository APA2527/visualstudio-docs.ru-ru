---
title: Просмотр зависимостей между исходных файлов C++ и файлами заголовков
ms.date: 05/16/2018
ms.topic: conceptual
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 3904ff08496257d18589e36e5878f49404bbdf7c
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62422192"
---
# <a name="code-maps-for-c-projects"></a>Карты кода для проектов C++

Если нужно создать более полные карты для проектов C++, установите в этих проектах параметр компилятора для просмотра информации (**/FR**). В противном случае отобразится запрос на установку этого параметра. При нажатии кнопки **ОК**этот параметр будет установлен только для текущей карты. Вы можете скрыть это сообщение для всех последующих карт.

При открытии решения, содержащего проекты Visual C++, обновление базы данных IntelliSense может занять некоторое время. В течение этого времени может не появиться возможность создавать карты кода для заголовка (*.h* или `#include`) файлы, пока не завершится обновление базы данных IntelliSense. Вы можете наблюдать за ходом обновления в строке состояния Visual Studio.

- Чтобы просмотреть зависимости между всеми исходными файлами и файлами заголовков в решении, выберите **архитектура** > **создать диаграмму включаемых файлов**.

   ![Граф зависимостей для машинного кода](../modeling/media/dependencygraphgeneral_nativecode.png)

- Чтобы просмотреть зависимости между открытым файлом и связанными с ним исходными файлами и файлами заголовков, откройте либо исходный файл, либо файл заголовка. Откройте контекстное меню в любом месте файла. Выберите пункт **Создать диаграмму включаемых файлов**.

   ![Граф зависимостей первого уровня для H-файла](../modeling/media/dependencygraph_native_firstlevel.png)

## <a name="troubleshoot-code-maps-for-c-and-c-code"></a>Устранение неполадок в картах кода для кода C и C++

Для кода C и C++ не поддерживаются указанные ниже элементы.

- Базовые типы не отображаются на картах, включающих родительскую иерархию.

- Большинство пунктов меню **Показать** недоступны для кода C и C++.

При создании карты кода для кода C и C++, могут возникнуть следующие проблемы:

|**Проблема**|**Возможная причина**|**Решение**|
|-|-|-|
|Не удалось создать карту кода.|Отсутствуют успешно собранные проекты в решении.|Устраните возникшие ошибки сборки и создайте карту кода заново.|
|Visual Studio перестает отвечать на запросы при попытке создать карту кода из **архитектура** меню.|Файл базы данных программы (PDB) может быть поврежден.<br /><br /> В PDB-файле хранятся сведения для отладки, такие как сведения о типе, методе и исходном файле.|Выполните сборку решения еще раз и повторите попытку.|
|Некоторые параметры базы данных обзора IntelliSense отключены.|Возможно, некоторые параметры IntelliSense отключены в Visual Studio **параметры** диалоговое окно.|Включите нужные параметры.<br /><br /> См. в разделе [параметры "," Текстовый редактор "," C/C++, Дополнительно](../ide/reference/options-text-editor-c-cpp-advanced.md).|
|В узле методов выводится сообщение **Неизвестные методы** .<br /><br /> Эта проблема возникает из-за невозможности разрешить имя метода.|Возможно, в двоичном файле отсутствует базовая таблица перемещений.|Включите параметр **/FIXED:NO** в компоновщике.|
||Возможно, не выполнена сборка файла базы данных программы (PDB).<br /><br /> В PDB-файле хранятся сведения для отладки, такие как сведения о типе, методе и исходном файле.|Включите параметр **/DEBUG** в компоновщике.|
||Невозможно открыть или найти PDB-файл в ожидаемом местоположении.|Убедитесь в том, что PDB-файл существует в ожидаемом местоположении.|
||Сведения, необходимые для отладки, удалены из PDB-файла.|Если в компоновщике использовался параметр **/PDBSTRIPPED** , включите полный PDB-файл.|
||Вызывающий объект не является функцией и представляет собой либо преобразователь в двоичном файле, либо указатель в разделе данных.|Если вызывающим объектом является преобразователь, попробуйте использовать `_declspec(dllimport)` , чтобы избежать преобразования.|

## <a name="see-also"></a>См. также

- [Сопоставление зависимостей с помощью карт кода](../modeling/map-dependencies-across-your-solutions.md)