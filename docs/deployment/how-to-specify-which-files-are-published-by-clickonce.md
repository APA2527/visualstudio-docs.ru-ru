---
title: Указание файлов для публикации (ClickOnce)
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
f1_keywords:
- Microsoft.VisualStudio.Publish.BaseProvider.Dialog.File
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, file exclusion
- files, publishing via ClickOnce
ms.assetid: 579c134a-d50f-4e0c-8e05-2a4ff654896a
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: afa77b8a69151509455e149c168cbf94e5ad56f8
ms.sourcegitcommit: 566144d59c376474c09bbb55164c01d70f4b621c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2020
ms.locfileid: "90809496"
---
# <a name="how-to-specify-which-files-are-published-by-clickonce"></a>Практическое руководство. Задание файлов, публикуемых с помощью ClickOnce
При публикации [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложения все файлы, не являющиеся файлами кода проекта, развертываются вместе с приложением. В некоторых случаях может не потребоваться публикация определенных файлов или установка определенных файлов на основе условий. Visual Studio предоставляет возможности для исключения файлов, пометки файлов как файлов данных или необходимых компонентов, а также создания групп файлов для условной установки.

 Управление файлами для [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложения осуществляется в диалоговом окне **файлы приложения** , доступном на странице **Публикация** в **конструкторе проектов**.

 Изначально имеется одна файловая группа с именем **(обязательно)**. Можно создавать дополнительные группы файлов и назначать им файлы. Нельзя изменить **группу загрузки** для файлов, необходимых для запуска приложения. Например, exe-файл или файлы приложения, помеченные как файлы данных, должны принадлежать к группе **(обязательно)** .

 Значение состояния публикации по умолчанию для файла помечается как **(Auto)**. Например, по умолчанию приложение. exe имеет состояние публикации **include (авто)** .

 Файлы со свойством **действия построения** , равным **содержимому** , обозначаются как файлы приложения и будут помечены как включаемые по умолчанию. Они могут быть включены, исключены или помечены как файлы данных. Исключения:

- Файлы данных, такие как файлы базы данных SQL (*MDF* и *MDB*) и XML-файлы, по умолчанию будут помечены как файлы данных.

- Ссылки на сборки (*DLL* -файлы) определяются следующим образом при добавлении ссылки: Если параметр **Copy Local** имеет **значение false**, по умолчанию он помечается как обязательная сборка (**Предварительные требования (Auto)**), которая должна присутствовать в глобальном кэше сборок перед установкой приложения. Если параметр **Copy Local** имеет **значение true**, сборка помечается по умолчанию как сборка приложения (**включая (Auto)**) и копируется в папку приложения при установке. Ссылка COM будет отображаться в диалоговом окне **файлы приложения** (в виде *OCX* -файла) только в том случае, если его **изолированное** свойство имеет значение **true**. По умолчанию он будет добавлен.

### <a name="to-add-files-to-the-application-files-dialog-box"></a>Добавление файлов в диалоговое окно «файлы приложения»

1. Выберите файл данных в **Обозреватель решений**.

2. В окно свойств измените свойство **действие сборки** на значение **содержимого** .

### <a name="to-exclude-files-from-clickonce-publishing"></a>Исключение файлов из публикации ClickOnce

1. Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.

2. Перейдите на вкладку **Публикация**.

3. Нажмите кнопку **файлы приложения** , чтобы открыть диалоговое окно **файлы приложения** .

4. В диалоговом окне **файлы приложения** выберите файл, который вы хотите исключить.

5. В поле **состояние публикации** выберите **исключить** из раскрывающегося списка.

### <a name="to-mark-files-as-data-files"></a>Пометка файлов как файлов данных

1. Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.

2. Перейдите на вкладку **Публикация**.

3. Нажмите кнопку **файлы приложения** , чтобы открыть диалоговое окно **файлы приложения** .

4. В диалоговом окне **файлы приложения** выберите файл, который вы хотите пометить как данные.

5. В поле **состояние публикации** выберите **файл данных** из раскрывающегося списка.

### <a name="to-mark-files-as-prerequisites"></a>Пометка файлов как необходимых

1. Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.

2. Перейдите на вкладку **Публикация**.

3. Нажмите кнопку **файлы приложения** , чтобы открыть диалоговое окно **файлы приложения** .

4. В диалоговом окне **файлы приложения** выберите сборку приложения (*DLL* -файл), которую нужно пометить как обязательный компонент. Обратите внимание, что для отображения в списке приложение должно иметь ссылку на сборку приложения.

5. В поле **состояние публикации** выберите **предварительное условие** в раскрывающемся списке.

### <a name="to-add-a-new-file-group"></a>Добавление новой файловой группы

1. Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.

2. Перейдите на вкладку **Публикация**.

3. Нажмите кнопку **файлы приложения** , чтобы открыть диалоговое окно **файлы приложения** .

4. В диалоговом окне **файлы приложения** выберите поле **группы** для файла, который необходимо включить в новую группу.

    > [!NOTE]
    > Перед отображением имен файлов в диалоговом окне **файлы приложения** необходимо задать для свойства **действие построения** значение **содержимое** .

5. В поле **Группа загрузки** выберите **\<New...>** из раскрывающегося списка.

6. В диалоговом окне **Новая группа** введите имя группы и нажмите кнопку **ОК**.

### <a name="to-add-a-file-to-a-group"></a>Добавление файла в группу

1. Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.

2. Перейдите на вкладку **Публикация**.

3. Нажмите кнопку **файлы приложения** , чтобы открыть диалоговое окно **файлы приложения** .

4. В диалоговом окне **файлы приложения** выберите поле **группы** для файла, который необходимо включить в новую группу.

5. В поле **Группа загрузки** выберите группу из раскрывающегося списка.

    > [!NOTE]
    > Нельзя изменить **группу загрузки** для файлов, необходимых для запуска приложения.

## <a name="see-also"></a>См. также раздел
- [Публикация приложений ClickOnce](../deployment/publishing-clickonce-applications.md)
- [Инструкции. Публикация приложения ClickOnce с помощью мастера публикации](../deployment/how-to-publish-a-clickonce-application-using-the-publish-wizard.md)