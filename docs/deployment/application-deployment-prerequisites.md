---
title: Предварительные условия для развертывания приложения | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, platform detection
- ClickOnce deployment, prerequisites
- ClickOnce deployment, dependencies
- prerequisites, ClickOnce
- dependencies, ClickOnce
ms.assetid: fc6e047e-ad94-44e8-8ff5-b6d1f4ca7735
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8206e199acc3ccb76cf89603d48bed0173129218
ms.sourcegitcommit: 12f2851c8c9bd36a6ab00bf90a020c620b364076
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/06/2019
ms.locfileid: "66746062"
---
# <a name="application-deployment-prerequisites"></a>Обязательные требования к развертыванию приложений

Чтобы приложение для установки и запуска успешно, необходимо сначала установите все компоненты, от которых зависит приложение на целевом компьютере. Например, большинство приложений, созданных с помощью [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] имеют зависимость от .NET Framework. В этом случае правильную версию среда CLR должен присутствовать на конечном компьютере перед установкой приложения.

 Можно выбрать эти компоненты в **Prerequisites Dialog Box** и установить .NET Framework и любые другие распространяемые в ходе установки. Это называется *начальной загрузкой*. [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] создает исполняемую программу Windows с именем *Setup.exe*, также известных как *загрузчика*. Начальный загрузчик установит необходимые компоненты перед запуском приложения. Дополнительные сведения о выборе необходимых компонентов, см. в разделе [одноименном диалоговом окне](../ide/reference/prerequisites-dialog-box.md).

 Каждый необходимый компонент является пакетом начальной загрузки. Пакет начального загрузчика — это группа каталогов и файлов, содержащих файлы манифеста, которые описывают, как устанавливаются необходимые компоненты. Если в диалоговом окне **Необходимые компоненты** нет компонентов, необходимых для вашего приложения, создайте стандартные пакеты начальной загрузки и добавьте их в Visual Studio. После этого вы сможете выбрать необходимые компоненты в **одноименном диалоговом окне**. Дополнительные сведения см. в разделе [создание пакетов начального загрузчика](../deployment/creating-bootstrapper-packages.md).

 По умолчанию для развертывания приложений ClickOnce начальная загрузка включена, а генерируемый для них начальный загрузчик подписан. Вы можете отключить начальную загрузку компонента, но только в том случае, если вы уверены, что на всех целевых компьютерах уже установлена правильная версия компонента.

## <a name="bootstrapping-and-clickonce-deployment"></a>Начальная загрузка и развертывание приложений ClickOnce
 Перед установкой приложения на клиентском компьютере, [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] проверяет клиента, чтобы гарантировать, что он имеет требованиям, указанным в манифесте приложения. К ним относятся следующие требования:

- Минимальная необходимая версия среды CLR, определенная в качестве зависимости от сборки в манифесте приложения.

- Минимальная версия операционной системы Windows, необходимая для приложения, согласно манифесту приложения с использованием элемента `<osVersionInfo>`. (См. в разделе [ \<зависимостей > элемент](../deployment/dependency-element-clickonce-application.md).)

- Минимальная версия все сборки, которые должны быть предварительно установлены в глобальный кэш сборок (GAC), как указано в декларации зависимости от сборки в манифесте сборки.

  [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] позволяет определить недостающие необходимые компоненты, после чего вы сможете установить необходимые компоненты с помощью начальной загрузки. Дополнительные сведения см. в разделе [Практическое руководство. устанавливать необходимые компоненты для приложения ClickOnce](../deployment/how-to-install-prerequisites-with-a-clickonce-application.md).

> [!NOTE]
> Чтобы изменить значения в манифестах, созданных такими инструментами, как [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] и *MageUI.exe*, необходимо отредактировать манифест приложения в текстовом редакторе, а затем снова подписать манифест приложения и манифест развертывания. Дополнительные сведения см. в разделе [Практическое руководство. повторно подписать манифесты приложения и развертывания](../deployment/how-to-re-sign-application-and-deployment-manifests.md).

 Если для развертывания приложения используются Visual Studio и ClickOnce, то выбираемые по умолчанию пакеты начального загрузчика будут зависеть от версии .NET Framework в решении. В случае изменения целевой версии .NET Framework необходимо будет обновить параметры в диалоговом окне **Необходимые компоненты** вручную.

|Целевая версия .NET Framework|Выбранные пакеты начального загрузчика|
|---------------------------|------------------------------------|
|.NET Framework 4 (клиентский профиль)|.NET Framework 4 (клиентский профиль)<br /><br /> Установщик Windows версии 3.1|
|.NET Framework 4|.NET Framework 4<br /><br /> Установщик Windows версии 3.1|

 При развертывании приложений [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] на странице *Publish.htm*, генерируемой Мастером публикации [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)], указывается либо ссылка, позволяющая установить только приложение, либо ссылка, позволяющая установить как приложение, так и компоненты начальной загрузки.

 Если начальный загрузчик генерируется с помощью мастера публикации ClickOnce или страницы публикации в Visual Studio, то файл *Setup.exe* подписывается автоматически. Если же для подписи начального загрузчика необходимо использовать сертификат клиента, то файл можно подписать позже.

## <a name="bootstrapping-and-msbuild"></a>Начальная загрузка и MSBuild
 Если вы не используете [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)], но вместо компилируете приложения в командной строке, вы можете создать [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение начальной загрузки с помощью задачи Microsoft Build Engine (MSBuild). Дополнительные сведения см. в разделе [задача GenerateBootstrapper](../msbuild/generatebootstrapper-task.md).

 В качестве альтернативы начальному загрузчику можно предварительно развернуть компоненты с помощью электронной системы распределения, например Microsoft Systems Management Server (SMS).

## <a name="bootstrapper-setupexe-command-line-arguments"></a>Аргументы командной строки начального загрузчика (Setup.exe)
 *Setup.exe* созданные [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] и задач MSBuild, поддерживает следующий набор аргументов командной строки. Все остальные аргументы передаются установщика приложения.

 Если изменить любые параметры начального загрузчика, необходимо изменить неподписанный начальный загрузчик, а затем подписать файл начального загрузчика.

| Аргумент командной строки | Описание |
| - | - |
| **-?, -h, -help** | Открывает диалоговое окно "Справка". |
| **-URL-адрес, - componentsurl** | Показывает сохраненный URL и URL-адреса компонентов для этой установки. |
| **-url=** `location` | Настраивает URL на то место, где *Setup.exe* будет искать приложение [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)]. |
| **-componentsurl =** `location` | Задает URL-адрес которой *Setup.exe* будет искать зависимости, например .NET Framework. |
| **-homesite=** `true` **&#124;** `false` | Когда `true`, то зависимости загружаются из предпочтительного источника на сайте поставщика. Этот параметр переопределяет **- componentsurl** параметр. Когда `false`, то зависимости загружаются по URL-адрес, определяемое **- componentsurl**. |

## <a name="operating-system-support"></a>Поддержка операционной системой
 Начальный загрузчик Visual Studio не поддерживается на основных серверных компонентов Windows Server 2008 или Windows Server 2008 R2 Server Core, поскольку они предоставляют незначительную поддержку серверной среды с ограниченной функциональностью. Например вариант установки Server Core поддерживает только профиль .NET Framework 3.5 Server Core, который не удается запустить средства Visual Studio, которые зависят от полной версии платформы .NET Framework.

## <a name="see-also"></a>См. также
- [Выбор стратегии развертывания ClickOnce](../deployment/choosing-a-clickonce-deployment-strategy.md)
- [Развертывание и безопасность технологии ClickOnce](../deployment/clickonce-security-and-deployment.md)