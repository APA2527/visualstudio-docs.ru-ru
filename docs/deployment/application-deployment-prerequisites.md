---
title: Необходимые условия для развертывания приложения | Документация Майкрософт
description: Сведения о предварительных требованиях к развертыванию приложений, включая использование диалогового окна "необходимые компоненты" и пакетов загрузчика.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, platform detection
- ClickOnce deployment, prerequisites
- ClickOnce deployment, dependencies
- prerequisites, ClickOnce
- dependencies, ClickOnce
ms.assetid: fc6e047e-ad94-44e8-8ff5-b6d1f4ca7735
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: c87b0f6ded2960054cb553dbeb85681aa447668b
ms.sourcegitcommit: 0893244403aae9187c9375ecf0e5c221c32c225b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2020
ms.locfileid: "94383252"
---
# <a name="application-deployment-prerequisites"></a>Обязательные требования к развертыванию приложений

Чтобы приложение было успешно установлено и запущено, сначала установите все компоненты, на которых приложение зависит от целевого компьютера. Например, большинство приложений, созданных с использованием, [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] имеют зависимость от .NET Framework. В этом случае на конечном компьютере должна быть правильная версия среды CLR перед установкой приложения.

 Эти компоненты можно выбрать в **диалоговом окне необходимые компоненты** и установить .NET Framework и любой другой распространяемый пакет в рамках установки. Это называется *начальной загрузкой*. [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] создает исполняемую программу Windows с именем *Setup.exe* , также называемую *загрузчиком*. Начальный загрузчик установит необходимые компоненты перед запуском приложения. Дополнительные сведения о выборе этих компонентов см. в разделе [Предварительные требования](../ide/reference/prerequisites-dialog-box.md).

 Каждый необходимый компонент является пакетом начальной загрузки. Пакет начального загрузчика — это группа каталогов и файлов, содержащих файлы манифестов, которые описывают, как устанавливаются необходимые компоненты. Если в диалоговом окне **Необходимые компоненты** нет компонентов, необходимых для вашего приложения, создайте стандартные пакеты начальной загрузки и добавьте их в Visual Studio. После этого вы сможете выбрать необходимые компоненты в **одноименном диалоговом окне**. Дополнительные сведения см. в разделе [Создание пакетов начального загрузчика](../deployment/creating-bootstrapper-packages.md).

 По умолчанию для развертывания приложений ClickOnce начальная загрузка включена, а генерируемый для них начальный загрузчик подписан. Начальную загрузку компонента можно отключить, но только в том случае, если вы уверены, что на всех целевых компьютерах уже установлена правильная версия компонента.

## <a name="bootstrapping-and-clickonce-deployment"></a>Начальная загрузка и развертывание приложений ClickOnce
 Перед установкой приложения на клиентском компьютере [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] проверяет клиент, чтобы убедиться, что он имеет требования, указанные в манифесте приложения. К ним относятся следующие требования.

- Минимальная необходимая версия среды CLR, определенная в качестве зависимости от сборки в манифесте приложения.

- Минимальная версия операционной системы Windows, необходимая для приложения, согласно манифесту приложения с использованием элемента `<osVersionInfo>`. (См. [ \<dependency> элемент](../deployment/dependency-element-clickonce-application.md).)

- Минимальная версия всех сборок, которые должны быть предварительно установлены в глобальном кэше сборок (GAC), как указано в объявлениях зависимостей сборок в манифесте сборки.

  [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] позволяет определить недостающие необходимые компоненты, после чего вы сможете установить необходимые компоненты с помощью начальной загрузки. Дополнительные сведения см. [в разделе руководство. Установка необходимых компонентов с помощью приложения ClickOnce](../deployment/how-to-install-prerequisites-with-a-clickonce-application.md).

> [!NOTE]
> Чтобы изменить значения в манифестах, создаваемых такими инструментами, как [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] и *MageUI.exe* , необходимо изменить манифест приложения в текстовом редакторе, а затем повторно подписать манифесты приложения и развертывания. Дополнительные сведения см. [в разделе как повторно подписывать манифесты приложения и развертывания](../deployment/how-to-re-sign-application-and-deployment-manifests.md).

 Если для развертывания приложения используются Visual Studio и ClickOnce, то выбираемые по умолчанию пакеты начального загрузчика будут зависеть от версии .NET Framework в решении. В случае изменения целевой версии .NET Framework необходимо будет обновить параметры в диалоговом окне **Необходимые компоненты** вручную.

|Целевая версия .NET Framework|Выбранные пакеты начального загрузчика|
|---------------------------|------------------------------------|
|.NET Framework 4 (клиентский профиль)|.NET Framework 4 (клиентский профиль)<br /><br /> Установщик Windows версии 3.1|
|.NET Framework 4|.NET Framework 4<br /><br /> Установщик Windows версии 3.1|

 При [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] развертывании страница *Publish.htm* , созданная [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] мастером публикации, указывает либо на ссылку, которая устанавливает только приложение, либо на ссылку, которая устанавливает как приложение, так и загрузочные компоненты.

 При создании начального загрузчика с помощью мастера публикации ClickOnce или страницы публикации в Visual Studio *Setup.exe* автоматически подписывается. Если же для подписи начального загрузчика необходимо использовать сертификат клиента, то файл можно подписать позже.

## <a name="bootstrapping-and-msbuild"></a>Начальная загрузка и MSBuild
 Если вы не используете [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] , а компилируете приложения в командной строке, вы можете создать [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение начальной загрузки с помощью задачи Microsoft Build Engine (MSBuild). Дополнительные сведения см. в статье [GenerateBootstrapper Task](../msbuild/generatebootstrapper-task.md).

 В качестве альтернативы начальному загрузчику можно предварительно развернуть компоненты с помощью электронной системы распределения, например Microsoft Systems Management Server (SMS).

## <a name="bootstrapper-setupexe-command-line-arguments"></a>Аргументы командной строки начального загрузчика (Setup.exe)
 *Setup.exe* , создаваемые службами [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] и задачами MSBuild, поддерживают следующий набор аргументов командной строки. Любые другие аргументы перенаправляются в установщик приложения.

 При изменении параметров загрузчика необходимо изменить неподписанный загрузчик, а затем подписать файл начального загрузчика.

| Аргумент командной строки | Описание |
| - | - |
| **-?, -h, -help** | Открывает диалоговое окно "Справка". |
| **-URL,-компонентсурл** | Показывает сохраненный URL и URL-адреса компонентов для этой установки. |
| **-URL =**`location` | Задает URL-адрес, по которому *Setup.exe* будет искать [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение. |
| **-компонентсурл =**`location` | Задает URL-адрес, по которому *Setup.exe* будет искать зависимости, например .NET Framework. |
| **-homesite=** `true` **&#124;** `false` | При `true` загрузке загружаются зависимости из предпочтительного расположения на сайте поставщика. Этот параметр переопределяет параметр **-компонентсурл** . При `false` загрузке загружаются зависимости из URL-адреса, указанного параметром **-компонентсурл**. |

## <a name="operating-system-support"></a>Поддержка операционных систем
 Загрузчик Visual Studio не поддерживается в Windows Server 2008 Server Core или Windows Server 2008 R2 Server Core, так как они обеспечивают серверную среду с низким уровнем обслуживания с ограниченной функциональностью. Например, вариант установки Server Core поддерживает только профиль Server Core .NET Framework 3,5, который не может выполнять функции Visual Studio, зависящие от полной .NET Framework.

## <a name="see-also"></a>См. также
- [Выбор стратегии развертывания ClickOnce](../deployment/choosing-a-clickonce-deployment-strategy.md)
- [Развертывание и безопасность технологии ClickOnce](../deployment/clickonce-security-and-deployment.md)