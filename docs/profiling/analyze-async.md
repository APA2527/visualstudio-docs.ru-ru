---
title: Анализ производительности асинхронного кода .NET | Документация Майкрософт
ms.date: 5/5/2020
ms.topic: conceptual
helpviewer_keywords:
- asynchronous, async, profiling
author: esteban-herrera
ms.author: esherrer
manager: AndSter
ms.workload:
- multiple
ms.openlocfilehash: 49091ba472637d480c04c39f0170c2aee00595d2
ms.sourcegitcommit: 1d4f6cc80ea343a667d16beec03220cfe1f43b8e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85291067"
---
# <a name="analyze-performance-of-net-asynchronous-code"></a>Анализ производительности асинхронного кода .NET

С помощью инструмента .NET Async можно проанализировать производительность асинхронного кода в приложении.

> [!NOTE]
> Для инструмента .NET Async требуется Visual Studio 2019 версии 16.7 или более поздней и проект .NET, в котором используются ключевые слова **async** и **await**.

## <a name="setup"></a>Установка

1. Откройте профилировщик производительности (**ALT+F2**) в Visual Studio.

1. Установите флажок **.NET Async**.

   ![Выбор инструмента .NET Async](../profiling/media/async-tool-selected.png "Выбор инструмента .NET Async")

1. Нажмите кнопку **Запуск**, чтобы запустить средство.

1. После его запуска просмотрите сценарий, который вы хотите профилировать в приложении. Затем выберите **Остановить сбор** или закройте приложение, чтобы просмотреть данные.

1. После остановки сбора данных появится таблица действий, которые выполнялись во время сеанса профилирования.

   ![Остановка средства .NET Async](../profiling/media/async-tool-opened.png "Остановка средства .NET Async")

Асинхронные события упорядочены по действиям в хронологическом порядке. Для каждого указано время начала, время окончания и длительность.

Все строки, соответствующие пространству имен [task](https://docs.microsoft.com/dotnet/api/system.threading.tasks), помечаются в столбце **Имя**. Каждое имя task, которое не удается разрешить, сопровождается меткой **Task в**. За ней следует имя метода, в котором встречается task. Если асинхронное действие не завершается в ходе сеанса сбора, в столбце **Время окончания** оно помечается **Не завершено**.

Для дальнейшего анализа определенной задачи или действия щелкните правой кнопкой мыши соответствующую строку. Выберите **Перейти к исходному файлу**, чтобы посмотреть код, в котором происходит это действие.

![Выбор пункта "Перейти к исходному файлу" в инструменте .NET Async](../profiling/media/async-tool-gotosource.png "Выбор пункта "Перейти к исходному файлу" в инструменте .NET Async")

## <a name="see-also"></a>См. также

- [Оптимизация параметров профилировщика](../profiling/optimize-profiler-settings.md)
