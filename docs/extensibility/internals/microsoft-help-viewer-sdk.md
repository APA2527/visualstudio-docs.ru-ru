---
title: Помощь Microsoft Зритель SDK (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 620d7dcd-d462-475e-a449-fbfa06ff12c5
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 721623edabcaf3b395a143dd193cae3fd71d93d6
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80707156"
---
# <a name="microsoft-help-viewer-sdk"></a>Пакет SDK окна справки (Майкрософт)

Эта статья содержит следующие задачи для интеграторов Visual Studio Help Viewer:

- Создание темы (поддержка F1)

- Создание пакета с помощью просмотра контент-брендинга

- Развертывание набора статей

- Добавление справки в оболочку Visual Studio (интегрированная или изолированная)

- Дополнительные ресурсы

## <a name="create-a-topic-f1-support"></a>Создание темы (поддержка F1)

В этом разделе представлен обзор компонентов представленной темы, требований к теме, краткое описание того, как создать тему (включая требования к поддержке F1) и, наконец, примерная тема с отрисованной результатом.

**Справка Зритель Тема Обзор**

Когда тема требуетрендля для рендеринга, Help Viewer получает элементы пакета брендинга, связанные с темой во время установки или последнего обновления, вместе с темой XHTML, и объединяет два, чтобы привести к представлению представления содержимого (данные брендинга и данные темы).  Пакет брендинга содержит логотипы, поддержку поведения контента и брендинговый текст (авторское право и т.д.).  Смотрите ниже "Создание фирменного пакета".  В случае, если нет пакета брендинга, связанного с темой, Help Viewer будет использовать пакет заклеймки резервного копирования, расположенный в корне приложения Help Viewer (Branding_en-US.mshc).

**Справка Зритель Тема Требования**

Чтобы быть правильно отрисованы в Help Viewer, необработанное содержимое темы должно быть W3C Basic 1.1 XHTML.

Тема обычно содержит два раздела:

- Метаданные (см. Ссылку на метаданные содержимого): данные по теме, например, уникальный идентификатор темы, значение ключевых слов, идентификатор темы TOC, идентификатор родительского узла и т.д.

- Содержание тела: соответствует W3C Basic 1.1 XHTML, который включает в себя поведение поддерживаемого контента (складная область, фрагмент кода и т.д. Полный список приведен ниже).

Визуальный пакет брендинга студии поддерживает элементы управления:

- Ссылки

- CodeSnippet

- Складнойрайон

- Унаследованный член

- LanguageSpecificText

Поддерживаемые языковые строки (не чувствительные к делу):

- JavaScript

- csharp или c #

- cplus или visualc или c

- jscript

- визуальные или vb

- f е или fsharp или fs

- другой - строка, представляющая имя языка

**Создание темы для просмотра справки**

Создайте новый документ XHTML под названием ContosoTopic4.htm и включите тег заголовка (см. ниже).

```html
<html>
<head>
<title>Contoso Topic 4</title>
</head>

<body>

</body>
</html>

```

Затем добавьте данные, чтобы определить, как тема должна быть представлена (самостоятельно фирменные или нет), как ссылаться на эту тему для F1, где эта тема существует в рамках TOC, его id (для ссылки на другие темы), и т.д. Ниже приведена таблица «Метаданные содержимого» для получения полного списка поддерживаемых метаданных.

- В этом случае мы будем использовать наш собственный брендинг пакет, вариант Visual Studio Help Viewer брендинг пакет.

- Добавьте имя и значение мета F1 ("Microsoft.Help.F1" содержание "ContosoTopic4"), которые будут соответствовать поставляемому значению F1 в сумке свойства IDE. (Для получения дополнительной информации можно узнать раздел поддержки F1.) Это значение, которое соответствует вызову F1 из IDE для отображения этой темы, когда F1 выбран в IDE.

- Добавьте идентификатор темы. Это строка, которая используется другими темами для ссылки на эту тему. Это идентификатор справки Viewer для этой темы.

- Для TOC добавьте родительский узлы этой темы, чтобы определить, где появится этот узлы TOC.

- Для TOC добавьте порядок узлов этой темы. Когда родительский узло имеет `n` количество узлов, определите в порядке расположения узлов ребенка местоположение этой темы. Например, эта тема no 4 из 4 тем для детей.

Пример раздела метаданных:

```html
<html>
<head>
<title>Contoso Topic 4</title>

<meta name="SelfBranded" content="false" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Microsoft.Help.Id" content="ContosoTopic4" />
<meta name="Microsoft.Help.F1" content=" ContosoTopic4" />
    <meta name="Language" content="en-us" />
<meta name="Microsoft.Help.TocParent" content="ContosoTopic0" />
<meta name="Microsoft.Help.TocOrder" content="4" />

</head>

<body>

</body>
</html>
```

**Тело темы**

Тело (не включая заголовок и колонтитул) темы будет содержать ссылки на страницы, раздел заметок, складной области, фрагмент кода, а также раздел языка конкретных текста.  См. раздел брендинга для получения информации о тех областях, которые представлены темы.

1. Добавить тег заголовка темы:`<div class="title">Contoso Topic 4</div>`

2. Добавить раздел примечания:`<div class="alert"> add your table tag and text </div>`

3. Добавьте складную область:`<CollapsibleArea Expanded="1" Title="Collapsible Area Test Heading"> add text  </CollapsibleArea>`

4. Добавьте фрагмент кода:`<CodeSnippet EnableCopyCode="true" Language="CSharp" ContainsMarkup="false" DisplayLanguage="C#" > a block of code </CodeSnippet>`

5. Добавьте текст, связанный с языком кода: `<LanguageSpecificText devLangcs="CS" devLangvb="VB" devLangcpp="C++" devLangnu="F#" />` Обратите внимание, что `devLangnu=` позволяет вводить другие языки. Например, `devLangnu="Fortran"` отображает Fortran, когда фрагмент кода DisplayLanguage и Fortran

6. Добавить ссылки на страницы:`<a href="ms-xhelp:///?Id=ContosoTopic1">Main Topic</a>`

> [!NOTE]
> Примечание: для неподдерживаемого нового "Языка дисплея" (например, F, Cobol, Fortran) цветообразуние кода в фрагменте кода будет монохромным.

**Пример справки Для просмотра Тема** Код иллюстрирует, как определить метаданные, фрагмент кода, складную область и текст, специфичный для языка.

```html
<?xml version="1.0" encoding="utf-8"?>
<html>
<head>
<title>Contoso Topic 4</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Microsoft.Help.Id" content="ContosoTopic4" />
<meta name="Microsoft.Help.F1" content=" ContosoTopic4" />
    <meta name="Language" content="en-us" />
<meta name="Microsoft.Help.TocParent" content="ContosoTopic0" />
<meta name="Microsoft.Help.TocOrder" content="4" />
<meta name="SelfBranded" content="false" />
</head>

<body>
<div class="title">Contoso Topic 4</div>

  <div id="header">
<table id="bottomTable" cellpadding="0" cellspacing="0"  width="100%">
        <tr id="headerTableRow2"><td align="left">
            <span id="nsrTitle">Contoso Topic 1</span>
          </td>
<td align="right">
</td></tr>
<tr id="headerTableRow1"><td align="left">
            <span id="runningHeaderText">Contoso Widgets & Sprockets</span>
          </td></tr>
      </table>
</div>

<h2>Table of Contents</h2>

<ul class="toc">
<li class="tocline1"><a href="#introduction" target="_self">1.0 Introduction</a></li>
<li class="tocline1"><a href="#seealso" target="_self">See Also</a></li>
</ul>

<div class="topic">

<div id="mainSection">
<div id="mainBody">

<a name="introduction"></a>
<h2>1.0 Introduction</h2>
<p>[This documentation is for sample purposes only.]</p>

<p>Contoso Topic 1 contains examples of:
<ul>
<li>Collapsible Area</li>
<li>Bookmark ("See also")</li>
<li>Code Snippets from Branding Package</li>
</ul>
 </p>
<div class="alert"><table><tr><th>
<strong>Note </strong></th></tr>
<tr><td>
<p>This is an example of a <span class="label">Note </span>section.
Call out important items for your reader in this <span class="label">Note </span>box.
</p></td></tr>
</table>
</div>
</div>

<CollapsibleArea Expanded="1" Title="Collapsible Area Test Heading">

            <a id="sectionToggle0"><!----></a>

<div>
Example of Collapsible Area
<br/>
Lorem ipsum dolor sit amet...
</div>
</CollapsibleArea>

<div id="snippetGroup" >
<CodeSnippet EnableCopyCode="true" Language="VisualBasic" ContainsMarkup="false" DisplayLanguage="Visual Basic" >
Private Sub ToolStripRenderer1_RenderGrip(sender as Object, e as ToolStripGripRenderEventArgs) _ Handles ToolStripRenderer1.RenderGrip
Dim messageBoxVB as New System.Text.StringBuilder()
    messageBoxVB.AppendFormat("{0} = {1}", "GripBounds", e.GripBounds)
    messageBoxVB.AppendLine()
 ...
    MessageBox.Show(messageBoxVB.ToString(),"RenderGrip Event")
End Sub
</CodeSnippet>

<CodeSnippet EnableCopyCode="true" Language="CSharp" ContainsMarkup="false" DisplayLanguage="C#" >
private void ToolStripRenderer1_RenderGrip(Object sender, ToolStripGripRenderEventArgs e)
{
System.Text.StringBuilder messageBoxCS = new System.Text.StringBuilder();
messageBoxCS.AppendFormat("{0} = {1}", "GripBounds", e.GripBounds );
messageBoxCS.AppendLine();
...
MessageBox.Show(messageBoxCS.ToString(), "RenderGrip Event" );
}
</CodeSnippet>

<CodeSnippet EnableCopyCode="true" Language="fsharp" ContainsMarkup="false" DisplayLanguage="F#" >
some F# code
</CodeSnippet>
</div>

<h4 class="subHeading">Example of code specific text</h4>Language = <LanguageSpecificText devLangcs="CS" devLangvb="VB" devLangcpp="C++" devLangnu="F#" />

<a name="seealso"></a>
<h1 class="heading">See Also</h1>

    <div id="seeAlsoSection" class="section">
    <div class="seeAlsoStyle">
        <a href="ms-xhelp:///?Id=ContosoTopic1">Main Topic</a>
    </div>
 </div>
</div>
</div>
</body>
</html>
```

**Поддержка F1**

В Visual Studio выбор F1 генерирует значения, предоставляемые из размещения курсора в Рамках IDE, и заполняет «мешок собственности» с поставленными значениями (на основе местоположения курсора. Когда курсор находится над функцией x, функция x активна/в фокусе и заполняет мешок свойства с значениями.  Когда F1 выбран мешок свойства заполняется и Visual Studio F1 код смотрит, чтобы увидеть, если клиенты по умолчанию Источник справки является локальным или онлайн (онлайн по умолчанию), а затем создает соответствующую строку на основе настройки пользователей (онлайн по умолчанию) - оболочка выполнить (см. Руководство администратора помощи для exe параметры запуска) с параметрами для локального просмотра справки , или URL MSDN с ключевым словом в списке параметров.

Если три строки возвращаются для F1, называемого многоступенчатой строкой, возьмите первый термин, ищите хит, и если найдено, мы закончили; если нет, перейдите к следующей строке.  Порядок имеет значение. Презентация многоценных ключевых слов должна быть длинной строкой для кратчайшей строки.  Чтобы проверить это в случае с несколькими ключевыми словами, посмотрите на строку URL онлайн F1, которая будет включать выбранное ключевое слово.

В Visual Studio 2012, мы намеренно сделали более сильный разрыв между онлайн и оффлайн, так что если настройка пользователя была для Интернет, то мы просто прошли F1 запрос непосредственно на наш онлайн-запрос службы на MSDN, а не разгром через справку библиотека агент, который мы имели в Visual Studio 2010. Затем мы полагаемся на состояние "поставщика содержание установлено и верно", чтобы определить, следует ли делать что-то другое в этом контексте. Если это правда, мы выполняем эту логику разбора и разгрома в зависимости от того, что вы хотите поддержать для ваших клиентов. Если ложные, то мы просто перейти к MSDN. Если настройка пользователя находится в Локальном, то все вызовы переходят в локальный механизм помощи.

Диаграмма потока F1:

![Поток F1](../../extensibility/internals/media/f1flow.png "F1flow")

Когда источник справки Viewer по умолчанию настроен на онлайн (запуск в браузере):

- Функция Visual Studio Partner (VSP) излучает значение для пакета свойств F1 (пакет свойств prefix.keyword и онлайн URL для префикса, найденного в реестре): F1 отправляет параметры URL VSP в браузер.

- Функции Visual Studio (редактор языка, Visual Studio конкретные пункты меню и т.д.): F1 отправляет URL-адрес Визуальной студии в браузер.

При установке источника содержимого справки Help Viewer по умолчанию в местный справочный материал (Запуск в Help Viewer):

- VSP показывает, где ключевое слово совпадает между пакетом свойств F1 и локальным индексом магазина (т.е. префикс-ключевое слово с пакетом свойств - значение, найденное в локальном индексе магазина): F1 отображает тему в Справке Viewer.

- Функции Visual Studio (нет возможности для VSP переопределить пакет свойств, испускаемый из функций Visual Studio): F1 отображает тему Визуальной студии в Справке Viewer.

Установите следующие значения реестра, чтобы включить F1 Fallback для содержимого справки поставщика. F1 Fallback означает, что Help Viewer настроен искать содержимое Справки F1 в Интернете, а содержимое поставщика устанавливается локально на жесткий диск пользователей. Для просмотра справки следует обратитьвнимание в локальную справку «Справка» для содержимого, даже если настройка по умолчанию предназначена для онлайн-помощи.

1. Установите значение **VendorContent** под ключом реестра Справка 2.3:

   - Для 32-разрядных операционных систем:

        HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Help\v2.3\Catalogs\VisualStudio15

        "VendorContent"'dword:000000001

   - Для 64-разрядных операционных систем:

        HKEY_LOCAL_MACHINE-SOFTWARE-Wow6433Node-Microsoft/Help-v2.3-Каталоги-VisualStudio15

        "VendorContent"'dword:000000001

2. Зарегистрируйте пространство имен партнера под ключом реестра Help 2.3:

   - Для 32-разрядных операционных систем:

      HKEY_LOCAL_MACHINE-SOFTWARE-Microsoft/Help'v2.3-Partner<em> \\<namespace\></em>

      "месторасположение"

   - Для 64-разрядных операционных систем:

      HKEY_LOCAL_MACHINE-SOFTWARE-Wow6432Node-Microsoft/Help-v2.3-Partner<em> \\<namespace\></em>

      "месторасположение"

**Базовый родной Именный Разбор**

Чтобы включить базовый родной разогнательство, в реестр добавьте новый DWORD по имени: BaseNativeNamespaces и установите его значение до 1 (под ключом каталога, который они хотят поддержать).  Например, если вы хотите использовать каталог Visual Studio, можно добавить ключ к пути:

HKEY_LOCAL_MACHINE-SOFTWARE-Wow6433Node-Microsoft/Help-v2.3-Каталоги-VisualStudio15

При обнаружении ключевого слова F1 в формате HEADER/METHOD символ '/' будет разобран, в результате чего будет построена следующая конструкция:

- HEADER: будет пространство имен, которое может быть использовано для регистрации в реестре

- METHOD: это станет ключевым словом, которое проходит.

Например, пользовательская библиотека под названием CustomLibrary и метод под названием MyTestMethod, `CustomLibrary/MyTestMethod`когда приходит запрос F1, он будет отформатирован как .

Пользователь может зарегистрировать CustomLibrary в качестве пространства имен под ульем Партнеров и предоставить любой ключ местоположения, который он пожелает, и ключевым словом, переданным запросу, будет MyTestMethod.

**Включить инструмент отладки справки в IDE**

Добавьте следующий ключ реестра и значение:

::: moniker range="vs-2017"

**HKEY_CURRENT_USER-Программное обеспечение,Microsoft-VisualStudio,15.0 -Динамическая справка**

::: moniker-end

::: moniker range=">=vs-2019"

**HKEY_CURRENT_USER»-Программное обеспечение,Microsoft-VisualStudio,16.0 -Динамическая справка**

::: moniker-end

Значение: Отображение вывода debug в розничных данных: ДА

В IDE под пунктом меню Справка выберите **контекст справки от отображения.**

**Метаданные содержимого**

В следующей таблице любая строка, которая появляется между скобками, является заполнителем, который должен быть заменен признанным значением. Например, \<в мета-названии »Microsoft.Help.Locale» содержание »»языковой код»» />, «код языка» должен быть заменен таким значением, как «en-us».

| Свойство (представление HTML) | Описание |
| - | - |
| \<мета-имя"Microsoft.Help.Locale" содержание ""язык-код" /> | Устанавливает локал для этой темы. Если этот тег используется в теме, он должен использоваться только один раз, и он должен быть вставлен выше любых других тегов справки Майкрософт. Если этот тег не используется, текст тела темы индексируется с помощью выключателя слов, который связан с языком продукта, если он указан; в противном случае используется выключатель слов en-us. Этот тег соответствует ISOC RFC 4646. Чтобы убедиться, что справка Майкрософт работает правильно, используйте это свойство вместо общего атрибута языка. |
| \<мета-имя"Microsoft.Help.TopicLocale" содержание ""язык-код" /> | Устанавливает локал для этой темы, когда используются другие ломы. Если этот тег используется в теме, он должен использоваться только один раз. Используйте этот тег, когда каталог содержит содержимое на нескольких языках. Несколько тем в каталоге могут иметь один и тот же идентификатор, но каждая должна указать уникальный TopicLocale. Тема, которая определяет TopicLocale, которая соответствует локализации каталога, является темой, отображаемой в таблице содержимого. Тем не менее, все языковые версии темы отображаются в результатах поиска. |
| \<название> »Название»\</название> | Уточняет название этой темы. Этот тег необходим, и должен быть использован только один раз в теме. Если тело темы не содержит \<раздела> заголовка div, это название отображается в теме и в таблице содержимого. |
| \<мета-имя" Microsoft.Help.Keywords" содержание"""AKeywordФраза"/> | Упоняет текст ссылки, отображаемый в индексном стекол help Viewer. При нажатии на ссылку отображается тема. Можно указать несколько ключевых слов индекса для темы, или вы можете пропустить этот тег, если вы не хотите, чтобы ссылки на эту тему отображались в индексе. Ключевые слова "K" из более ранних версий Справки могут быть преобразованы в это свойство. |
| \<мета-имя"Microsoft.Help.Id" содержание ""TopicID"/> | Устанавливает идентификатор для этой темы. Этот тег необходим, и должен быть использован только один раз в теме. Идентификатор должен быть уникальным среди тем в каталоге, которые имеют ту же настройку локализации. В другой теме можно создать ссылку на эту тему, используя этот идентификатор. |
| \<мета-имя"Microsoft.Help.F1" содержание""Система.Windows.Controls.Primitives.IRecyclingТимтиТарГенератор""/> | Определяет ключевое слово F1 для этой темы. Вы можете указать несколько ключевых слов F1 для темы, или вы можете пропустить этот тег, если вы не хотите, чтобы эта тема была отображаться, когда пользователь приложения нажимает F1. Как правило, только одно ключевое слово F1 указывается для темы. Ключевые слова "F" из более ранних версий Справки могут быть преобразованы в это свойство. |
| \<мета-название"Описание" содержание " » » описание темы »" / > | Предоставляет краткое резюме содержания в этой теме. Если этот тег используется в теме, он должен использоваться только один раз. К этому свойству доступна непосредственно в библиотеке запросов; он не хранится в индексном файле. |
| мета-имя"Microsoft.Help.TocParent" содержание ""parent_Id"/> | Определяет сяочную тему этой темы в таблице содержимого. Этот тег необходим, и должен быть использован только один раз в теме. Значение является Microsoft.Help.Id родителя. Тема может иметь только одно место в таблице содержимого. "-1" считается идентификатором темы для корня TOC. В [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)], эта страница помощь зритель главная страница. Это та же причина, по которой мы специально добавляем TocParent-1 к некоторым темам, чтобы убедиться, что они отображаются на верхнем уровне. Главная страница Help Viewer — это страница системы, которая не может быть заменена. Если VSP пытается добавить страницу с идентификатором -1, он может быть добавлен в набор содержимого, но Help Viewer всегда будет использовать страницу системы - Помощь Зритель Главная |
| \<мета-имя"Microsoft.Help.TocOrder" содержание ""позитивное integer"/> | Указывает, где в таблице содержимого эта тема отображается по отношению к темам одноранговой. Этот тег необходим, и должен быть использован только один раз в теме. Значение представлено целым числом. Тема, опозиваемый некачественным рядом, отображается над темой, которая определяет более высокое значение integer. |
| \<мета-имя"Microsoft.Help.Product" содержание """Код продукта"/> | Определяет продукт, который описывается в этой теме. Если этот тег используется в теме, он должен использоваться только один раз. Эта информация также может быть предоставлена в качестве параметра, который передается индексатору справки. |
| \<мета-имя"Microsoft.Help.ProductVersion" содержание »""номер версии"/> | Определяет версию продукта, который описывает эта тема. Если этот тег используется в теме, он должен использоваться только один раз. Эта информация также может быть предоставлена в качестве параметра, который передается индексатору справки. |
| \<мета-имя»Microsoft.Help.Категория» содержание »»строка»/> | Используется продуктами для определения подразделов содержимого. Можно определить несколько подразделов для темы, или опустить этот тег, если вы не хотите ссылки для идентификации каких-либо подразделов. Этот тег используется для хранения атрибутов для TargetOS и TargetFrameworkMoniker, когда тема преобразуется из более ранней версии справки. Формат контента: AttributeName:AttributeValue. |
| \<мета-имя"Microsoft.Help.TopicVersion содержание""""Номер тематической версии"/> | Определяет эту версию темы, когда в каталоге существует несколько версий. Поскольку Microsoft.Help.Id не гарантируется уникальным, этот тег требуется, когда в каталоге существует более одной версии темы, например, когда каталог содержит тему для .NET Framework 3.5 и тему для .NET Framework 4 и оба имеют один и тот же Microsoft.Help.Id. |
| \<мета-имя"SelfBranded" содержание »"ПРАВДА или FALSE"/> | Уточняется, использует ли эта тема пакет брендинга Help Library Manager или пакет брендинга, специфичный для этой темы. Этот тег должен быть либо TRUE или FALSE. Если это правда, то пакет брендинга для связанной темы переопределяет пакет брендинга, который устанавливается, когда менеджер библиотеки справки начинается так, что тема отображается по назначению, даже если она отличается от рендеринга другого контента. Если это FALSE, текущая тема отображается в соответствии с пакетом брендинга, который устанавливается при запуске менеджера библиотеки справки. По умолчанию, Менеджер библиотеки справки предполагает, что самобрендинг не является ложным, если переменная SelfBranded не объявлена истинной; таким образом, вы не \<должны объявлять мета-название"SelfBranded" содержание "FALSE"/>. |

## <a name="create-a-branding-package"></a>Создание брендингового пакета

Визуальный релиз Studio включает в себя ряд различных продуктов Visual Studio, в том числе изолированные и интегрированные оболочки для партнеров Visual Studio.  Каждый из этих продуктов требует определенной степени тема на основе Справка содержание брендинга поддержки, уникальный для продукта.  Например, темы Visual Studio должны иметь последовательную презентацию бренда, в то время как S'L Studio, которая обертывает ISO Shell, требует своего собственного уникального брендинга контента Справки для каждой темы.  Интегрированный партнер Shell может захотеть, чтобы их темы справки были в рамках родительского содержимого продукта Visual Studio Help, сохраняя при этом свой собственный брендинг темы.

Фирменные пакеты устанавливаются продуктом, содержащим Справку Viewer.  Для продуктов Visual Studio:

- Запасной пакет брендинга\<(Branding_ локал>.mshc) устанавливается в корне приложения Help Viewer 2.3 (пример: C: 'Программные файлы (x86)'Microsoft Help Viewer'v2.3) пакетом языка Help Viewer.  Это используется для случаев, когда либо пакет брендинга продукта не установлен (содержимое не было установлено) или когда установленный пакет брендинга поврежден.  Элементы Visual Studio (логотип и обратная связь) игнорируются при использовании пакета брендинга для корней приложения.

- Когда содержимое Visual Studio устанавливается из сервиса пакетов контента, также устанавливается пакет брендинга (впервые сценарий установки контента).  При обновлении пакета брендинга обновление устанавливается при следующем обновлении содержимого или дополнительном действии по установке пакета.

Microsoft Help Viewer поддерживает брендинг тем на основе метаданных темы.

- В тех случаях, когда метаданные темы определяют самфирменный - правда, сделать тему как есть, ничего не делать (насколько брендинг).

- В тех случаях, когда метаданные по теме определяют самфирменный - ложный, используйте пакет брендинга, связанный со значением метаданных TopicVendor.

- В тех случаях, когда метаданные по теме определяют\< название »Microsoft.Help.TopicVendor» название фирменного пакета в поставщике MSHA>, используйте пакет брендинга, определенный в значении контента.

- В каталоге Visual Studio есть приоритетное применение фирменных пакетов.  Сначала применяется брендинг Visual Studio по умолчанию, а затем, если они определены в теме метаданные и поддерживается сосвязанным пакетом брендинга (как определено в установке msha), определенный поставщиком брендинг применяется в качестве переопределения.

Элементы брендинга обычно делятся на три основные категории:

- Элементы заголовка (примеры включают ссылку обратной связи, условный текст оговорки, логотип)

- Поведение содержимого (примеры включают элементы текста управления расширением/коллапсом и элементы фрагмента кода)

- Элементы footer (пример авторского права)

Элементы, рассматриваемые в качестве фирменных элементов, включают (подробно описано в данной спецификации):

- Логотип каталога/продукта (пример, Visual Studio)

- Ссылка на обратную связь и элементы электронной почты

- Текст отказов

- Текст авторского права

Поддержка файлов в пакете брендинга Visual Studio Help Viewer включает в себя:

- Графика (логотипы, иконки и т.д.)

- Branding.js - файлы сценариев, поддерживающие поведение контента

- Branding.xml - строки, которые постоянно используются в содержимом каталога.  Примечание: для элементов локализации Visual Studio в branding.xml, включают _locID »уникальное\<значение>»

- Branding.css - определения стиля для согласованности презентации

- Printing.css - определения стилей для последовательной печатной презентации

Как отмечалось выше, Брендинг пакеты связаны с темой:

- Когда SelfBranded - ложный определяется в метаданных, тема наследует пакет брендинга каталога

- Или когда SelfBranded - ложный и есть уникальный брендинг пакет, определенный в MSHA и доступны, когда содержание установлено

Для VSPs реализации пользовательских пакетов брендинга (содержимое VSP, SelfBranded-True), один из способов продолжить это начать с резервного брендинга пакет (установлен с Помощь Viewer), и изменить название файла по мере необходимости.  Файл\<Branding_>.mshc представляет собой почтовый файл с расширением файла, измененным на .mshc, поэтому просто измените расширение с .mshc на .zip и извлеките содержимое.  Ниже приведены элементы упаковки брендинга и изменения по мере необходимости (например, изменить логотип на логотип VSP и ссылку на логотип в файле Branding.xml, обновить Branding.xml на специфику VSP и т.д.).

Когда все изменения будут сделаны, создайте почтовый файл, содержащий желаемые элементы брендинга и измените расширение на .mshc.

Чтобы связать пользовательский пакет брендинга, создайте MSHA, который содержит ссылку на файл брендинга mshc вместе с содержанием mshc (содержащий темы).  Смотрите ниже "MSHA" о том, как создать базовый MSHA.

Файл Branding.xml содержит список элементов, используемых для последовательной визуализации \<конкретных элементов в теме, когда тема содержит мета-имя»Microsoft.Help.SelfBranded" содержание"ложный"/>.  Список элементов Visual Studio в файле Branding.xml приведен ниже.  Этот список предназначен для использования в качестве шаблона для пользователей ISO Shell, где они модифицируют эти элементы (например, логотип, обратную связь и авторское право) для удовлетворения своих собственных потребностей в брендинге продукции.

Примечание: переменные, отмеченные "N" имеют зависимости кода - удаление или изменение этих значений приведет к ошибкам и, возможно, к сбою приложения. Идентификаторы локализации (например, _locID «codesnippet.n») включены в пакет брендинга Visual Studio.

**Брендинг.xml**

| | |
| - | - |
| Функция: | **Складнойрайон** |
| Используйте следующую команду: | Расширить сворачивание текста управления контентом |
| **Элемент** | **Значение** |
| ExpandText | Разверните |
| КоллапсТекст | Свернуть |
| Функция: | **CodeSnippet** |
| Используйте следующую команду: | Текст управления фрагментом кода.  Примечание: Содержимое фрагмента кода с пространством "Non-Breaking" будет изменено на пространство. |
| **Элемент** | **Значение** |
| CopyToClipboard | Копировать в буфер обмена |
| ViewColorizedText | Просмотр цветных |
| CombinedVBTabDisplayLanguage | Визуальный базовый (образец) |
| VBDeclaration | Объявление |
| VBUsage | Использование |
| Функция: | **Обратная связь, Footer, и логотип** |
| Используйте следующую команду: | Обеспечить контроль обратной связи для клиента, чтобы представить обратную связь по текущей теме по электронной почте.  Текст авторского права на содержание.  Определение логотипа. |
| **Элемент** | **Значение (Эти строки могут быть изменены в соответствии с потребностями в усыновлятелей контента.)** |
| Авторское право | © Корпорация Microsoft (Microsoft Corporation), 2013. Все права защищены. |
| ОтправитьОбратную связь | \<хрефа"{0}" {1}>\<Отправить обратную связь /> на эту тему в Microsoft. |
| Обратная связь | |
| ЛоготипНазвание | [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] |
| LogoFileName | vs_logo_bk.gif |
| LogoFileNameHC | vs_logo_wh.gif |
| Функция: | **Отказ от ответственности** |
| Используйте следующую команду: | Набор конкретных отказов от дел для переведенного содержимого машины. |
| **Элемент** | **Значение** |
| MT_Editable | Эта статья была переведена машиной. Если у вас есть подключение к Интернету, выберите "Просмотреть эту тему в Интернете", чтобы просмотреть эту страницу в режиме отсвазательного с оригинальным английским контентом в то же время. |
| MT_NonEditable | Эта статья была переведена машиной. Если у вас есть подключение к Интернету, выберите "Просмотреть эту тему в Интернете", чтобы просмотреть эту страницу в режиме отсвазательного с оригинальным английским контентом в то же время. |
| MT_QualityEditable | Эта статья была переведена вручную. Если у вас есть подключение к Интернету, выберите "Просмотреть эту тему в Интернете", чтобы просмотреть эту страницу в режиме отсвазательного с оригинальным английским контентом в то же время. |
| MT_QualityNonEditable | Эта статья была переведена вручную. Если у вас есть подключение к Интернету, выберите "Просмотреть эту тему в Интернете", чтобы просмотреть эту страницу в режиме отсвазательного с оригинальным английским контентом в то же время. |
| MT_BetaContents | Эта статья была переведена машиной для предварительного релиза. Если у вас есть подключение к Интернету, выберите "Просмотреть эту тему в Интернете", чтобы просмотреть эту страницу в режиме отсвазательного с оригинальным английским контентом в то же время. |
| MT_BetaRecycledContents | Эта статья была переведена вручную для предварительного релиза. Если у вас есть подключение к Интернету, выберите "Просмотреть эту тему в Интернете", чтобы просмотреть эту страницу в режиме отсвазательного с оригинальным английским контентом в то же время. |
| Функция: | **СсылкаТаблица** |
| Используйте следующую команду: | Поддержка онлайн-ссылок темы |
| **Элемент** | **Значение** |
| LinkTableTitle | Таблица ссылки |
| TopicEnuLinkText | Просмотр английской\<версии /> этой темы, которая доступна на вашем компьютере. |
| TopicOnlineLinkText | Посмотреть \<эту тему href' "{0}>{1} онлайн\</> |
| OnlineText | Справка в Интернете |
| Функция: | **Управление видеоаудио** |
| Используйте следующую команду: | Отображение элементов и текста для видеоконтента |
| **Элемент** | **Значение** |
| MultiMediaNotSupported | Internet Explorer 9 или более {0} должны быть установлены для поддержки содержимого. |
| VideoText | отображение видео |
| АудиоТекст | потоковое аудио |
| OnlineVideoLinkТекст | \<p>Для просмотра видео, связанного с этой темой, нажмите {0} \<на href'{1}">{2}здесь\</>. \</p> |
| OnlineAudioLinkТекст | \<р>Чтобы прослушать аудио, связанные с этой темой, {0} \<нажмите на href"{1}">{2}здесь\</>. \</p> |
| Функция: | **Содержимое не установленное управление** |
| Используйте следующую команду: | Текстовые элементы (строки), используемые для рендеринга contentnotinstalled.htm |
| **Элемент** | **Значение** |
| СодержимоеНеустановленОTitleTitle | Содержимое не было найдено на вашем компьютере. |
| КонтентNotInstalledDownloadContentText | \<р>Для загрузки \<контента на{0}компьютер, href ">{1} щелкнуть вкладку\<Управления />. \</p> |
| КонтентNotInstalledText | \<p>содержимое не устанавливается на вашем компьютере. Обратитесь к администратору для локальной установки содержимого справки. \</p> |
| Функция: | **Тема не найдена управления** |
| Используйте следующую команду: | Текстовые элементы (строки), используемые для рендеринга topicnotfound.htm |
| **Элемент** | **Значение** |
| TopicNotFoundTitle | Не удается найти запрашиваемую тему на вашем компьютере. |
| TopicNotFoundViewOnlineText | \<р>Тема, которую вы просили не \<было найдено на{0} {1} вашем компьютере,\<но вы можете href " ">просмотра темы в Интернете />. \</p> |
| ТемаNotFoundDownloadContentText | \<p>Смотрите навигационное стекло для ссылок \<на аналогичные{0} {1} темы, или\<href » ">щелкнуть вкладку Управления /> для загрузки контента на ваш компьютер. \</p> |
| TopicNotFoundText | \<р>Тема, которую вы просили не было найдено на вашем компьютере. \</p> |
| Функция: | **Тема коррумпированных управления** |
| Используйте следующую команду: | Текстовые элементы (строки), используемые для рендеринга topiccorrupted.htm |
| **Элемент** | **Значение** |
| TopicCorruptedTitle | Невозможно отобразить запрашиваемую тему. |
| ТемаCorruptedViewOnlineText | \<p>Помощь Зритель не может отображать запрашиваемую тему. В содержании темы может быть ошибка или базовая системная зависимость. \</p> |
| Функция: | **Управление домашней страницей** |
| Используйте следующую команду: | Текст, поддерживающий отображение содержимого узла верхнего уровня Help Viewer. |
| **Элемент** | **Значение** |
| HomePageTitle | Помощь Зритель Главная |
| ГлавнаяСтраницаВведение | \<p>Добро пожаловать в Microsoft Help Viewer, важный источник информации для всех, кто использует инструменты, продукты, технологии и услуги Майкрософт. Help Viewer дает вам доступ к информации о том, как и ссылки, пример кода, технических статей и многое другое. Чтобы найти содержимое, необходимое, просмотрите таблицу содержимого, используйте полный текстовый поиск или перейдите по содержимому с помощью индекса ключевых слов. \</p> |
| ГлавнаяPageContentInstallText | \<р \<>br />\<Используйте{0}хреф" " {1}>управление\<содержанием\</ \<> вкладка, чтобы сделать следующее: ul>ли>Добавить содержимое на ваш компьютер. \</li \<>li>Проверьте наличие обновлений вашего локального контента. \</li \<>li>Удалить содержимое с вашего компьютера. \</li \<>/ul>/p \<> |
| HomePageInstalledКниги | Установленные книги |
| ГлавнаяPageNoBooksInstalled | Содержимое не было найдено на вашем компьютере. |
| ГлавнаяPageHelpSettings | Настройки содержимого справки |
| ГлавнаяPageHelpSettingSТекст | \<р>Ваш текущий параметр является местной помощью. Help Viewer отображает содержимое, установленное на компьютере. \<br />Чтобы изменить свой источник содержимого справки, \<в панели{0}меню Visual Studio,\<выберите стиль пролета" ">помощь, установить настройку предпочтений />. \<br />/p \<> |
| Мегабайт | МБ |

**branding.js**

Файл branding.js содержит JavaScript, используемый элементами брендинга Visual Studio Help Viewer.  Ниже приведен список элементов брендинга и поддерживающая функция JavaScript.  Все строки, которые будут локализованы для этого файла, определены в разделе "Localizable Strings" в верхней части этого файла.  Файл ICL создан для лок-строк в файле branding.js.

||||
|-|-|-|
|**Функция брендинга**|**Функция JavaScript**|**Описание**|
|Var...||Определение переменных|
|Получите язык кода пользователя|setUserPreferenceLang|карты индекса и языка кода|
|Установка и получить значения cookie|getCookie, setCookie||
|Унаследованный член|changeMembersLabel|Расширить/свернуть унаследованный член|
|Когда SelfBranded-Ложь|Onload|Прочитайте строку запроса, чтобы проверить, является ли это запросом печати.  Установите все коды, чтобы сфокусировать предпочтительную вкладку пользователя.  Если это запрос на печать, то установите isPrinterFriendly к истине. Проверьте режим высокой контрастности.|
|Фрагмент кода|добавитьSpecificTextLanguageTagSet||
||getIndexFromDevLang||
||ChangeTab||
||setCodesnippetLang||
||setCurrentLang||
||CopyToClipboard||
|Складнойрайон|addToCollapsibleControlSet|записать весь складной объект управления в список.|
||CA_Click|на основе состояния складной области, определяет, какое изображение и текст представить|
|Контрастная поддержка логотипа|isBlackBackground()|Вызывается, чтобы определить, если фон черный.  Только точно, когда в режиме высокой контрастности.|
||isHighContrast()|использовать цветной диапазон для обнаружения режима высокой контрастности|
||onHighContrast (черный)|Вызывается при обнаружении высокого контраста|
|Функциональность LST|||
||addTolanSpecTextIdSet (id)||
||updateLST (currentLang)||
||getDevlangFromCodeSnippet (lang)||
|Функциональность MultiMedia|подпись (начало, конец, текст, стиль)||
||findAllMediaControls (нормализованныйId)||
||getActivePlayer (нормализованныйId)||
||captionsOnOff (id)||
||доСекунды (т)||
||getAllComments (узла)||
||styleRectify (styleName, styleValue)||
||showCC (id)||
||субтитры (id)||

**HTM FILES**

Пакет брендинга содержит набор файлов HTM, поддерживающих сценарии передачи ключевой информации пользователям содержимого, например домашнюю страницу, содержащую раздел, описывающий, какие наборы содержимого установлены, и страницы, сообщающие пользователю, когда темы не могут быть найдены в локальном наборе тем. Эти HTM-файлы могут быть изменены на продукт.  Поставщики ISO Shell могут взять пакет брендинга по умолчанию и изменить поведение и содержание этих страниц, чтобы учесть их потребности.  Эти файлы относятся к их соответствующим пакетом брендинга для того, чтобы теги брендинга, чтобы получить соответствующее содержимое из файла branding.xml.

||||
|-|-|-|
|**Файл**|**Использовать**|**Отображается источник контента**|
|главная страница.htm|Это страница, которая отображает установленный в настоящее время содержимое, и любое другое сообщение, которое подходит для представления пользователю об их содержимом.  Этот файл имеет дополнительный атрибут метаданных "Microsoft.Help.Id" содержимого "-1", который помещает это содержимое в верхней части локального содержимого TOC.||
||<META_HOME_PAGE_TITLE_ADD />|Branding.xml, \<тег HomePageTitle>|
||<HOME_PAGE_INTRODUCTION_SECTION_ADD />|Branding.xml, \<тег HomePageIntroduction>|
||<HOME_PAGE_CONTENT_INSTALL_SECTION_ADD />|Branding.xml, \<тег HomePageContentInstallText>|
||<HOME_PAGE_BOOKS_INSTALLED_SECTION_ADD/>|Заголовок раздела Branding.xml тег\<Имущие книги \<>, данные, полученные из приложения, HomePageNoBooksInstalled>, когда книги не установлены.|
||<HOME_PAGE_SETTINGS_SECTION_ADD />|Заголовок раздела Branding.xml тег \<ИмущиеКакИКс>, раздел текста \<HomePageHelpSettingsText>.|
|topiccorrupted.htm|Когда тема существует в локальном наборе, но по каким-то причинам не может отображаться (поврежденное содержимое).||
||<META_TOPIC_CORRUPTED_TITLE_ADD / >|Branding.xml, \<тег TopicCorruptedTitle>|
||<TOPIC_CORRUPTED_SECTION_ADD />|Branding.xml, \<тег TopicCorruptedViewOnlineText>|
|topicnotfound.htm|Когда тема не найдена в локальном наборе содержимого и не доступна в Интернете||
||<META_TOPIC_NOT_FOUND_TITLE_ADD />|Branding.xml, \<тег TopicNotFoundTitle>|
||<META_TOPIC_NOT_FOUND_ID_ADD />|Branding.xml, \<тег TopicNotFoundViewOnlineText \<> - TopicNotFoundDownloadContentText>|
||<TOPIC_NOT_FOUND_SECTION_ADD />|Branding.xml, \<тег TopicNotFoundText>|
|contentnotinstalled.htm|При отсутствии локального содержимого, установленного для продукта.||
||<META_CONTENT_NOT_INSTALLED_TITLE_ADD / >|Branding.xml, \<тег ContentNotInstalledTitle>|
||<META_CONTENT_NOT_INSTALLED_ID_ADD />|Branding.xml, \<тег ContentNotInstalledDownloadContentText>|
||<CONTENT_NOT_INSTALLED_SECTION_ADD />|Branding.xml, \<тег ContentNotInstalledText>|

**Файлы CSS**

Визуальный Studio Помощь Viewer Брендинг пакет содержит два файла css для поддержки последовательной Визуальной студии Справка содержание презентации:

- Branding.css - содержит css элементы для рендеринга, где SelfBranded

- Printer.css - содержит css элементы для рендеринга, где SelfBranded

Branding.css файлы включают определения для визуальной студии тема презентации (оговорка\<заключается в том, что branding.css, содержащихся в Branding_ локали>.mshc от пакета службы может измениться).

**Графические файлы**

Контент Visual Studio отображает логотип Visual Studio, а также другую графику.  Полный список графических файлов в пакете брендинга Visual Studio Help Viewer приведен ниже.

||||
|-|-|-|
|**Файл**|**Использовать**|**Примеры**|
|clear.gif|Используется для визуализации складной области||
|footer_slice.gif|Презентация Footer||
|info_icon.gif|Используется при отображении информации|Отказ от ответственности|
|online_icon.gif|Этот значок должен быть связан с онлайн-ссылками||
|tabLeftBD.gif|Используется для визуализации контейнера фрагмента кода||
|tabRightBD.gif|Используется для визуализации контейнера фрагмента кода||
|vs_logo_bk.gif|Используется для обычных контрастных логотипов, как \<это определено в теге Branding.xml LogoFileName>.  Для продуктов Visual Studio название логотипа vs_logo_bk.gif.||
|vs_logo_wh.gif|Используется для обычных ссылок с высоким логотипом, как это определено в теге \<Branding.xml LogoFileNameHC>.  Для продуктов Visual Studio название логотипа vs_logo_wh.gif.||
|ccOff.png|Подпись графический||
|ccOn.png|Подпись графический||
|ImageSprite.png|Используется для визуализации складной области|расширенный или крах графический|

## <a name="deploy-a-set-of-topics"></a>Развертывание набора тем

Это простой и быстрый учебник для создания набора развертывания содержимого Help Viewer, состоящего из файла MSHA и набора кабин или MSHCs, содержащих темы. MSHA — это файл XML, описывающий набор файлов кабин или MSHC. Справка Зритель может прочитать MSHA, чтобы получить список контента (. CAB или . Файлы MSHC, доступные для локальной установки.

Это только грунтовка, описывающая самую основную схему XML для Help Viewer MSHA.  Существует пример реализации ниже этого краткого обзора и образца HelpContentSetup.msha.

Название MSHA, для целей этой грунтовки, является HelpContentSetup.msha (название файла может быть что угодно, с расширением . MSHA). HelpContentSetup.msha (пример ниже) должен содержать список доступных кабин или MSHCs.  Тип файла должен быть согласованным в MSHA (не поддерживает комбинацию типов файлов MSHA и CAB). Для каждого CAB или MSHC, \<не должно быть div класса "пакет"> ... \</div> (см. пример ниже).

Примечание: в примере реализации ниже мы включили пакет брендинга. Это очень важно включить для того, чтобы получить необходимые элементы визуализации содержимого Visual Studio и поведение содержимого.

Пример файла HelpContentSetup.msha: (Заменить "содержимое установленное имя 1" и "содержимое набор имя 2" и т.д. с вашими именами файлов.)

```html
<html>
<head />
<body class="vendor-book">
<div class="details">
<span class="vendor">Your Company</span>
<span class="locale">en-us</span>
<span class="product">Your Company Help Content</span>
<span class="name">Your Company Help Content</span>
</div>
<div class="package-list">
<div class="package">
<span class="name">Your_Company _Content_Set_1</span>
<span class="deployed">True</span>
<a class="current-link" href="Your_Company _Content_Set_1.mshc">Your_Company _Content_Set_1.mshc </a>
</div>
<div class="package">
<span class="name">Your_Company _Content_Set_2</span>
<span class="deployed">True</span>
<a class="current-link"href=" Your_Company _Content_Set_2.mshc "> Your_Company _Content_Set_2.mshc </a>
</div>.
```

1. Создание локальной папки, что-то вроде "C: 'SampleContent"

2. В этом примере мы будем использовать файлы MSHC для хранения тем.  MSHC — это застежка-молния с расширением файла, измененным с .zip на . Mshc.

3. Создайте ниже HelpContentSetup.msha в виде текстового файла (блокнот был использован для создания файла) и сохраните его в вышеуказанной папке (см. шаг 1).

Класс "Брендинг" существует и уникален. Брендинг mshc включен в эту грунтовку, так что установленный контент будет иметь брендинг, и содержание поведения, которые содержатся в MSHCs будет иметь соответствующие элементы поддержки, содержащиеся в пакете брендинга. Без этого ошибки возникнут, когда система ищет элементы поддержки, которые не являются частью разорванного (установленного) содержимого.

Чтобы получить пакет брендинга Visual Studio, скопируйте файл Branding_en-US.mshc на C: «Файлы программы (x86)»Microsoft Help Viewer»v2.3 » в рабочую папку.

```html
<html>
<head />
<body class="vendor-book">
<div class="details">
<span class="vendor">Your Company</span>
<span class="locale">en-us</span>
<span class="product">Your Company Help Content</span>
<span class="name">Your Company Help Content</span>
</div>
<div class="package-list">
<div class="package">
<span class="name">Your_Company _Content_Set_1</span>
<span class="deployed">True</span>
<a class="current-link" href="Your_Company _Content_Set_1.mshc">Your_Company _Content_Set_1.mshc </a>
</div>
<div class="package">
<span class="name">Your_Company _Content_Set_2</span>
<span class="deployed">True</span>
<a class="current-link"href=" Your_Company _Content_Set_2.mshc "> Your_Company _Content_Set_2.mshc </a>
</div>
<div class="package">
<span class="packageType">branding</span>
<span class="name">Branding_en-US</span>
<span class="deployed">True</span>
<a class="current-link" href="Branding_en-US.mshc">Branding_en-US.mshc</a>
</div>
</div>
</body>
</html>
```

**Сводка**

Использование и расширение вышеуказанных шагов позволит VSP развернуть свои наборы контента для Visual Studio Help Viewer.

### <a name="add-help-to-the-visual-studio-shell-integrated-and-isolated"></a>Добавить справку в Visual Studio Shell (интегрированная и изолированная)

**Введение**

В этом пошаговом показании показано, как включить содержимое Справки в приложение Visual Studio Shell, а затем развернуть его.

**Требования**

1. [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)]

2. [Визуальная студия 2013 Изолированный Shell Redist](https://visualstudio.microsoft.com/vs/older-downloads/isolated-shell/)

**Обзор**

[!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] Shell — это версия [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] IDE, на которой можно основать приложение. Такие приложения содержат изолированную оболочку вместе с создаваемыми расширениями. Для создания расширений используйте шаблоны [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] проекта Изолированные Shell, которые включены в SDK.

Основные шаги для создания изолированного приложения Shell и его справки:

1. Получить [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] Перераспределительную iSO Shell (загрузка Microsoft).

2. В Visual Studio создайте расширение справки, основанное на изолированной оболочке, например, расширение Contoso Help, описанное позже в этом пошаговом шаге.

3. Оберните расширение и eSO Shell, перераспределительных в развертывание MSI (настройка приложения). Это Прохождение не включает шаг установки.

Создайте магазин контента Visual Studio. Для сценария Integrated Shell измените Visual Studio12 на название каталога продукции следующим образом:

- Создайте папку C: «ProgramData»Microsoft/HelpLibrary2-Каталоги,VisualStudio15.

- Создайте файл под названием CatalogType.xml и добавьте его в папку. Файл должен содержать следующие строки кода:

    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <catalogType>UserManaged</catalogType>
    ```

Определите хранилище содержимого в реестре. Для интегрированной оболочки измените VisualStudio15 на название каталога продукции:

- HKLM-SOFTWARE-Wow6432Node-Microsoft/Help/v2.3-Catalogs-VisualStudio15

   Ключ: Значение строки LocationPath String: C:'ProgramData»Microsoft/HelpLibrary2

- HKLM-SOFTWARE-Wow6432Node-Microsoft/Help/v2.3-Catalogs/VisualStudio15-en-US

   Ключ: Значение строки [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] CatalogueName: Документация

**Создание проекта**

Для создания изолированного расширения оболочки:

1. В Visual Studio, под **файлом**, выбрать **новый проект**, в рамках **других типов проектов** выбрать **Расширительность**, а затем выбрать **Visual Studio Shell изолированных**. Назовите проект `ContosoHelpShell`) для создания проекта по размножестности на основе шаблона Visual Studio Isolated Shell.

2. В Solution Explorer, в проекте ContosoHelpShellUI, в папке «Файлы ресурсов» — открыто applicationCommands.vsct. Убедитесь, что эта строка комментируется (поиск "No_Help"):`<!-- <define name="No_HelpMenuCommands"/> -->`

3. Выберите ключ F5 для компиляции и запуска **Debug.** В экспериментальном экземпляре изолированной оболочки IDE выберите меню **справки.** Убедитесь, что отображаются справки **по представлению,** **добавляем и удаляйте содержимое справки**и установить настройки команд **«Настройка предпочтений».**

4. В Solution Explorer, в проекте ContosHelpShell, в папке Shell Customization, откройте ContosoHelpShell.pkgdef. Чтобы определить каталог справки Contoso, добавьте следующие строки:

    ```
     [$RootKey$\Help]
    "Product"="Contoso"
    "Catalog"="Contoso"
    "Version"="100"
    "BrandingPackage"="ContosoBrandingPackage.mshc"
    ```

5. В Solution Explorer, в проекте ContosHelpShell, в папке Shell Customization, откройте ContosoHelpShell.Application.pkgdef. Чтобы включить справку F1, добавьте следующие строки:

    ```
    // F1 Help Provider

    [$RootKey$\HelpProviders\{C99BDC23-FF29-46bf-9658-ADD634CCAED8}]
    "Name"="13407"
    "Package"="{DA9FB551-C724-11d0-AE1F-00A0C90FFFC3}"
    @="Help3 Provider"
    [$RootKey$\HelpProviders]
    @="{C99BDC23-FF29-46bf-9658-ADD634CCAED8}"
    [$RootKey$\Services\{C99BDC23-FF29-46bf-9658-ADD634CCAED8}]
    "Name"="Help3 Provider"
    @="{4A791146-19E4-11D3-B86B-00C04F79F802}"
    ```

6. В Solution Explorer, в контекстном меню решения ContosoHelpShell, выберите пункт меню **Properties.** Под **свойствами конфигурации**выберите **менеджер конфигурации.** В столбце **Конфигурации** измените каждое значение "Debug" на "Release".

7. Создайте решение. Это создает набор файлов в папке релиза, которая будет использоваться в следующем разделе.

Чтобы проверить это, как если бы развернуты:

1. На машине, на которую вы развертываете Contoso, установите загруженную (сверху) ISO Shell.

2. Создайте папку \\в файлах программы\\(x86) и назовите ее. `Contoso`

3. Копируйте содержимое из папки выпуска \\ContosoHelpShell в папку «Программные файлы» (x86).

4. Запустите редактор реестра, выбрав `Regedit` **Run** в меню **«Пуск»** и введя . В редакторе реестра выберите **файл,** а затем **импорт**. Просмотрите папку проекта ContosoHelpShell. В субфолдере ContosoHelpShell выберите ContosoHelpShell.reg.

5. Создание хранилища содержимого:

    Для ISO Shell - создать магазин контента Contoso C: «ProgramData»Microsoft/HelpLibrary2»Каталоги »ContosoDev12

    Для [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] интегрированной оболочки создайте папку C:'ProgramData-Microsoft/HelpLibrary2 -Каталоги/VisualStudio15

6. Создайте CatalogType.xml и добавьте в хранилище содержимого (предыдущий шаг), содержащий:

   ```xml
   <?xml version="1.0" encoding="UTF-8"?>
   <catalogType>UserManaged</catalogType>
   ```

7. Добавьте следующие ключи реестра:

    HKLM-SOFTWARE-Wow6432Node-Microsoft-Help/v2.3-Catalogs/VisualStudio15Key: Значение строки LocationPath:

    Для Оболочки ИСО:

    C:ПрограммаДатаMicrosoftHelpLibrary2КаталогиВательнаяСтудия15

    [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)]Интегрированная оболочка:

    C:ПрограммаДатаMicrosoftHelpLibrary2КаталогиваюалЕКвейт15ен-США

    Ключ: Значение строки [!INCLUDE[vs_dev12](../../extensibility/includes/vs_dev12_md.md)] CatalogueName: Документация. Для ISO Shell это название вашего каталога.

8. Копируйте содержимое (такси или MSHC и MSHA) в локальную папку.

9. Пример интегрированной командной строки Shell для тестирования хранилища контента. Для ISO Shell измените значение каталога и запуска App по мере необходимости, чтобы соответствовать продукту.

     "C:'Программные файлы (x86)»Microsoft Help Viewer-v2.3'HlpViewer.exe"/catalogName VisualStudio15 /метод справки"""страница&id'ContosoTopic0" /launchingApp Microsoft,VisualStudio,12.0

10. Запуск приложения Contoso (из корня приложения Contoso). В оболочке ISO выберите элемент меню **справки** и измените **настройку Справки для** **использования локальной справки.**

11. В оболочке выберите элемент меню **справки,** а затем **просмотрите справку.** Местный зритель справки должен запустить. Выберите вкладку **«Управление контентом».** Под **источником установки**выберите кнопку опции **Диска.** Выберите кнопку **...** Выберите HelpContentSetup.msha. Contoso теперь должны показать вверх как книга в выборе книги. Выберите **Добавить,** а затем выбрать кнопку **обновления** (нижний правый угол).

12. В Contoso IDE выберите клавишу F1 для тестирования функциональности F1.

## <a name="additional-resources"></a>Дополнительные ресурсы

Для API Runtime [см.](/previous-versions/windows/desktop/helpapi/helpapi-portal)

Для получения дополнительной информации о том, как использовать API справки, смотрите [примеры кода Help Viewer.](https://marketplace.visualstudio.com/items?itemName=RobChandlerHelpMVP.HelpViewer20CodeExamples)

Вы можете отправить предложения функции на [сообществе разработчиков](https://developercommunity.visualstudio.com/content/idea/post.html?space=8).
