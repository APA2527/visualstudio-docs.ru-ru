---
title: Описание каталога шаблонов (. Vsdir) Файлы Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- .vsdir files
- VSDIR files
- template directory description files
ms.assetid: 9df51800-190e-4662-b685-fdaafcff1400
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 16ba609d5b05d565a12b38bd19e9a777851ced5b
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80704687"
---
# <a name="template-directory-description-vsdir-files"></a>Файлы описания каталога шаблона (VSDIR-файлы)
Файл описания каталога шаблонов (.vsdir) — это текстовый файл, позволяющий интегрированной среде разработки (IDE) отображать папки, файлы wizard .vsz и файлы шаблонов, связанные с проектом в диалоговых коробках. Содержимое включает одну запись на файл или папку. Все файлы .vsdir в ссылке место слияния, хотя только один файл .vsdir обычно предоставляется для описания нескольких папок, мастеров или файлов шаблонов.

 Складные материалы (субдиректории), файлы, на которые ссылаются в файле .vsdir, и сам файл .vsdir расположены в одном каталоге. Когда IDE запускает мастер или отображает папку или файл в новых коробках диалога **Проекта** или **добавить new Item,** IDE изучает каталог, содержащий выполненные файлы, чтобы определить, присутствует ли файл .vsdir. При обнаружении файла .vsdir IDE считывает его, чтобы определить, содержит ли он запись для выполненной или отображаемых папок или файлов. При обнаружении записи IDE использует информацию при исполнении мастера или отображении содержимого.

 Следующий пример кода из файла SourceFiles.vsdir в \<ключе реестра EnvSDK Source_Files>

```
HeaderFile.h|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#125|130|#126|0|0|0|#127
SourceFile.cpp|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#122|110|#123|0|0|0|#124
```

 В этом случае две записи находятся в одном файле. Новая линия (символ возврата перевозки) разделяет каждую запись. Каждая строка представляет другой тип файла. Символ трубы (&#124;) отделяет поля в каждой записи. Один каталог может содержать несколько файлов .vsdir с разными именами файлов, или вы можете иметь один файл .vsdir для каждого типа файла.

## <a name="fields"></a>Поля
 В следующей таблице перечислены поля, указанные для каждой записи.

| Поле | Описание |
| - | - |
| Имя относительного пути (RelPathName) | Имя папки, шаблона или файла .vsz, например HeaderFile.h или MyWizard.vsz. Это поле также может быть именем, используемым для представления папки. |
| (clsidPackage) | GUID VSPackage, который позволяет получить доступ к локализованным строкам, таким как LocalizedName, Описание, IconResourceId и SuggestedBaseName, в библиотеке спутниковой динамической связи VSPackage (DLL). IconResourceId применяется, если DLLPath не поставляется. **Примечание:**  Это поле не является обязательным, если одно или несколько предыдущих полей не являются идентификатором ресурсов. Это поле обычно пусто для файлов .vsdir, которые соответствуют сторонним мастерам, которые не локализуют свой текст. |
| ЛокализованоИмя | Локализованное имя файла шаблона или мастера. Это поле может быть строкой или идентификатором ресурса формы "#ResID". Это имя отображается в диалоговом окне **Добавить новый элемент.** **Примечание:**  Если LocalizedName является идентификатором ресурсов, то требуется «clsidPackage». |
| СортировкаПриоритет | Цель, представляющий относительный приоритет этого файла шаблона или мастера. Например, если этот элемент имеет значение 1, то этот элемент отображается рядом с другими элементами со значением 1 и опережает все элементы со значением рода 2 или больше.<br /><br /> Приоритет сортировки по отношению к элементам в том же каталоге. В одном каталоге может быть более одного файла .vsdir. В этом случае, элементы из всех <em>.</em> vsdir файлы в этом каталоге объединяются. Элементы с таким же приоритетом перечислены в нечувствительном лексикографическом порядке отображаемого имени. Функция `_wcsicmp` используется для заказа элементов.<br /><br /> Элементы, не описанные в файлах .vsdir, включают число приоритетов, превышающее число приоритетов, перечисленных в файлах .vsdir. В результате эти элементы находятся в конце отображаемого списка независимо от их имени. |
| Описание | Локализованное описание файла шаблона или мастера. Это поле может быть строкой или идентификатором ресурса формы "#ResID". Эта строка отображается в диалоговом окне **нового проекта** или **добавить новый элемент** при выборе элемента. |
| DLLPath или «clsidPackage» | Используется для загрузки значка для файла шаблона или мастера. Значок загружается как ресурс из файла .dll или .exe с помощью IconResourceId. Этот файл .dll или .exe можно идентифицировать либо с помощью полного пути, либо с помощью GUID VSPackage. Реализация DLL VSPackage используется для загрузки значка (не спутника DLL). |
| IconResourceId | Идентификатор ресурсов в DLL или VSPackage реализации DLL, который определяет значок для отображения. |
| Флаги<xref:Microsoft.VisualStudio.Shell.Interop.__VSDIRFLAGS>( ) | Используется для отключать или включать поля **имени** и **местоположения** в диалоговом поле **Добавить новый элемент.** Значение поля **Флаги** является десятичным эквивалентом комбинации требуемых флагов бита.<br /><br /> Когда пользователь выбирает элемент на **новой** вкладке, проект определяет, отображаются ли поле имени и поле местоположения при первом отображении диалогового окна **Добавления** нового элемента. Элемент через файл .vsdir может контролировать только то, включены ли поля по сравнению с отключенными при выборе элемента. |
| РекомендуемаяБазаНайм | Представляет имя по умолчанию для файла, мастера или шаблона. Это поле является либо строкой, либо идентификатором ресурса формы "#ResID". IDE использует это значение для предоставления имени по умолчанию для элемента. Это базовое значение придатится к целым значениям, чтобы сделать имя уникальным, например MyFile21.asp.<br /><br /> В предыдущем списке описание, DLLPath, IconResourceId, Флаги и SuggestedBaseNumber применяются только к файлам шаблонов и мастеров. Эти поля не применяются к папкам. Этот факт иллюстрируется в коде в файле BscPrjProjectItems в ключе реестра \<EnvSDK>»BscPrj-BscPrjProjectItems. Этот файл содержит три записи (по одной для каждой папки) с четырьмя полями для каждой записи: RelPathName, «clsidPackage», LocalizedName и SortPriority.<br /><br /> `General&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#110&#124;100`<br /><br /> `Source_Files&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#111&#124;110`<br /><br /> `Env&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#112&#124;120` |

 При создании файла мастера следует также рассмотреть следующие проблемы.

- Любое необязательное поле, для которого нет значимых данных, должно содержать 0 (ноль) в качестве заполнителя.

- Если локальное имя не предусмотрено, в файле мастера используется относительное имя пути.

- DLLPath переопределяет clsidPackage для расположения значков.

- Если значок не определен, IDE заменяет значок по умолчанию для файла с этим расширением.

- Если предложенное базовое название не предусмотрено, используется «Проект».

- Если вы удалите файлы .vsz, папки или шаблоны, вы также должны удалить связанные с ними записи из файла .vsdir.

## <a name="see-also"></a>См. также
- [Мастера](../../extensibility/internals/wizards.md)
- [Файл мастера (VSZ-файл)](../../extensibility/internals/wizard-dot-vsz-file.md)
