---
title: Внутри Визуальной студии SDK (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- roadmap, Visual Studio integration SDK
- Visual Studio integration SDK roadmap
- integration roadmap, Visual Studio SDK
ms.assetid: 9118eaa4-0453-4dc5-9e16-c7062d254869
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 0e72020795bc3181e11f0f90eff580a2365d4000
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80707576"
---
# <a name="inside-the-visual-studio-sdk"></a>Компоненты пакета SDK для Visual Studio

В этом разделе содержится подробная информация о расширениях Visual Studio, включая архитектуру Visual Studio, компоненты, сервисы, схемы, утилиты и тому подобное.

## <a name="extensibility-architecture"></a>Архитектура расширяемости
 На следующей иллюстрации показана архитектура расширяемости Visual Studio. VSPackages предоставляют функциональность приложений, которая используется по всему IDE в качестве услуг. Стандартный IDE также предлагает широкий спектр <xref:Microsoft.VisualStudio.Shell.Interop.SVsUIShell>услуг, таких как , которые обеспечивают доступ к функциональности окон IDE.

 ![Архитектура окружающей среды графический](../../extensibility/internals/media/environment.gif "Среда") Обобщенный вид архитектуры Visual Studio

## <a name="vspackages"></a>VSPackages
 Пакеты VSPackage — это программные модули, которые образуют и расширяют среду Visual Studio с помощью элементов пользовательского интерфейса, служб, проектов, редакторов и конструкторов. VSPackages являются центральным архитектурным подразделением Visual Studio. Дополнительные сведения см. в разделе [VSPackages](../../extensibility/internals/vspackages.md).

## <a name="visual-studio-shell"></a>Visual Studio Shell
 Оболочка Visual Studio обеспечивает базовую функциональность и поддержку межкоммуникации между компонентами VSPackages и расширениями MEF. Для получения дополнительной информации, [см.](../../extensibility/internals/visual-studio-shell.md)

## <a name="user-experience-guidelines"></a>Руководство по работе пользователей
 Если вы планируете разработать новые функции для Visual Studio, вы должны взглянуть на эти руководящие принципы для проектирования и удобства использования [советы: Visual Studio Пользовательские Принципы опыта](../../extensibility/ux-guidelines/visual-studio-user-experience-guidelines.md).

## <a name="commands"></a>Команды
 Команды — это функции, которые выполняют задачи, например печать документа, обновление представления или создание нового файла.

 При расширении Visual Studio можно создавать команды и регистрировать их в оболочке Visual Studio. Можно указать, как эти команды будут отображаться в IDE, например, в меню или панели инструментов. Обычно пользовательская команда отображается в меню **«Инструменты»,** а в меню **«Другое** меню» — в подменю **«Другого окна».**

 При создании команды необходимо также создать обработчик событий. Обработчик событий определяет, когда команда видна или включена, позволяет изменить текст и гарантирует, что команда отвечает соответствующим образом при ее активации. В большинстве случаев IDE обрабатывает команды <xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget> с помощью интерфейса. Команды в Visual Studio обрабатываются, начиная со внутреннего контекста команды, основанного на локальном выборе, и переходят к внешнему контексту, основанному на глобальном выборе. Команды, добавленные в главное меню, становятся сразу доступными для использования в сценариях.

 Для получения дополнительной [информации см.](../../extensibility/internals/commands-menus-and-toolbars.md)

## <a name="menus-and-toolbars"></a>Меню и панели инструментов
 Меню и панели инструментов предоставляют пользователям возможность вызывать команды. Меню — это строки или столбцы команд, которые обычно отображаются в виде отдельных текстовых элементов в верхнем окне инструмента. Submenus являются вторичными меню, которые появляются, когда пользователь нажимает команды, которые включают небольшую стрелку. Контекстные меню появляются, когда пользователь щелкает определенными элементами пользовательского интерфейса. Некоторые общие имена меню **файл,** **отсвативайте,** **просмотр**, и **окно**. Для получения дополнительной [информации см.](../../extensibility/extending-menus-and-commands.md)

 Панели инструментов — это строки или столбцы кнопок и других элементов управления, таких как комбо-боксы, почтовые ящики и текстовые ящики. Кнопки панели инструментов обычно имеют изображения значков, такие как значок папки для команды **Open File** или принтер для команды **Print.** Все элементы панели инструментов связаны с командами. При нажатии кнопки панели инструментов выполняется связанная с ней команда. В случае элемента выпадения-вниз каждый элемент в списке выпадающих связан с другой командой. Некоторые элементы управления панелью инструментов, такие как управление сплиттером, являются гибридами. Одна сторона управления — это кнопка панели инструментов, а другая — стрелка вниз, которая отображает несколько команд при нажатии.

## <a name="tool-windows"></a>Окна инструментов
 Окна инструментов используются в IDE для отображения информации. **Toolbox**, **Solution Explorer,** Окно **Свойств** и **веб-браузер** являются примерами окон инструментов.

 Окна инструментов обычно предлагают различные элементы управления, с которыми пользователь может взаимодействовать. Например, окно **Свойств** позволяет пользователю устанавливать свойства объектов, которые служат определенной цели. Окно **Свойства** специализируется в этом смысле, но и общее, потому что он может быть использован в различных ситуациях. Аналогичным образом, окно **вывода** является специализированным, поскольку оно обеспечивает текстовый выход, но в целом, поскольку многие подсистемы в Visual Studio могут использовать его для предоставления результатов пользователю Visual Studio.

 Рассмотрим следующую картину Visual Studio, которая содержит несколько окон инструментов:

 ![Снимок экрана](../../extensibility/internals/media/t1gui.png "T1gui")

 Некоторые окна инструмента состыкованы на одном стекле, которое отображает окно инструмента Solution Explorer и скрывает другие окна инструмента, но делает их доступными, нажав на вкладки. На рисунке показаны два других окна инструмента, **Список ошибок** и окно **вывода,** пристыковано к одной панели.

 Также показано основное стекло документа, которое показывает несколько окон редактора. Хотя окна инструментов обычно имеют только один экземпляр (например, вы можете открыть только один **Solution Explorer),** окна редактора могут иметь несколько экземпляров, каждый из которых используется для редактирования отдельного документа, но все они состыкованы в одном стежке. На рисунке показана панель документов с двумя окнами редактора, одно окно конструктора формы. Все окна в панели документов доступны при нажатии на вкладки, но окно редактора, содержащее EditorPane.cs файла, является видимым и активным.

 При расширении Visual Studio можно создавать окна инструментов, которые позволяют пользователям Visual Studio взаимодействовать с вашим расширением. Вы также можете создать свои собственные редакторы, которые позволяют пользователям Visual Studio редактировать документы. Поскольку ваши окна инструментов и редакторы будут интегрированы в Visual Studio, вам не нужно программировать их для стыковки или отображаются на вкладке правильно. Когда они правильно зарегистрированы в Visual Studio, они будут автоматически иметь типичные особенности окна инструмента и окна документа в Visual Studio. Для получения дополнительной информации [см.](../../extensibility/extending-and-customizing-tool-windows.md)

## <a name="document-windows"></a>Окна документов
 Окно документа — это окно в рамке окна интерфейса с несколькими документами (MDI). Окна документов обычно используются для размещения текстовых редакторов, редакторов форм (также известных как дизайнеры) или управления редактированием, но они также могут размещать другие функциональные типы. В диалоговом окне **нового файла** приведены примеры окон документов, которые предоставляет Visual Studio.

 Большинство редакторов специфичны для языка программирования или для типа файла, например HTML-страниц, рамок, файлов c- или заголовка. Выбрав шаблон в диалоговом поле **Нового Файла,** пользователь динамически создает окно документа для редактора для типа файла, связанного с шаблоном. Окно документа также создается, когда пользователь открывает существующий файл.

 Окна документов ограничены областью клиента MDI. Каждое окно документа имеет вкладку сверху, а порядок вкладок связан с другими окнами, которые могут быть открыты в области MDI. Правое нажатие вкладки окна документа отображает меню ярлыка, которое включает в себя варианты разделения области MDI на несколько горизонтальных или вертикальных групп вкладок. Разделение области MDI позволяет просматривать несколько файлов одновременно. Для получения дополнительной информации [см.](../../extensibility/internals/document-windows.md)

## <a name="editors"></a>Редакторы
 Редактор Visual Studio позволяет настроить его и использовать для собственного типа контента с помощью управляемой рамки расширяемости (MEF). Во многих случаях вам не нужно будет создавать VSPackage, чтобы расширить редактор, хотя если вы хотите включить функции из оболочки (например, команда меню или ключ ярлыка), вы можете объединить расширение MEF с VSPackage.

 Вы также можете создать пользовательский редактор, например, если вы хотите читать и писать в базу данных, или если вы хотите использовать дизайнера. Вы также можете использовать внешний редактор, такой как Notepad или Microsoft WordPad. Для получения дополнительной [информации см.](../../extensibility/editor-and-language-service-extensions.md)

## <a name="language-services"></a>Языковые услуги
 Если вы хотите, чтобы редактор Visual Studio поддерживал новые ключевые слова программирования или даже новый язык программирования, вы создаете языковую службу. Каждая языковая служба может полностью реализовать определенные функции редактора или вообще не реализовывать. В зависимости от того, как он настроен, языковая служба может обеспечить подсветку синтаксиса, соответствие скобки, поддержку IntelliSense и другие функции в редакторе.

 В основе языковой службы находятся парсер и сканер. Сканер (или lexer) делит исходный файл на элементы, известные как токены, и парсер устанавливает отношения между этими токенами. При создании языковой службы необходимо реализовать парсер и сканер, чтобы Visual Studio мог понять жетоны и грамматику языка. Можно создавать управляемые или неуправляемые языковые службы. Для получения дополнительной информации [см.](../../extensibility/internals/legacy-language-service-extensibility.md)

## <a name="projects"></a>Проекты

В Visual Studio проекты — это контейнеры, которые разработчики используют для организации и создания исходного кода и других ресурсов. Проекты позволяют организовывать, создавать, отлаживать и развертывать исходный код, ссылки на web-службы и базы данных и другие ресурсы. VSPackages может расширить систему проектов Visual Studio, предоставляя типы проектов, подтипы проектов и пользовательские инструменты.

Проекты также могут быть собраны вместе в *решении,* которое представляет собой группировку одного или нескольких проектов, которые работают вместе для создания приложения. Информация о проекте и статусе, относящаяся к решению, хранится в двух файлах решения, файле решения на основе текста [(.sln)](solution-dot-sln-file.md) и опции пользователя двоичного [решения (.suo).](solution-user-options-dot-suo-file.md) Эти файлы аналогичны файлам группы (.vbg), которые использовались в более ранних версиях Visual Basic, а также к рабочей области (.dsw) и пользовательским опциям (.opt), которые использовались в более ранних версиях СЗ.

Для получения дополнительной информации [Solutions](../../extensibility/internals/solutions-overview.md)см. [Projects](../../extensibility/internals/projects.md)

## <a name="project-and-item-templates"></a>Шаблоны проектов и элементов
 Visual Studio включает в себя предопределенные шаблоны проекта и шаблоны элементов проекта. Вы также можете создать свои собственные шаблоны или приобрести шаблоны из сообщества, а затем интегрировать их в Visual Studio. [MSDN Code Gallery](https://code.msdn.microsoft.com/site/search?query=visual%20studio) — это место для шаблонов и расширений.

 Шаблоны содержат структуру проекта и основные файлы, необходимые для создания определенного типа приложения, управления, библиотеки или класса. Если вы хотите разработать программное обеспечение, напоминающее один из шаблонов, создайте проект, основанный на шаблоне, а затем измените файлы в этом проекте.

> [!NOTE]
> Эта архитектура шаблонов [!INCLUDE[vcprvc](../../code-quality/includes/vcprvc_md.md)] не поддерживается для проектов.

 Для получения дополнительной [информации см.](../../extensibility/internals/adding-project-and-project-item-templates.md)

## <a name="properties-and-options"></a>Свойства и опции
 Окно **Свойства** отображает свойства одного или нескольких выбранных элементов: [Расширяющиеся](../../extensibility/internals/extending-properties.md) параметры свойств содержат наборы параметров, относящихся к определенному компоненту, такие как язык программирования или VSPackage: [Параметры и страницы вариантов.](../../extensibility/internals/options-and-options-pages.md) Настройки, как правило, связанные с пользовательским интерфейсом функции, которые могут быть импортированы и [экспортированы: Поддержка настроек пользователя.](../../extensibility/internals/support-for-user-settings.md)

## <a name="visual-studio-services"></a>Услуги визуальной студии
 Служба предоставляет определенный набор интерфейсов для потребления компонентов. Visual Studio предоставляет набор услуг, которые могут быть использованы любыми компонентами, включая расширения. Например, службы Visual Studio позволяют динамически отображать или прятать окна инструментов, включать доступ к справке, панели статуса или событиям uI. Редактор Visual Studio также предоставляет услуги, которые могут быть импортированы расширениями редактора. Для получения дополнительной информации [см.](../../extensibility/using-and-providing-services.md)

## <a name="debugger"></a>Отладчик
 Отладчик — это пользовательский интерфейс для компонентов отладки, специфичные для языка. Если вы создали новую языковую службу, вам нужно будет создать определенный движок отладки, чтобы подключиться к отладчику. Для получения дополнительной информации, см [Visual Studio Debugger Расширяемые](../../extensibility/debugger/visual-studio-debugger-extensibility.md).

## <a name="source-control"></a>Система управления версиями
 Для получения информации о реализации плагина управления исходным элементом или VSPackage [см.](../../extensibility/internals/source-control.md)

## <a name="wizards"></a>Мастера
 Можно создать мастера в сочетании с новым типом проекта, чтобы мастер мог помочь пользователям принимать правильные решения при создании нового проекта такого типа. Для получения дополнительной [информации см.](../../extensibility/internals/wizards.md)

## <a name="custom-tools"></a>Настраиваемые средства
 Пользовательские инструменты позволяют связать инструмент с элементом в проекте и запустить этот инструмент всякий раз, когда файл сохраняется. Для получения дополнительной информации [см.](../../extensibility/internals/custom-tools.md)

## <a name="vssdk-utilities"></a>Служебные программы VSSDK
 VSSDK включает в себя набор утилит, которые могут понадобиться для работы с различными аспектами VSPackages. Для получения дополнительной информации, см [VSSDK Утилиты](../../extensibility/internals/vssdk-utilities.md).

## <a name="using-windows-installer"></a>Использование установки Windows
 В некоторых случаях вам может понадобиться использовать установщик Windows, а не vSIX установщик: например, вам может понадобиться написать в реестр. Для получения информации об использовании Windows Installer с вашими расширениями, см [Установка VSPackages с установкой Windows](../../extensibility/internals/installing-vspackages-with-windows-installer.md).

## <a name="help-viewer"></a>Окно справки
 Вы можете интегрировать свою собственную помощь и страницы F1 в Справку Viewer. Для получения дополнительной [Microsoft Help Viewer SDK](../../extensibility/internals/microsoft-help-viewer-sdk.md)информации см.
