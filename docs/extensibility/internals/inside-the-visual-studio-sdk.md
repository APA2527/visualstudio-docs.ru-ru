---
title: Внутри Visual Studio SDK | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- roadmap, Visual Studio integration SDK
- Visual Studio integration SDK roadmap
- integration roadmap, Visual Studio SDK
ms.assetid: 9118eaa4-0453-4dc5-9e16-c7062d254869
author: gregvanl
ms.author: gregvanl
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 078bf457c798c0be9ac56aad1859c6750881922a
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62909679"
---
# <a name="inside-the-visual-studio-sdk"></a>Компоненты пакета SDK для Visual Studio

В этом разделе содержатся подробные сведения о расширениях Visual Studio, включая архитектуры Visual Studio, компоненты, службы, схемы, служебные программы и т. п.

## <a name="extensibility-architecture"></a>Архитектура расширения
 Архитектура расширения Visual Studio на следующем рисунке. Пакеты VSPackage предоставляют функциональные возможности приложения, который является общим в интегрированной среде разработки, как службы. Стандартный IDE также предлагает широкий спектр служб, таких как <xref:Microsoft.VisualStudio.Shell.Interop.SVsUIShell>, которые обеспечивают доступ к функциям окон интегрированной среды разработки.

 ![График архитектуры среды](../../extensibility/internals/media/environment.gif "среды") обобщить схема архитектуры в Visual Studio

## <a name="vspackages"></a>VSPackages
 Пакеты VSPackage — это программные модули, которые образуют и расширяют среду Visual Studio с помощью элементов пользовательского интерфейса, служб, проектов, редакторов и конструкторов. Пакеты VSPackage являются центральным элементом архитектуры Visual Studio. Дополнительные сведения см. в разделе [VSPackages](../../extensibility/internals/vspackages.md).

## <a name="visual-studio-shell"></a>Visual Studio Shell
 Оболочка Visual Studio предоставляет основные функциональные возможности и поддержки взаимодействия между его компонент пакетов VSPackage и расширения MEF. Дополнительные сведения см. в разделе [оболочки Visual Studio](../../extensibility/internals/visual-studio-shell.md).

## <a name="user-experience-guidelines"></a>Руководство по работе пользователей
 Если вы планируете проектировать новые функции для Visual Studio, вы должны взгляните на эти рекомендации для разработки и удобства использования советы: [Рекомендации по пользовательскому интерфейсу Visual Studio](../../extensibility/ux-guidelines/visual-studio-user-experience-guidelines.md).

## <a name="commands"></a>Команды
 Команды — это функции, которые выполняют задачи, например печать документа, обновление представления или создание нового файла.

 При расширении Visual Studio, можно создать с помощью команд и их регистрации в оболочке Visual Studio. Можно указать, как эти команды будет выглядеть в интегрированной среде разработки, например, в меню или панели инструментов. Обычно отображается пользовательской команды на **средства** меню и команды для отображения окна инструментов будет отображаться на **Other Windows** подменю **представление** меню.

 При создании команды, необходимо также создать обработчик событий для него. Обработчик событий определяет, когда команда видна или включена, позволяет изменить ее текст и гарантирует, что команда отвечает соответствующим образом при его активации. В большинстве случаев среда IDE обрабатывает команды с помощью <xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget> интерфейс. Команды в Visual Studio, обрабатываются, начиная с корневого контекста команды, на основе локального выбора и до внешнего контекста на основе глобального выделения. Команды, добавленные в главное меню, становятся сразу доступными для использования в сценариях.

 Дополнительные сведения см. в разделе [команд, меню и панелей инструментов](../../extensibility/internals/commands-menus-and-toolbars.md).

## <a name="menus-and-toolbars"></a>Меню и панелей инструментов
 Меню и панели инструментов позволяют пользователям вызывать команды. Меню, строки или столбцы из команд, которые обычно отображаются в виде отдельных текстовых элементов в верхней части окна инструментов. Подменю отображаются подчиненное меню, которые отображаются при щелчке команды, включающие маленькую стрелку. Контекстные меню отображаются, когда пользователь щелкает правой кнопкой мыши определённые элементы пользовательского интерфейса. Некоторые общие имена меню являются **файл**, **изменить**, **представление**, и **окно**. Дополнительные сведения см. в разделе [расширение меню и команд](../../extensibility/extending-menus-and-commands.md).

 Панели инструментов, строк или столбцов, кнопок и других элементов управления, таких как поля со списком, списков и текстовых полей. Кнопки панели инструментов, обычно имеют значок изображения, такие как значок папки для **открыть файл** команды или принтер для **печати** команды. Все элементы панели инструментов связаны с командами. При нажатии кнопки на панели инструментов, выполняется ее связанная команда. В случае раскрывающийся элемент управления каждый элемент в раскрывающемся списке связан с другой командой. Некоторые элементы управления панели инструментов, таких как элемент управления разделителя являются гибридами. Одной стороны элемента управления — это кнопка панели инструментов и другая сторона – стрелку вниз, которая отображает несколько команд при нажатии.

## <a name="tool-windows"></a>Окна инструментов
 Средство windows используются в интегрированной среде разработки для отображения информации. **Панель элементов**, **обозревателе решений**, **свойства** окно, и **веб-браузере** приведены примеры окна инструментов.

 Окна инструментов обычно предлагают различные элементы управления, с которыми может взаимодействовать пользователь. Например **свойства** окно позволит пользователю устанавливать свойства объектов, которые служат для определенной цели. **Свойства** окна специализированного в этом смысле, но также общие, так как он может использоваться во многих различных ситуациях. Аналогичным образом **вывода** окно является специальным, так как он предоставляет текстовый вывод, но Общие, так как многие подсистемы в Visual Studio можно использовать для предоставления выходного пользователем Visual Studio.

 Примите во внимание следующие картину Visual Studio, которая содержит несколько окон инструментов.

 ![Снимок экрана](../../extensibility/internals/media/t1gui.png "T1gui")

 Некоторые окна инструментов закреплены вместе на одной панели, отображает окно инструментов обозревателя решений и скрывает окна инструментов, но делает их доступными, щелкнув вкладки. На рисунке показаны две другие окна инструментов, **список ошибок** и **вывода** окна, скрепленных вместе на одной панели.

 Это области основного документа, в которой перечислены несколько окон редактора. Несмотря на то, что окна инструментов обычно может быть только один экземпляр (например, можно открыть только один **обозревателе решений**), редактор windows может иметь несколько экземпляров, каждый из которых используется для редактирования в виде отдельного документа, но все они закреплены в та же область. На рисунке показана область документа, которая имеет два окна редактора, одно окно конструктора форм. Доступны все окна в окне документа, щелкнув вкладки, но в окне редактора, содержащее файл EditorPane.cs видимым и становится активной.

 При расширении Visual Studio, можно создать средство windows, которые позволяют пользователям Visual Studio взаимодействовать с расширением. Можно также создать свои собственные редакторы, позволяющих редактировать документы пользователям Visual Studio. Окна инструментов и редакторов будет интегрирован в Visual Studio, у вас нет их, чтобы закрепить или правильного отображения на вкладке программирования. При правильной регистрации в Visual Studio, они автоматически получают типичные возможности окон инструментов и окон документов в Visual Studio. Дополнительные сведения см. в разделе [расширение и настройка Windows средство](../../extensibility/extending-and-customizing-tool-windows.md).

## <a name="document-windows"></a>Окна документов
 Окно документа — это окно рамке дочернего окна многодокументного интерфейса (MDI). Окна документов обычно используются для размещения текстовые редакторы, редакторы формы (также называется "конструкторы") или элементы управления для редактирования, но они также можно размещать другие функциональные типы. **Новый файл** диалоговое окно содержит примеры окон документов, предоставляемых Visual Studio.

 Большинство редакторов характерные для своего языка программирования или для типа файла, например HTML-страниц, рамок, файлы C++ или файлы заголовков. Выбирая шаблон в **новый файл** диалоговом окне пользователь динамически создает окно документа для редактора для типа файла, который связан с шаблоном. Окно документа создается также в том случае, когда пользователь открывает существующий файл.

 Окна документов, ограничены клиентской области MDI. Каждый документ имеет вкладку в верхней части и связанного последовательности табуляции для других окон, которые могут быть открыты в области MDI. Щелкните правой кнопкой мыши вкладку окна документов отображает контекстное меню, включает в себя параметры для разделения на несколько групп горизонтальную или вертикальную вкладку области MDI. Разделение области MDI включает несколько файлов для просмотра в то же время. Дополнительные сведения см. в разделе [Windows документа](../../extensibility/internals/document-windows.md).

## <a name="editors"></a>Редакторы
 В редакторе Visual Studio можно настроить и использовать его собственного типа содержимого с помощью Managed Extensibility Framework (MEF). Во многих случаях не нужно создать пакет VSPackage для расширения редактора, несмотря на то, что если вы хотите включить функции в оболочке (например, команды меню или сочетания клавиш), вы можете объединить расширения MEF с VSPackage.

 Также можно создать пользовательский редактор, например, при желании для чтения и записи в базу данных, или если вы хотите использовать конструктор. Также можно использовать внешний редактор, такого как Блокнот или Microsoft WordPad. Дополнительные сведения см. в разделе [редактора и языковой службы расширения](../../extensibility/editor-and-language-service-extensions.md).

## <a name="language-services"></a>Языковые службы
 Редактор Visual Studio для поддержки новых ключевых слов для программирования или даже новый язык программирования, можно создать языковую службу. Каждая языковая служба может реализовать определенные возможности редактора, полностью, частично или вообще не. В зависимости от того, как он настроен служба языка может предоставить, выделение синтаксиса, парные фигурные скобки, поддержка IntelliSense и другие функции в редакторе.

 В сердце языковой службы: средство синтаксического анализа и сканер. Сканер (или лексический анализатор) разделяет исходный файл на элементы, которые известны как маркеры, а также средство синтаксического анализа устанавливает связи между эти маркеры. При создании языковую службу, необходимо реализовать средство синтаксического анализа и сканер таким образом, чтобы Visual Studio позволяет понять, токены и грамматики языка. Можно создать управляемые или неуправляемые языковых служб. Дополнительные сведения см. в разделе [расширяемость языковой службы прежних версий](../../extensibility/internals/legacy-language-service-extensibility.md).

## <a name="projects"></a>Проекты

В Visual Studio проекты — это контейнеры, используемые разработчиками для организации и создавать исходный код и другие ресурсы. Проекты позволяют организовать, построения, отладки и развертывания исходного кода, ссылки на веб-служб и баз данных и другие ресурсы. Пакеты VSPackage можно расширить в системе проектов Visual Studio, предоставляя типы проектов, подтипов проекта и пользовательских инструментов.

Проекты могут также быть получена вместе *решение*, который является группой из одного или нескольких проектов, работающих совместно для создания приложения. Проект и состояние сведения, относящиеся к решению хранится в двух файлов решения, основанные на тексте [файл решения (SLN)](solution-dot-sln-file.md) и двоичный файл [файл параметров (.suo) решение пользователя](solution-user-options-dot-suo-file.md). Эти файлы похожи на группы (.vbg) файлы, которые использовались в более ранних версиях Visual Basic и рабочей области (DSW) и файлы параметров (.opt) пользователя, которые использовались в предыдущих версиях C++.

Дополнительные сведения см. в разделе [проекты](../../extensibility/internals/projects.md) и [решения](../../extensibility/internals/solutions-overview.md).

## <a name="project-and-item-templates"></a>Шаблоны проектов и элементов
 Visual Studio включает предопределенных шаблонов проектов и шаблонов элементов проекта. Можно также создать собственные шаблоны или получить шаблоны от сообщества и последующее интегрирование их в Visual Studio. [Коллекции кода MSDN](https://code.msdn.microsoft.com/site/search?query=visual%20studio) — место, можно искать шаблоны и расширения.

 Шаблоны содержат структуры проекта и основные файлы, необходимые для создания определенного типа приложений, управления, библиотеки или класса. Для разработки программного обеспечения, похожий на один из шаблонов следует создать проект, основанный на шаблоне, а затем измените файлы в этом проекте.

> [!NOTE]
> Эта архитектура шаблона не поддерживается для [!INCLUDE[vcprvc](../../code-quality/includes/vcprvc_md.md)] проектов.

 Дополнительные сведения см. в разделе [добавление проектов и шаблонов элементов проекта](../../extensibility/internals/adding-project-and-project-item-templates.md).

## <a name="properties-and-options"></a>Свойства и параметры
 **Свойства** окне отображаются свойства одного или нескольких элементов: [Расширение свойств](../../extensibility/internals/extending-properties.md) параметры страницы содержат наборы параметров, которые относятся к конкретный компонент, например на языке программирования или VSPackage: [Параметры и страницы параметров](../../extensibility/internals/options-and-options-pages.md). Ниже перечислены функции, обычно связанные с пользовательского интерфейса, которые можно импортировать и экспортировать параметры. [Поддержка пользовательских параметров](../../extensibility/internals/support-for-user-settings.md).

## <a name="visual-studio-services"></a>Службы Visual Studio
 Служба предоставляет ряд интерфейсов для компонентов для использования. Visual Studio предоставляет набор служб, которые могут использоваться все компоненты, включая расширения. Например службы Visual Studio позволяют окна инструментов, чтобы быть показано или скрыто динамически, включить доступ к справке, строка состояния или события пользовательского интерфейса. В редакторе Visual Studio также предоставляет службы, которые можно импортировать, расширения редактора. Дополнительные сведения см. в разделе [использование и предоставление службы](../../extensibility/using-and-providing-services.md).

## <a name="debugger"></a>Отладчик
 Отладчику не пользовательский интерфейс для компонентов отладки конкретного языка. Если вы создали новую службу языка, будет необходимо создать определенные отладчик может подключить к отладчику. Дополнительные сведения см. в разделе [расширения отладчика Visual Studio](../../extensibility/debugger/visual-studio-debugger-extensibility.md).

## <a name="source-control"></a>Система управления версиями
 Сведения о реализации подключаемого модуля системы управления версиями или VSPackage, см. в разделе [системы управления версиями](../../extensibility/internals/source-control.md).

## <a name="wizards"></a>Мастера
 Можно создать мастер в сочетании с новым типом проекта, таким образом, чтобы мастер может помочь пользователям принимать правильные решения, при создании нового проекта этого типа. Дополнительные сведения см. в разделе [мастеров](../../extensibility/internals/wizards.md).

## <a name="custom-tools"></a>Настраиваемые средства
 Пользовательские средства позволяют связать это средство с элементом в проекте и запустите это средство, при каждом сохранении файла. Дополнительные сведения см. в разделе [средства пользовательских](../../extensibility/internals/custom-tools.md).

## <a name="vssdk-utilities"></a>Служебные программы VSSDK
 VSSDK содержит набор служебных программ, которые может понадобиться для работы с различными аспектами пакетов VSPackage. Дополнительные сведения см. в разделе [служебные программы VSSDK](../../extensibility/internals/vssdk-utilities.md).

## <a name="using-windows-installer"></a>С помощью установщика Windows
 В некоторых случаях может потребоваться использовать установщик Windows, а не установщик VSIX: например, может потребоваться записать в реестр. Сведения об использовании установщика Windows с расширениями, см. в разделе [Установка пакетов VSPackage с помощью установщика Windows](../../extensibility/internals/installing-vspackages-with-windows-installer.md).

## <a name="help-viewer"></a>Help Viewer
 Вы можете интегрировать свои собственные справки и F1 страниц в окне справки. Дополнительные сведения см. в разделе [средстве просмотра справки Microsoft SDK](../../extensibility/internals/microsoft-help-viewer-sdk.md).