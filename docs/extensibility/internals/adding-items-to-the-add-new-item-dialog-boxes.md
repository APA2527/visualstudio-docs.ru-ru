---
title: Добавление элементов в Добавление новых ящиков Диалог пункта (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- Add New Item dialog box, adding items
ms.assetid: 2f70863b-425b-4e65-86b4-d6a898e29dc7
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: af7f9e5c792785a23ad1674a50abeb4eb6d3cba9
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80710217"
---
# <a name="add-items-to-the-add-new-item-dialog-box"></a>Добавление элементов в диалоговую окно Добавить новый элемент
Процесс добавления элементов в диалоговую будку **Add New Item** начинается с ключей реестра. Как показано в следующих записях реестра, раздел **AddItemTemplates** содержит путь и название каталога, в котором помещаются элементы, доступные в диалоговом поле **Add New Item.**

> [!NOTE]
> Таблица сразу после сегмента кода содержит дополнительную информацию о входе в реестр.

 Этот раздел расположен в соответствии **с HKEY_LOCAL_MACHINE-SOFTWARE-Microsoft-VisualStudio -14.0Exp -Проекты**.

 Первый GUID является CLSID для проектов этого типа; второй GUID указывает зарегистрированный тип проекта для шаблонов добавленных элементов:

 **\\(C061DB26-5833-11D2-96F5-000000000000000000 \\AddItemTemplates\\TemplatesDir\\(ACEF4EB2-57CF-11D2-96F4-00000000000001)\\1**

 **@**- #6

 **TemplatesDir** = \\&lt;Visual Studio SDK\\&lt;установка путь&gt;\\&lt;&gt;\\VSIntegration&gt;\\&lt;SomeFolder SomePackage SomeProject&gt;\\&lt;SomeProject SomeProjectItems&gt;

 **СортировкаПриоритет** - dword:00000064

| name | Type | Данные (из файла *.rgs)* | Описание |
|------------------|-----------| - | - |
| В (По умолчанию) | REG_SZ | %IDS_ADDITEM_TEMPLATES_ENTRY% | Идентификатор ресурсов для шаблонов **Добавления пункта.** |
| Валь TemplatesDir | REG_SZ | %TEMPLATE_PATH%\\&lt;SomeProjectItems&gt; | Путь элементов проекта, отображаемых в диалоге для мастера **Добавления нового элемента.** |
| Val SortPriority | REG_DWORD | 100[!INCLUDE[vcprx64](../../extensibility/internals/includes/vcprx64_md.md)]( ) | Определяет порядок сортировки в древесном узеле файлов, отображаемых в диалоговом поле **Add New Item.** |

> [!NOTE]
> GUIDS для типов визуальных и визуальных базовых проектов:
> - [!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)]: «FAE04EC0-301F-11D3-BF4B-00C04F79EFBC»
> - [!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)]: «F184B08F-C81C-45F6-A57F-5ABD9991F28F»

 Каталог, перечисленный для **TemplatesDir**, который *составляет\\&lt;%TEMPLATE_PATH% SomeProjectItems&gt;*, является узлананана на левой стороне дерева диалогового окна **Добавить новый элемент.** Дополнительные элементы дерева основаны на субдиректории в этом корневом каталоге. Файлы, доступные для добавления в проект, представляют элементы в правом стеле диалогового окна **Добавить новый элемент.**

 Как правило, эта папка содержит файлы шаблонов для вашего проекта, такие как шаблон HTML или *файл .cpp,* и любые файлы *.vsz* для начинающих мастеров. Чтобы контролировать отображение элементов, можно также включить файлы *.vsdir* для локализации имен и значков каталогов. Локализованная строка — это подпись, которая отображается в поле диалога, представляющем этот узло в дереве диалогового окна **Add New Item.**

 Тем не менее, вы не должны иметь все в одном файле *.vsdir.* Вы можете иметь один файл *.vsdir* для каждого элемента в каталоге. Для получения дополнительной информации смотрите файлы [«Мастер» (.vsz)](../../extensibility/internals/wizard-dot-vsz-file.md) и [описания каталога шаблонов (.vsdir).](../../extensibility/internals/template-directory-description-dot-vsdir-files.md)

> [!NOTE]
> Файлы *vsdir* в каталогах шаблонов не являются обязательными. Если вы просто хотите поместить элемент проекта в каталог и отобразить его в диалоговом поле **Add New Item,** вы можете поместить этот файл в каталог шаблонов, указанный в операторе **TemplatesDir.** Затем файл будет отображаться в правом стеле диалогового окна **Добавить новый элемент** для этого проекта. Однако, если вы хотите отобразить локализованную подпись для файла или значка, необходимо включить по крайней мере один файл *.vsdir* в каталог шаблонов.

## <a name="group-project-items"></a>Элементы группового проекта
 Если вы хотите содержать группы шаблонов в папках в дереве диалогового окна **Add New Item,** вы должны иметь субдиректори под каталогом корневого шаблона с элементами в них. Когда диалоговая коробка **Add New Item** будет отображаться пользователям, они также будут видеть субфалеры и иметь возможность выбрать элементы проекта из них.

 Приоритет сортировки в сегменте кода определяет, где этот каталог шаблонов будет создан в дереве по сравнению с другими элементами узла дерева. Для диалогового окна **Добавить новый элемент** приоритет сортировки — это все, что необходимо включить, чтобы ваши элементы отображались в нужном месте в диалоговом поле.

 Вы также можете <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2> реализовать интерфейс для фильтрации того, что отображается в диалоговом поле **Add New Item.** Реализуя этот интерфейс, можно настроить один каталог шаблонов на диске, который содержит, например, 50 шаблонов и файлов мастера. Таким образом, вы можете иметь различные типы проектов с 20 файлами, которые принадлежат к одному типу проекта, другие 30 файлов, которые принадлежат к другому типу проекта, и все файлы, доступные в общем типе проекта. Таким образом, в зависимости от того, какой шаблон проекта создается, можно отображать другой набор файлов шаблонов.

 Например, в проекте Visual Basic могут быть веб-проекты и клиентские проекты. Веб-формы не являются полезными элементами для добавления в проект клиента, а формы окон не являются полезными элементами для добавления в проект веб-сервера. Таким образом, можно создать один каталог шаблонов, содержащий все файлы для обоих типов проекта. Затем, реализуя, <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>можно скрыть элементы, которые не должны отображаться в зависимости от типа параметров проекта или проекта в проекте.

## <a name="filter-project-items"></a>Элементы проекта фильтра
 `IVsFilterAddProjectItemDlg2`обеспечивает фильтрацию элементов в дереве (левое стекло) и файлы проекта (правое стекло) следующим образом:

- Локализованными именами (субтитрами, отображаемыми в диалоговом `IVsFilterAddProjectItemDlg`окне, содержащемся в файле *.vsdir),* предоставленным .

- По фактическим именам файлов и папок на диске (не локализованный `IVsFilterAddProjectItemDlg`- нет *.vsdir* файл), предоставленных .

- По категориям, `IVsFilterAddProjectItemDlg2`предоставляемым .

  Чтобы фильтровать по категориям, предоставьте строку категории к элементу в файле *.vsdir,* например *веб-форму* или *элемент клиента* в Visual Basic. Код диалогового окна затем извлекает классификацию категории из файла *.vsdir* и передает ее вам. Затем эту информацию можно передать `IVsFilterAddProjectItemDlg2` в реализацию для фильтрации диалогового окна **Add New Item** по категориям. Вы также можете фильтровать элементы для веб-страниц или в качестве клиента Win32 случаях приложения. Кроме того, можно [!INCLUDE[vcprvc](../../code-quality/includes/vcprvc_md.md)] определить помеченные элементы как элементы Microsoft Foundation Classes (MFC) или активные элементы библиотеки шаблонов (ATL). При идентификации этих элементов проектная система может определить свои собственные классификации, чтобы система можно было фильтровать на основе категорий и классификаций.

  При реализации этой функциональности фильтра вам не нужно отобразить таблицу каждого элемента, который должен быть скрыт. Можно просто классифицировать элементы по типам и поместить классификации в файл ы или файлы *.vsdir.* Затем можно скрыть любой из элементов, которые имеют определенную классификацию, реализовав интерфейс. Таким образом, можно сделать элементы в диалоговом поле **Add New Item** динамическими на основе состояния в проекте.

## <a name="see-also"></a>См. также
- <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>
- [Регистрация шаблонов проектов и элементов](../../extensibility/internals/registering-project-and-item-templates.md)
- [CATID для объектов, которые обычно используются для расширения проектов](../../extensibility/internals/catids-for-objects-that-are-typically-used-to-extend-projects.md)
- [Добавление шаблонов элементов проекта и проекта](../../extensibility/internals/adding-project-and-project-item-templates.md)
- [Описание каталога шаблонов (.vsdir) файлов](../../extensibility/internals/template-directory-description-dot-vsdir-files.md)
- [Файл Мастера (.vsz)](../../extensibility/internals/wizard-dot-vsz-file.md)
