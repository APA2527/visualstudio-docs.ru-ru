---
title: Разоблачение Типы для визуальных дизайнеров (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- types [Visual Studio SDK], exposing to visual designers
- designers [Visual Studio SDK], exposing types
- custom tools, exposing types to visual designers
ms.assetid: a7a32ad4-3a0a-4eb8-a6ac-491c42885639
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 9067f88b4bf1334e23a548bc6a2cbeb3eac6ad33
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80708439"
---
# <a name="expose-types-to-visual-designers"></a>Экспозиция типов для визуальных дизайнеров
[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)]должны иметь доступ к классу и типу определений во время проектирования для того, чтобы отобразить визуального дизайнера. Классы загружаются из заданного набора сборок, включающие полный набор зависимостей текущего проекта (ссылки плюс их зависимости). Это также может быть необходимо для визуальных дизайнеров для доступа к классам и типам, которые определяются в файлах, генерируемых пользовательскими инструментами.

 [!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)] Системы [!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)] проекта и проекты обеспечивают поддержку для доступа к генерируемым классам и типам через временные портативные исполняемые файлы (временные ИП). Любой файл, генерируемый пользовательским инструментом, может быть собран во временную сборку, чтобы типы могли быть загружены из этих сборок и подвергаться воздействию дизайнеров. Выход каждого пользовательского инструмента компилируется в отдельный временный PE, и успех или неудача этой временной компиляции зависит только от того, может ли быть скомпилирован сгенерированный файл. Несмотря на то, что проект не может строиться в целом, отдельные временные ИП все еще могут быть доступны для дизайнеров.

 Проектная система обеспечивает полную поддержку отслеживания изменений в выходном файле пользовательского инструмента, при условии, что эти изменения являются результатом работы пользовательского инструмента. Каждый раз, когда пользовательский инструмент запущен, создается новый временный PE, и соответствующие уведомления отправляются дизайнерам.

> [!NOTE]
> Поскольку временный файл поколения, исполняемый программой, происходит в фоновом режиме, никакие ошибки не сообщаются пользователю в случае сбоя компиляции.

 Пользовательские инструменты, которые пользуются временной поддержкой PE, должны следовать следующим правилам:

- **GeneratesDesignTimeSource** должен быть установлен на 1 в реестре.

     Без этого параметра не происходит никакой исполняемой подборки файлов программы.

- Сгенерированный код должен быть на том же языке, что и глобальная настройка проекта.

     Временный PE компилируется независимо от того, что <xref:Microsoft.VisualStudio.Shell.Interop.IVsSingleFileGenerator.DefaultExtension%2A> пользовательский инструмент сообщает, как запрошенное расширение при условии, что **GeneratesDesignTimeSource** установлен на 1 в реестре. Расширение не должно быть *.vb*, *.cs*, или *.jsl*; это может быть любое расширение.

- Код, генерируемый пользовательским инструментом, должен быть действительным, и он должен компилироваться <xref:Microsoft.VisualStudio.Shell.Interop.IVsSingleFileGenerator.Generate%2A> самостоятельно, используя только набор ссылок, присутствующих в проекте во время завершения выполнения.

     При компилировании временного PE единственным исходным файлом, предоставленным компилятору, является вывод пользовательского инструмента. Поэтому пользовательский инструмент, используюйвременный PE, должен генерировать выходные файлы, которые могут быть собраны независимо от других файлов проекта.

## <a name="see-also"></a>См. также
- [Введение в объект BuildManager](https://msdn.microsoft.com/library/50080ec2-c1c9-412c-98ef-18d7f895e7fa)
- [Внедрение генераторов с одним файлами](../../extensibility/internals/implementing-single-file-generators.md)
- [Регистрация однофайловых генераторов](../../extensibility/internals/registering-single-file-generators.md)
