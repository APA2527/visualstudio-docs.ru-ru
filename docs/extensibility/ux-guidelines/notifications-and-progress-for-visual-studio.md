---
title: Уведомления и прогресс для визуальной студии (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: f0ef65e9-0f1f-45f4-9f25-6e2398691168
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 5f6a7ddd5d1a5a7257617b03098722e1341017b6
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80699885"
---
# <a name="notifications-and-progress-for-visual-studio"></a>Уведомления и ход выполнения для Visual Studio
## <a name="notification-systems"></a><a name="BKMK_NotificationSystems"></a>Системы уведомлений

### <a name="overview"></a>Обзор
 Есть несколько способов информирования пользователя о том, что происходит в Visual Studio относительно их задач разработки программного обеспечения.

 При реализации любого вида уведомлений:

- **Свести количество уведомлений к минимально эффективному числу.** Сообщения уведомлений должны распространяться на большинство пользователей Visual Studio или на пользователей определенной области функций/функций. Чрезмерное использование уведомлений может отодвить пользователя в сторону или уменьшить воспринимаемую простоту использования системы.

- **Убедитесь, что вы представляете четкие, действенные сообщения,** которые пользователь может использовать для использования соответствующего контекста для принятия более сложных решений и принятия дальнейших мер.

- **Представляем синхронные и асинхронные сообщения соответствующим образом.** Синхронные уведомления указывают на то, что что-то требует немедленного внимания, например, когда веб-служба выходит из строя или выбрасывается исключение кода. Пользователь должен быть проинформирован о таких ситуациях сразу же таким образом, что требует их ввода, например, в модальном диалоге. Асинхронные уведомления — это уведомления, о которых пользователь должен знать, но не обязан действовать немедленно, например, когда завершается операция сборки или завершается развертывание веб-сайта. Эти сообщения должны быть более окружающими и не прерывать поток задач пользователя.

- **Используйте модальные диалоги только тогда, когда это необходимо, чтобы предотвратить принятие пользователем дальнейших действий** до подтверждения сообщения или принятия решения, представленного в диалоге.

- **Удалите уведомления об окружающей среде, когда они больше не действительны.** Не требуйте от пользователя отклонить уведомление, если он уже принял меры для решения проблемы, о которой он был уведомлен.

- **Имейте в виду, что уведомления могут привести к ложным корреляциям.** Пользователи могут полагать, что один или несколько из их действий вызвало уведомление, когда на самом деле не было причинно-следственной связи. Четко едея о контексте, триггере и источнике уведомления будет ясно.

### <a name="choosing-the-right-method"></a>Выбор правильного метода
 Используйте эту таблицу, чтобы помочь вам в выборе правильного способа уведомить пользователя о вашем сообщении.

|Метод|Использовать|Не использовать|
|------------|---------|----------------|
|[Диалоги сообщений об ошибке](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_ModalErrorMessageDialogs)|Используйте, когда пользователь отвечает требуется, прежде чем продолжить.|Не используйте, когда нет необходимости блокировать пользователя и прерывать его поток. Избегайте использования модальных диалогов, если возможно показать сообщение другим, менее навязчивым способом.|
|[Панель статусов IDE](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_IDEStatusBar)|Используйте при наличии информативной текстовой информации о состоянии процесса.|Не используйте в одиночку. Лучше всего использовать в сочетании с другим механизмом обратной связи.|
|[Встроенная информационная панель](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_EmbeddedInfobar)|В окне инструмента или окторное окно документа используйте для уведомления о ходе выполнения, состоянии ошибок, результатах и/или информации, пригодной для действий.|Не используйте, если информация не имеет отношения к месту размещения infobar.<br /><br /> Не используйте за окном документа/инструмента.|
|[Изменения курсора мыши](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_MouseCursorChanges)|Может быть использован для уведомления о том, что процесс продолжается. Также используется для уведомления о том, что в мыши происходит изменение состояния, например, при перетаскивании/падении или о том, что курсор мыши находится в определенном режиме, например режиме рисования.|Не используйте для коротких изменений хода или если существует вероятность трепетания курсора (например, при привязке к частям более длительного процесса, а не ко всему процессу).|
|[Показатели прогресса](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_NotSysProgressIndicators)|Используйте, когда вам нужно сообщить о прогрессе (либо обезохранителя или неопределенным). Существует множество типов индикаторов прогресса и конкретного использования для каждого из них. Смотрите [индикаторы прогресса](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_ProgressIndicators).||
|[Окно уведомлений Visual Studio](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_VSNotificationsToolWindow)|Окно Уведомлений не является общедоступным. Тем не менее, он используется для передачи целого ряда сообщений о Visual Studio, включая критические проблемы с вашей лицензией и информационные уведомления об обновлениях в Visual Studio или в пакеты.|Не используйте для других типов уведомлений.|
|[Список ошибок](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_ErrorList)|Когда проблема непосредственно относится к открытому решению пользователя, возникающее в настоящее время (ошибка/предупреждение/инфо), ему может потребоваться принять меры по коду.<br /><br /> Это будет включать, например:<br /><br /> - Компилятор сообщения (ошибка / предупреждение / инфо)<br /><br /> - Код анализатор / Диагностические сообщения о коде<br /><br /> - Создание сообщений<br /><br /> Может быть уместным для вопросов, связанных с файлами проекта или решения, но сначала рассмотрим указание Solution Explorer.|Не используйте элементы, не имеюющие никакого отношения к коду открытого решения пользователя.|
|Уведомления редактора: Легкая лампочка|Используйте, когда у вас есть исправление, доступное для устранения проблемы, которая существует в открытом файле.<br /><br /> Обратите внимание, что Light Bulb также следует использовать для размещения быстрых действий, которые принимаются на код пользователя по требованию, таких как рефакторинг, но в этом случае не будет отображаться "стиль уведомления".|Не используйте элементы, не имеюющие никакого отношения к открытому файлу.|
|Уведомления редактора: Squiggles|Используется для оповещения пользователя о проблеме с определенным диапазоном его открытого кода (например, красный запрос на ошибки).|Не используйте элементы, не относящиеся к определенному диапазону их открытого кода.|
|[Встроенные полосы состояния](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_EmbeddedStatusBars)|Используется для предоставления статуса, связанного с содержимым или процессом, в контексте определенного окна инструмента, окна документа или окна диалога.|Не используйте для общих уведомлений, процессов или элементов, не имеюх никакого отношения к содержимому в определенном окне.|
|[Уведомления о подносе Windows](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_WindowsTray)|Используйте для поверхности уведомления для вне-proc процессов или сопутствующих приложений.|Не используйте уведомления, имеющие отношение к IDE.|
|[Пузыри уведомлений](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_NotificationBubbles)|Используйте для уведомления об удаленном процессе или изменения **за пределами** IDE.|Не используйте в качестве средства уведомления пользователя о процессах **в** рамках IDE.|

### <a name="notification-methods"></a>Методы уведомления

#### <a name="modal-error-message-dialogs"></a><a name="BKMK_ModalErrorMessageDialogs"></a>Диалоги сообщений об ошибке
 Диалог сообщения об ошибке используется для отображения сообщения об ошибке, требующего подтверждения или действия пользователя.

 ![Модальное сообщение об ошибке](../../extensibility/ux-guidelines/media/0901-01_modalerrormessage.png "0901-01_ModalErrorMessage")

 **Диалог сообщения об ошибке модального оповещения пользователя о недействительной строке соединения с базой данных**

#### <a name="ide-status-bar"></a><a name="BKMK_IDEStatusBar"></a>Панель статусов IDE
 Вероятность того, что пользователи заметят текст панели статуса, коррелирует с их универсальным интерфейсом компьютера и специфическим опытом работы с платформой Windows. Клиентская база Visual Studio, как правило, имеет опыт работы в обеих областях, хотя даже знающие пользователи Windows могут пропустить изменения в панели статуса. Таким образом, панель статуса лучше всего использовать для информационных целей или в качестве избыточного сигнала для информации, представленной в другом месте. Любая важная информация, которую пользователь должен немедленно разрешить, должна быть предоставлена в диалоге или в окне инструмента уведомлений.

 Панель статуса Visual Studio предназначена для отображения нескольких типов информации. Он разделен на регионы для обратной связи, дизайнер, прогресс бар, анимация, и клиент.

 Область обратной связи и регион дизайнеров всегда видны. Области панели прогресса и анимации всегда динамичны и основаны на контексте пользователя. Область конструктора имеет статическую ширину, определяемую длиной строки, которая вытягивается из сопроводительного ресурса для текстового сообщения. Это позволяет локализации изменять ширину, не требуя изменения кода. Для английского языка ширина этой строки составляет примерно 220 пикселей. Регион конструктора будет вести себя нормально, а область обратной связи будет поглощать оставшееся пространство.

 Панель статуса также раскрашивается, чтобы добавить визуальный интерес и функциональное значение, сообщая различные изменения состояния IDE, например, когда IDE находится в режиме отладки.

 ![Изменения цвета строки состояния интегрированной среды разработки](../../extensibility/ux-guidelines/media/0901-02_idestatusbar.png "0901-02_IDEStatusBar")

 **Цвета барной панели состояния IDE**

#### <a name="embedded-infobar"></a><a name="BKMK_EmbeddedInfobar"></a>Встроенный информационный бар
 Infobar может быть использован в верхней части окна документа или окна инструмента, чтобы сообщить пользователю о состоянии или состоянии. Он также может предлагать команды, так что пользователь может иметь способ легко принять меры. Infobar является стандартным управлением оболочкой. Избегайте создания собственных, которые будут действовать и появляются несовместимы с другими в IDE. Ознакомьтесь с деталями реализации и рекомендациями по использованию [Infobars.](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_Infobars)

 ![Встроенная информационная панель](../../extensibility/ux-guidelines/media/0901-03_embeddedinfobar.png "0901-03_EmbeddedInfobar")

 **Infobar, встроенный в окно документа, предупреждающий пользователя о том, что IDE находится в историческом режиме отладки и редактор не будет реагировать так же, как в стандартном режиме отладки.**

#### <a name="mouse-cursor-changes"></a><a name="BKMK_MouseCursorChanges"></a>Изменения курсора мыши
 При смене курсора мыши используйте цвета, которые привязаны к службе VSColor и уже связаны с курсором. Изменения Cursor могут быть использованы для указания текущей операции, а также попадание зон, где пользователь парит над целью, которую можно перетащить, сбросить на объект или использовать для выбора объекта.

 Используйте курсор мыши busy/wait только тогда, когда все доступное время процессора должно быть зарезервировано для операции, не позволяя пользователю выражать любые дополнительные входные данные. В большинстве случаев с хорошо написанными приложениями, использующими многопоточность, времена, когда пользователи не могут делать другие операции, должны быть редкими.

 Имейте в виду, что изменения курсора полезны в качестве избыточного сигнала для информации, представленной в другом месте. Не полагайтесь на изменение курсора как единственный способ общения с пользователем, особенно при попытке передать то, что имеет решающее значение, что пользователь должен адрес.

#### <a name="progress-indicators"></a><a name="BKMK_NotSysProgressIndicators"></a>Показатели прогресса
 Показатели прогресса важны для предоставления пользователям обратной связи во время процессов, для завершения которых занимает более нескольких секунд. Индикаторы прогресса могут быть показаны на месте (рядом с точкой запуска действия), в встроенной панели статуса, в модальном диалоге или в панели состояния Visual Studio. Следуйте указаниям в [индикаторах прогресса](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_ProgressIndicators) в отношении их использования и реализации.

#### <a name="visual-studio-notifications-window"></a><a name="BKMK_VSNotificationsToolWindow"></a>Окно уведомлений визуальной студии
 Окно уведомлений Visual Studio уведомляет разработчиков о лицензировании, среде (Visual Studio), расширениях и обновлениях. Пользователи могут отклонять отдельные уведомления или игнорировать определенные типы уведомлений. Список проигнорированных уведомлений управляется на странице **«Инструмент> варианты».**

 Окно Уведомлений в настоящее время не является расширяемым.

 ![Окно уведомлений Visual Studio](../../extensibility/ux-guidelines/media/0901-06_vsnotificationswindow.png "0901-06_VSNotificationsWindow")

 **Окно инструмента «Визуальные студии»**

#### <a name="error-list"></a><a name="BKMK_ErrorList"></a>Список ошибок
 Уведомление в списке ошибок указывает на ошибки и предупреждения, которые произошли во время компиляции и или процесса сборки, и позволяет пользователю перемещаться в коде к этой конкретной ошибке кода.

 ![Список ошибок](../../extensibility/ux-guidelines/media/0901-08_errorlist.png "0901-08_ErrorList")

 **Список ошибок в визуальной студии**

#### <a name="embedded-status-bars"></a><a name="BKMK_EmbeddedStatusBars"></a>Встроенные полосы состояния
 Поскольку панель статуса IDE является динамичной, с контекстом региона клиента, установленным в активном окне документа и обновлением информации о контексте пользователя и/или системных ответах, трудно поддерживать непрерывное отображение информации или давать статус долгосрочных асинхронных процессов. Например, панель статуса IDE не подходит для уведомлений о результатах тестового запуска для нескольких запусков и/или сразу же допустимых вариантов элементов. Важно сохранить такую информацию о состоянии в контексте документа или окна инструмента, где пользователь делает выбор или запускает процесс.

 ![Встроенная строка состояния](../../extensibility/ux-guidelines/media/0901-09_embeddedstatusbar.png "0901-09_EmbeddedStatusBar")

 **Встроенная панель статуса в Visual Studio**

#### <a name="windows-tray-notifications"></a><a name="BKMK_WindowsTray"></a>Уведомления о подносе Windows
 Область уведомления Windows находится рядом с системным истоем на панели задач Windows. Многие утилиты и компоненты программного обеспечения предоставляют значки в этой области, так что пользователь может получить контекстное меню для общесистемных задач, таких как изменение разрешения экрана или получение обновлений программного обеспечения.

 Уведомления на уровне среды должны всплывать в центре уведомлений Visual Studio, а не в области уведомлений Windows.

#### <a name="notification-bubbles"></a><a name="BKMK_NotificationBubbles"></a>Пузыри уведомлений
 Пузыри уведомлений могут отображаться как информационные в редакторе/дизайнере или как часть зоны уведомления Windows. Пользователь воспринимает эти пузыри как проблемы, которые они могут решить позже, что является преимуществом для некритических уведомлений. Пузыри не подходят для критической информации, которую пользователь должен решить сразу. Если вы используете пузырьки уведомлений в Visual Studio, следуйте [инструкциям Windows Desktop для пузырьков уведомлений.](/windows/desktop/uxguide/mess-notif)

 ![Всплывающее уведомление](../../extensibility/ux-guidelines/media/0901-07_notificationbubbles.png "0901-07_NotificationBubbles")

 **Пузырь уведомлений в области уведомлений Windows, используемый для Visual Studio**

## <a name="progress-indicators"></a><a name="BKMK_ProgressIndicators"></a>Показатели прогресса

### <a name="overview"></a>Обзор
 Показатели прогресса являются важной частью системы уведомлений для предоставления пользователям обратной связи. Они говорят пользователю, когда процессы и операции будут завершены. Знакомые типы индикаторов включают полоски прогресса, вращающиеся курсоры и анимированные значки. Тип и размещение индикатора прогресса зависит от контекста, включая то, что сообщается и сколько времени займет процесс или операция.

#### <a name="factors"></a>Факторы
 Для определения того, какой тип индикатора подходит, необходимо определить следующие факторы.

1. **Сроки:** продолжительность операции займет

2. **Модальность:** является ли операция модальной для окружающей среды (блокирует uI до завершения процесса)

3. **Стойкий/переходный характер:** необходимо ли сообщать и/или просматривать конечный результат прогресса на более позднем этапе

4. **Унижаются/неопределенный:** можно ли рассчитать время окончания операции и ход работы

5. **Графическое/текстовое местоположение:** захватывается ли прогресс или процесс в строке, в теле сообщения или в определенном элементе управления, например управления деревом

6. **Близость:** должен ли прогресс находиться в непосредственной близости от uI, с которым он связан. (Например, может ли это быть в баре статуса, который может быть далеко, или же он должен быть рядом с кнопкой, которая запустила процесс?)

#### <a name="determinate-progress"></a>Упразднение прогресса

|Тип прогресса|Когда и как использовать|Примечания|
|-------------------|-------------------------|-----------|
|Панель прогресса (определяющая)|Ожидаемая продолжительность >5 секунд.<br /><br /> Может включать текстовое описание деталей процесса.|**Не** встраивайте текст в анимацию.|
|Информационная панель|Сообщения, связанные с контекстным uI. Смотрите [Infobars](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_Infobars).<br /><br /> Может включать текстовое описание деталей процесса.|**Не** используйте несколько infobars, когда вам нужно указать несколько процессов. Вместо этого используйте сложенные полосы прогресса.|
|Окно вывода|Переходное уведомление: процесс на уровне приложения, который пользователь хочет **просмотреть** детали после завершения.|**Не** используйте, если пользователю нужно будет ссылаться на данные позже.|
|Файл журнала|В паре с непреходящим уведомлением в тех случаях, когда важно **сохранить** детали после завершения.||
|Строка состояния|Переходное уведомление: процесс на уровне приложения, который пользователю **не понадобится** после завершения.<br /><br /> Включает в себя встроенную панель прогресса.<br /><br /> Может включать текстовое описание деталей процесса.||

#### <a name="indeterminate-progress"></a>Неопределенный прогресс

|Тип прогресса|Когда и как использовать|Примечания|
|-------------------|-------------------------|-----------|
|Панель прогресса (неопределенный)|Ожидаемая продолжительность >5 секунд.<br /><br /> Может включать текстовое описание деталей процесса.|**Не** встраивайте текст в анимацию.|
|Муравьи (анимированные горизонтальные точки)|Поездка туда и обратно на сервер.<br /><br /> Размещено вблизи точки контекста в верхней части родительского контейнера.|**Не используйте,** если не воспитывается весь контейнер.|
|Спиннер (кольцо прогресса)|Процесс, связанный с контекстным uI, или где пространство является рассмотрением.<br /><br /> Может включать текстовое описание деталей процесса.||
|Информационная панель|Сообщения, связанные с контекстным uI. Смотрите [Infobars](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_Infobars).|**Не** используйте несколько infobars, когда вам нужно указать несколько процессов. Вместо этого используйте сложенные полосы прогресса.|
|Окно вывода|Переходное уведомление: процесс на уровне приложения, который пользователь захочет **просмотреть** детали после завершения.|**Не** используйте информацию, которая должна сохраняться на сеансах.|
|Файл журнала|В паре с непреходящим уведомлением в тех случаях, когда важно **сохранить** детали после завершения.||
|Строка состояния|Переходное уведомление: процесс на уровне приложения, который пользователю **не понадобится** после завершения.<br /><br /> Включает в себя встроенную панель прогресса.<br /><br /> Может включать текстовое описание деталей процесса.||

### <a name="progress-indicator-types"></a>Типы индикаторов прогресса

#### <a name="progress-bars"></a>Полосы прогресса

##### <a name="indeterminate"></a>Неопределенное
 ![Неопределенный индикатор выполнения](../../extensibility/ux-guidelines/media/0901-04_indeterminate.png "0901-04_Indeterminate")

 **Неопределенный индикатор выполнения**

 "Неопределенный" означает, что общий прогресс операции или процесса не может быть определен. Используйте неопределенные панели прогресса для операций, которые требуют неограниченного количества времени или доступа к неизвестному числу объектов. Используйте текстовое описание, чтобы сопровождать происходящее. Используйте тайм-ауты, чтобы уложиться в временные операции. Неопределенные панели прогресса используют анимацию, чтобы показать, что прогресс достигнут, но не предоставляют никакой другой информации. Не выбирайте неопределенный план прогресса, основанный только на возможном отсутствии точности в одиночку.

##### <a name="determinate"></a>Деterminateм
 ![Определенный индикатор выполнения](../../extensibility/ux-guidelines/media/0901-05_determinate.png "0901-05_Determinate")

 **Определенный индикатор выполнения**

 "Унификатор" означает, что операция или процесс требует ограниченного количества времени, даже если это количество времени не может быть точно предсказано. Четко указать на завершение. Не позволяйте панели прогресса доходить до 100 процентов, если операция не завершена. Анимация панели прогресса перемещается слева направо от 0 до 100%.

 Никогда не перемещайте индикатор хода назад во время операции. Бар должен двигаться вперед постоянно, когда операция начинается и достигнет 100%, когда она заканчивается. Смысл панели прогресса заключается в том, чтобы дать пользователю представление о том, сколько времени занимает вся операция, независимо от того, сколько шагов задействовано.

##### <a name="concurrent-reporting-stacked-progress-bars"></a>Одновременные отчеты (сложенные бары прогресса)
 Если операция займет много времени - возможно, несколько минут - то могут быть использованы два бара прогресса, один из которых показывает общий прогресс для операции, а другой для прогрессирования текущего шага. Например, если программа настройки копирует много файлов, то можно использовать одну панель прогресса, чтобы указать, сколько времени занимает весь процесс, в то время как секунда может указать, какой процент текущего файла или каталога копируется. Не сообщайте о более чем пяти параллельных операциях или процессах с использованием сложенных баров прогресса. Если у вас есть более пяти параллельных операций или процессов, чтобы сообщить, используйте модальный диалог с кнопкой Отмена и сообщить детали прогресса в окно вывода.

##### <a name="textual-descriptions"></a>Текстовые описания
 Используйте текстовое описание, чтобы сопровождать происходящее и предполагаемое время до завершения. Если невозможно определить, сколько времени займет операция, то лучшим выбором для предоставления обратной связи может быть анимированный значок, а не панель прогресса.

 Visual Studio предоставляет стандартную панель прогресса в панели статуса, которая может быть использована любым продуктом, интегрированным в Visual Studio. Для текстовых описаний того, что происходит во время анимированной панели прогресса, текст панели статуса может быть обновлен.

#### <a name="other-progress-indicators"></a>Прочие показатели прогресса

##### <a name="ants-animated-horizontal-dots"></a>Муравьи (анимированные горизонтальные точки)
 ![Анимационный движок выполнения](../../extensibility/ux-guidelines/media/0903-01_ants.png "0903-01_Ants")

 "Муравьи", анимированные горизонтальные точки, обеспечивают визуальную ссылку на неопределенный процесс сервера туда и обратно.

##### <a name="spinner-progress-ring"></a>Спиннер (кольцо прогресса)
 ![Индикатор выполнения](../../extensibility/ux-guidelines/media/0903-02_spinner.png "0903-02_Spinner")

 Спиннер (также известный как "кольцо прогресса") является неопределенным индикатором прогресса, в первую очередь используемым по отношению к контекстуальному uI. Отображение спиннера в непосредственной близости от связанного с ним содержимого, например заголовок текстовой категории, обмен сообщениями или управление.

##### <a name="cursor-feedback"></a>Отзывы о курсоре
 Для операций, которые занимают от 2 до 7 секунд, предоставьте обратную связь с курсором. Как правило, это означает использование курсора ожидания, предоставляемого операционной системой. Для руководства, см. статью MSDN [Cursors.Wait собственности](/dotnet/api/system.windows.input.cursors.wait).

#### <a name="progress-indicator-locations"></a>Расположение индикаторов прогресса

##### <a name="status-bar"></a>Строка состояния
 Панель статусов предоставляет приложению место для отображения сообщений и полезной информации пользователю, не прерывая работу пользователя. Обычно отображается в нижней части окна, статус для прогресса будет панелью наконечника инструмента, которая включает сообщение о мере прогресса в сочетании с индикатором панели прогресса.

 ![Строка состояния с индикатором выполнения](../../extensibility/ux-guidelines/media/0903-03_statusbarprogressbar.png "0903-03_StatusBarProgressBar")

 **Строка состояния с индикатором выполнения**

 ![Строка состояния с сообщениями](../../extensibility/ux-guidelines/media/0903-04_statusbarmessage.png "0903-04_StatusBarMessage")

 **Статус-бар с текстовым описанием**

##### <a name="infobar"></a>Информационная панель
 Подобно панели статуса, панель информации предоставляет контекстное уведомление и обмен сообщениями, которые также могут быть сопряжены с неопределенными показателями прогресса, такими как панель прогресса или счетчик. Панель информации не должна обеспечивать детальный прогресс уровня или опознавательную индикацию прогресса. Смотрите [Infobars](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md#BKMK_Infobars).

 ![Информационная панель с индикатором выполнения и сообщениями](../../extensibility/ux-guidelines/media/0903-05_infobar.png "0903-05_InfoBar")

 **Infobar с баром прогресса и текстовым описанием**

 ![Информационная панель внутри окна](../../extensibility/ux-guidelines/media/0903-06_infobarinwindow.png "0903-06_InfoBarInWindow")

##### <a name="inline"></a>Встроенный
 Индикация внелионного прогресса может быть представлена любым из типов погрузчиков прогресса. Обычно индикатор прогресса в паре с сообщениями, но это не является требованием.

 ![Встроенный индикатор выполнения](../../extensibility/ux-guidelines/media/0903-07_inlinespinner.png "0903-07_InlineSpinner")

 **Спиннер в сочетании с текстовым описанием**

 ![Встроенные упакованные индикаторы выполнения](../../extensibility/ux-guidelines/media/0903-08_inlinestackedprogress.png "0903-08_InlineStackedProgress")

 **Упраздненные сложенные полосы прогресса**

 ![Встроенная передача сообщений о ходе работы](../../extensibility/ux-guidelines/media/0903-09_inlinetext.png "0903-09_InlineText")

 **Server Explorer внестроки текста: Обновление ...**

##### <a name="tool-windows"></a>Окна инструментов
 Глобальный показатель прогресса представлен неопределенным баром прогресса, расположенным непосредственно под панелью инструментов.

 ![Глобальный неопределенный индикатор выполнения](../../extensibility/ux-guidelines/media/0903-23_globalindeterminate.png "0903-23_GlobalIndeterminate")

 **Глобальная неопроизлагаемый прогресс Team Explorer**

##### <a name="dialogs"></a>Диалоговые окна
 Диалоги могут содержать любой из типов погрузчиков прогресса. Показатели прогресса могут быть в паре с сообщениями, а также в сочетании с несколькими уровнями показателей прогресса для представления гранулированных и под-процессов.

 ![Диалоговое окно с несколькими типами индикаторов выполнения](../../extensibility/ux-guidelines/media/0903-11_dialog.png "0903-11_Dialog")

 **Диалог Visual Studio с параллельными процессами и несколькими типами индикаторов прогресса**

 ![Диалоговое окно с загрузчиком хода выполнения и передачей сообщений](../../extensibility/ux-guidelines/media/0903-12_dialog2.png "0903-12_Dialog2")

 **Визуальный студийный диалог с прогресс-загрузчиком и вонючим командиром обмена сообщениями**

##### <a name="document-well"></a>Документ хорошо
 Документ хорошо может отображать несколько типов погрузчиков прогресса в сочетании с элементами управления.

 ![Передача сообщений о ходе выполнения в документе](../../extensibility/ux-guidelines/media/0903-13_documentwell.png "0903-13_DocumentWell")

 **Неопределенный план прогресса ниже панели инструментов**

##### <a name="output-window"></a>Окно вывода
 Окно вывода подходит для обработки процесса прогрессии и текущего состояния прогресса с помощью внеочередных текстовых сообщений. Следует использовать бар Status вместе с отчетностью о ходе выполнения выходных окон.

 ![Передача сообщений о ходе выполнения в окне вывода](../../extensibility/ux-guidelines/media/0903-14_outputwindow.png "0903-14_OutputWindow")

 **Окно вывода с текущим состоянием процесса и сообщением ожидания**

## <a name="infobars"></a><a name="BKMK_Infobars"></a>Инфобарс

### <a name="overview"></a>Обзор
 Infobars дают пользователю индикатор, близкий к точке их внимания, а использование общего управления infobar обеспечивает последовательность в визуальном внешнем виде и взаимодействии.

 ![Информационная панель](../../extensibility/ux-guidelines/media/0904-01_infobar.png "0904-01_Infobar")

 **Инфобары в визуальной студии**

#### <a name="appropriate-uses-for-an-infobar"></a>Соответствующее использование для infobar

- Чтобы дать пользователю неблокирующее, но важное сообщение, относящееся к текущему контексту

- Указать, что uI находится в определенном состоянии или состоянии, которое несет некоторые последствия взаимодействия, такие как историческая отладка

- Чтобы уведомить пользователя о том, что система обнаружила проблемы, например, когда расширение вызывает проблемы с производительностью

- Предоставить пользователю способ легко принять меры, например, когда редактор обнаруживает, что файл имеет смешанные вкладки и пробелы

##### <a name="do"></a>Что следует делать:

- Держите текст сообщения infobar коротким и по существу.

- Храните текст на ссылках и кнопках кратко.

- Убедитесь, что параметры "действия", которые вы предоставляете пользователям, минимальны, показывая только необходимые действия.

##### <a name="dont"></a>Не надо:

- Используйте infobar, чтобы предложить стандартные команды, которые должны быть помещены в панель инструментов.

- Используйте infobar вместо модального диалога.

- Создайте плавающее сообщение за окном.

- Используйте несколько infobars в нескольких местах в одном окне.

#### <a name="can-multiple-infobars-show-at-the-same-time"></a>Могут ли отображаться несколько инфобаров одновременно?
 Да, несколько infobars может отображаться в то же время. Они будут отображаться в порядке первого приежания с первым информационным баром, показывающим сверху, и дополнительными инфобарами, показывающими ниже.

 Пользователь будет видеть максимум три infobars одновременно, после чего, если больше infobars доступны, infobar области станет прокрутки.

### <a name="creating-an-infobar"></a>Создание информационного бара
 Infobar имеет четыре раздела, слева направо:

- **Икона:** Здесь вы добавите любой значок, который вы хотите отобразить для infobar, например значок предупреждения.

- **Текст:** Вы можете добавить текст, чтобы описать сценарий / ситуация пользователь находится в, наряду со ссылками в тексте, если это необходимо. Не забудьте сохранить текст кратким.

- **Действия:** Этот раздел должен содержать ссылки и кнопки для действий, которые пользователь может предпринять в вашем информационном баре.

- **Кнопка закрытия:** Последний раздел справа может иметь кнопку закрытия.

#### <a name="creating-a-standard-infobar-in-managed-code"></a>Создание стандартного инфобара в управляемом коде
 Класс InfoBarModel может быть использован для создания источника данных для infobar. Используйте один из этих четырех конструкторов:

```
public InfoBarModel(IEnumerable<IVsInfoBarTextSpan> textSpans, ImageMoniker image = default(ImageMoniker), bool isCloseButtonVisible = true);

```

```
public InfoBarModel(string text, ImageMoniker image = default(ImageMoniker), bool isCloseButtonVisible = true);

```

```
public InfoBarModel(IEnumerable<IVsInfoBarTextSpan> textSpans, IEnumerable<IVsInfoBarActionItem> actionItems, ImageMoniker image = default(ImageMoniker), bool isCloseButtonVisible = true);

```

```
public InfoBarModel(string text, IEnumerable<IVsInfoBarActionItem> actionItems, ImageMoniker image = default(ImageMoniker), bool isCloseButtonVisible = true);
```

 Вот пример, который создает InfoBarModel с некоторым текстом с гиперссылкой, кнопкой действия и иконой.

 ![Информационная панель с гиперссылкой](../../extensibility/ux-guidelines/media/0904-02_infobarhyperlink.png "0904-02_InfobarHyperlink")

```
var infoBar = new InfoBarModel(
    textSpans: new[]
    {
        new InfoBarTextSpan("This is a "),
        new InfoBarHyperlink("hyperlink"),
        new InfoBarTextSpan(" InfoBar.")
    },
    actionItems: new[]
    {
        new InfoBarButton("Click Me")
    },
    image: KnownMonikers.StatusInformation,
    isCloseButtonVisible: true);

```

#### <a name="creating-a-standard-infobar-in-native-code"></a>Создание стандартного информационного бара в родном коде
 Реализация интерфейса IVsInfoBar для того, чтобы обеспечить infobar из родного кода.

```
public interface IVsInfoBar
{
    IVsInfoBarActionItemCollection ActionItems { get; }
    ImageMoniker Image { get; }
    bool IsCloseButtonVisible { get; }
    IVsInfoBarTextSpanCollection TextSpans { get; }
}

```

#### <a name="getting-an-infobar-uielement-from-an-infobar"></a>Получение infobar UIElement из информационного бара
 Реализация InfoBarModel или IVsInfoBar представляет собой модели данных, которые должны быть превращены в UIElement для отображаемого в uI. UIElement можно получить с помощью сервиса SVsInfoBarUIFactory/IVsInfoBarUIFactory.

```
private bool TryCreateInfoBarUI(IVsInfoBar infoBar, out IVsInfoBarUIElement uiElement)
{
    IVsInfoBarUIFactory infoBarUIFactory = serviceProvider.GetService(typeof(SVsInfoBarUIFactory)) as IVsInfoBarUIFactory;
    if (infoBarUIFactory == null)
    {
        uiElement = null;
        return false;
    }

    uiElement = infoBarUIFactory.CreateInfoBar(infoBar);
    return uiElement != null;
}
```

### <a name="placement"></a>Размещение
 Infobars могут быть показаны в одном или нескольких из следующих мест:

- Окна инструментов

- В вкладке документа

> [!IMPORTANT]
> Можно позиционировать infobar, чтобы дать сообщение о глобальном контексте. Это может появиться между панели инструментов и документ хорошо. Это не рекомендуется, поскольку это вызывает проблемы с "прыжок и рывок" из IDE и следует избегать, если абсолютно необходимо и целесообразно.

#### <a name="placing-an-infobar-in-a-toolwindowpane"></a>Размещение информационного бара в ToolWindowPane
 Метод ToolWindowPane.AddInfoBar (IVsInfoBar) может быть использован для добавления infobar в окно инструмента. Этот API может добавить либо IVsInfoBar (из которых InfoBarModel является реализацией по умолчанию), либо IVsUIElement.

#### <a name="placing-an-infobar-in-a-document-or-non-toolwindowpane"></a>Размещение информационной панели в документе или не-ToolWindowPane
 Чтобы разместить infobar в любом IVsWindowFrame, используйте VSFPROPID_InfoBarHost свойство, чтобы получить IVsInfoBarHost для кадра, а затем добавьте infobar UIElement.

```
private void AddInfoBar(IVsWindowFrame frame, IVsUIElement uiElement)
{
    IVsInfoBarHost infoBarHost;
    if (TryGetInfoBarHost(frame, out infoBarHost))
    {
        infoBarHost.AddInfoBar(uiElement);
    }
}
private bool TryGetInfoBarHost(IVsWindowFrame frame, out IVsInfoBarHost infoBarHost)
{
    object infoBarHostObj;
    if (ErrorHandler.Failed(frame.GetProperty((int)__VSFPROPID7.VSFPROPID_InfoBarHost, out infoBarHostObj)))
    {
        infoBarHost = null;
        return false;
    }

    infoBarHost = infoBarHostObj as IVsInfoBarHost;
    return infoBarHost != null;
}

```

#### <a name="placing-an-infobar-in-the-main-window"></a>Размещение информационного бара в главном окне
 Чтобы разместить infobar в главном окне, используйте VSSPROPID_MainWindowInfoBarHost службы IVsShell, чтобы получить iVsInfoBarHost основного окна, а затем добавьте в него infobar UIElement.

### <a name="will-i-know-when-the-user-takes-action-in-my-infobar"></a>Буду ли я знать, когда пользователь принимает меры в моей infobar?
 Да, мы вернем каждое действие события автору infobar. Именно тогда до автора infobar принять меры в IDE на основе выбора пользователя в infobar. Infobars будут автоматически удалены из хоста, чья кнопка "Закрыть" была нажата, но дополнительная работа требуется, если другие infobars должны быть удалены после закрытия. Телеметрия также должна быть зарегистрирована независимо от каждого infobar.

#### <a name="receiving-infobar-events-in-a-toolwindowpane"></a>Получение событий infobar в ToolWindowPane
 ToolWindowPane имеет два события для infobars. Событие InfoBarClosed возникает при закрытии информационного бара в ToolWindowPane. Событие InfoBarActionButtonClicked возникает при нажатии гиперссылки или кнопки внутри infobar.

#### <a name="receiving-infobar-events-directly-from-the-uielement"></a>Получение событий infobar непосредственно из UIElement
 IVsInfoBarUIElement.Advise может быть использован для подписки на события непосредственно из UIElement infobar. Реализация IVsInfoBarUIEvents позволит автору получать близкие и щелкающие события.

```
public interface IVsInfoBarUIEvents
{
    void OnActionItemClicked(IVsInfoBarUIElement infoBarUIElement, IVsInfoBarActionItem actionItem);
    void OnClosed(IVsInfoBarUIElement infoBarUIElement);
}

```

## <a name="error-validation"></a><a name="BKMK_ErrorValidation"></a>Проверка ошибки
 Когда пользователь вводит информацию, которая не приемлема, например, когда требуемое поле пропущено или когда данные введены в неправильном формате, лучше использовать контрольную проверку или обратную связь вблизи элемента управления, а не использовать диалог об ошибке всплывающих данных.

### <a name="field-validation"></a>Проверка значений полей
 Проверка формы и поля состоит из трех компонентов: элемента управления, значка и набора инструментов. В то время как несколько типов элементов управления могут использовать это, текстовое окно будет использоваться в качестве примера.

 ![Проверка поля &#40;пустым и&#41;](../../extensibility/ux-guidelines/media/0905-01_fieldvalidation.png "0905-01_FieldValidation")

 Если поле требуется, должен быть текст водяного знака с указанием `Environment.ControlEditRequiredBackground` `Environment.ControlEditRequiredHintText` ** \<Требуемая>** и фон поля должен быть светло-желтым (VSColor: ) и передний план должен быть серым (VSColor: ):

 ![Проверка полей с меткой "Обязательно для заполнения"](../../extensibility/ux-guidelines/media/0905-02_fieldvalidationrequired.png "0905-02_FieldValidationRequired")

 Программа может определить, что элемент управления находится в состоянии *недействительного содержимого, введенного* либо при перемещении фокуса в другой элемент управления, либо при нажатии пользователя на кнопку «OK» или когда пользователь сохраняет документ или форму.

 Когда состояние недействительного содержимого определяется, значок появляется либо внутри элемента управления, либо просто рядом с ним. Набор инструментов, описывающий ошибку, должен отображаться на нависке либо на значке, либо на элементе управления. Кроме того, 1-пиксельная граница должна отображаться вокруг элемента управления, создающего недействительное состояние.

 ![Характеристика схемы проверки полей](../../extensibility/ux-guidelines/media/0905-03_layoutspecs.png "0905-03_LayoutSpecs")

 **Спецификации планировки для проверки поля**

#### <a name="acceptable-variations-for-icon-location"></a>Приемлемые варианты для расположения значка
 Есть бесчисленное множество уникальных случаев, в которых пользователи должны быть проинформированы об ошибках проверки. Учитывая тип управления и конфигурацию uI, выберите размещение значка, соответствующее вашей ситуации.

 ![Допустимое расположение значка](../../extensibility/ux-guidelines/media/0905-04_iconlocation.png "0905-04_IconLocation")

 **Приемлемые вариации для местоположения значков проверки поля**

#### <a name="validation-requiring-a-round-trip-to-a-server-or-network-connection"></a>Проверка, требующая обхода сервера или сетевого соединения туда и обратно
 В некоторых случаях для проверки содержимого требуется поездка туда и обратно на сервер, и важно показать прогресс пользователя, проверенное и состояние ошибок. Ниже приведена приведенная цифра, приведенная в данном случае и рекомендуемом uI.

 ![Проверка, включающая двустороннюю передачу сигналов на сервер и обратно](../../extensibility/ux-guidelines/media/0905-05_roundtrip.png "0905-05_RoundTrip")

 **Проверка, включающая двустороннюю передачу сигналов на сервер и обратно**

 Обратите внимание, что для размещения "Проверка..." необходимо предоставить достаточное свободное пространство справа от контроля. и текст "Retry".

#### <a name="in-place-warning-text"></a>Текст предупреждения на месте
 При наличии места для поместить сообщение об ошибке близко к элементу управления в состоянии ошибки, это предпочтительнее использовать только инструментальный набор.

 ![В&#45;место предупреждение](../../extensibility/ux-guidelines/media/0905-06_inplacewarning.png "0905-06_InPlaceWarning")

 **Текст предупреждения на месте**

#### <a name="watermarks"></a>Водяные знаки
 Иногда весь элемент управления или окно находится в состоянии ошибки. В этой ситуации используйте водяной знак, чтобы указать на ошибку.

 ![Водяной знак](../../extensibility/ux-guidelines/media/0905-07_watermark.png "0905-07_Watermark")

 **Проверка поля водяного знака**
