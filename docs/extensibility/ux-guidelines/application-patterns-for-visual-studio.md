---
title: Шаблоны приложений для Visual Studio | Документация Майкрософт
ms.date: 04/26/2017
ms.topic: conceptual
ms.assetid: 8ed68602-4e28-46fe-b39f-f41979b308a2
author: madskristensen
ms.author: madsk
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 55044df3898b452e87ec877f9ae10dd12a2b1110
ms.sourcegitcommit: 40d612240dc5bea418cd27fdacdf85ea177e2df3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66337952"
---
# <a name="application-patterns-for-visual-studio"></a>Шаблоны приложений для Visual Studio
## <a name="BKMK_WindowInteractions"></a> Окно взаимодействия

### <a name="overview"></a>Обзор
Существует два типа главного окна, используемый в Visual Studio: редакторы документов и окна инструментов. Редко, но возможно, являются большие немодальные диалоговые окна. Несмотря на то, что они все немодальное в оболочке, их шаблоны существенно отличаются. В этом разделе рассматриваются разницу между окна документов, окон инструментов и немодальные диалоговые окна. Рассматриваются шаблоны модальное диалоговое окно [диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_Dialogs).

### <a name="comparing-window-usage-patterns"></a>Сравнение шаблонов использования окна
**Окна документов** почти всегда отображаются в документе также. Это дает редактора документов «center рабочей области» для размещения окна дополнительных инструментов вокруг.

Объект **окно инструментов** наиболее часто отображается как меньшего размера окна, свернутые по краю интегрированной среды разработки. Это может быть видимым, скрытым или автоматически скрыто. Тем не менее, иногда окон инструментов будут представлены в контейнере, документа, сняв флажок **окно/закрепления** свойства в окне. Это приводит к больше места, но также общий Проектное решение: при попытке интегрируются в Visual Studio, необходимо решить, следует ли отображать функции окна инструментов или окна документа.

**Немодальные диалоговые окна** не рекомендуется в Visual Studio. Наиболее немодальные диалоговые окна по определению, плавающие окна инструментов и должны быть реализованы таким образом. Немодальные диалоговые окна могут использоваться в случаях, где размер окна обычных инструментов прикреплено к стороне оболочки может оказаться слишком ограничивающим. Они также могут в случаях, где он бы скорее всего, для перемещения диалогового окна на втором мониторе.

Думаю, тщательно о какой тип контейнера требуется. Общие замечания по использованию шаблон для разработки пользовательского интерфейса, в следующей таблице.

||Окно документа|Окно инструментов|Немодальное диалоговое окно|
|-|---------------------|-----------------|---------------------|
| **положение** | Всегда находится в документе, также и не закреплять по краям интегрированной среды разработки. Они могут быть «извлечены», чтобы отображается отдельно от основной оболочке. | Обычно соответствии по краям интегрированной среды разработки, но может быть настраиваемые следует, автоматическим скрытием (отменено) или закреплен внутри документа, хорошо.|Отдельно от интегрированной среды разработки больших плавающем окне. |
| **Зафиксировать модели** | *Задержки фиксации*<br /><br /> Чтобы сохранить данные в документе, пользователь должен выдать **файл &gt; Сохранить**, **Сохранить как**, или **сохранить все** команды. Окно документа использует концепцию данные внутри него «измененных», то завершена на один из сохранения команды. При закрытии окна документа, все содержимое сохраняются на диске или потеряно. | *Немедленное фиксации*<br /><br /> Есть без сохранения модели. Для окон инструментов инспектора, помогающие в редактировании файла файл должен быть открыт в активного редактора или конструктора и редактора или конструктора, которому принадлежит сохранения. | *Отложенный или немедленный фиксации*<br /><br /> Чаще всего больших немодальное диалоговое окно требует действия для фиксации изменений и позволяет операцию «Отмена», которая отменяет любые изменения, внесенные в рамках сеанса диалогового окна.  Это отличает немодальное диалоговое окно из окна инструментов, в том, что окна инструментов всегда имеет модели немедленно фиксации. |
| **Видимость** | *Открыть/Create (файл) и закрыть*<br /><br /> Открытие окна документов осуществляется с помощью открытия существующего документа или с помощью шаблона для создания нового документа. Существует не «откройте \<конкретного редактора >» команды. | *Скрыть или Показать*<br /><br /> Окна инструментов одного экземпляра можно будет скрыто или показано. Содержимое и состояний в окне инструментов, сохраняются ли в представлении или скрыт. Многоэкземплярные окна инструментов может быть закрыто также скрыты. При закрытии многоэкземплярного окна инструментов, удаляется содержимое и состояния в окне инструментов. | *Запустить из команды*<br /><br /> Диалоговые окна, запущенных из команд на основе задач. |
| **Экземпляры** | *Несколькими экземплярами*<br /><br /> Несколько редакторов может быть открыто на одновременно и редактирования различных файлов, а также некоторые редакторы тот же файл, необходимо открыть в более чем одного редактора (с помощью **окно &gt; новое окно** команду).<br /><br /> Возможно, один редактор изменяет один или несколько файлов одновременно (конструктор проектов). | *Одним или несколькими экземплярами*<br /><br /> Содержимое изменяется отражают контекста (как в обозревателе свойств) или передать фокус или контекста в других окнах (список задач, обозреватель решений).<br /><br /> Окна инструментов одного экземпляра и несколькими экземплярами должны быть связаны с активного окна документа, если нет особой причины для. | *Одним экземпляром* |
| **Примеры** | **Текстовые редакторы**, такие как редактор кода<br /><br /> **Рабочие области,** , такие как конструктор форм или рабочую область моделирования<br /><br /> **Макеты, аналогичную диалоговые окна управления**, такие как конструктор манифеста | **Обозревателе решений** предоставляет решение и проекты, содержащиеся в решении<br /><br /> **Обозревателя серверов** обеспечивает иерархическое представление подключений серверов и данных, которые пользователь предпочтет открыть в окне. Открытие объекта из иерархии базы данных, таких как запрос, который открывает окно документа и позволяет пользователю изменить запрос.<br /><br /> **Обозревателя свойств** отображаются свойства объекта, выбранного в окне документа или другого окна инструментов. Свойства представлены в представлении иерархической сетки или в сложных элементов управления в стиле диалоговое окно и пользователь может задавать значения для этих свойств. | |

## <a name="BKMK_ToolWindows"></a> Окна инструментов

### <a name="overview"></a>Обзор
Окна инструментов поддерживают работу пользователя, которая происходит в окнах документов. Они могут использоваться для отображения иерархию, которая представляет собой фундаментальные корневой объект, который предоставляет Visual Studio и можно управлять.

При рассмотрении новое окно инструмента в интегрированной среде разработки, авторы сделайте следующее:

- Используйте соответствующие задачи существующих окон инструментов и не создавать новые с подобными возможностями. Новые окна инструментов следует создавать только в том случае, если они предлагают значительно отличаются «средства» или функциональные возможности, не может быть интегрирован в аналогичные окно или повернув существующему окну в сведение концентратор.

- Используйте панель стандартных команд, при необходимости, в верхней части окна инструментов.

- Согласовываться с шаблонами уже присутствующего в других окнах инструментов для элемента управления навигации презентации и клавиатуры.

- Согласовываться с представления элемента управления в других окнах инструментов.

- Сделайте окон инструментов конкретного документа автоматическим отображением по возможности, чтобы они отображались только при активации родительского документа.

- Убедитесь, что их содержимое окна является перемещаемым с помощью клавиатуры (поддержка клавиш со стрелками).

#### <a name="tool-window-states"></a>Состояния окна инструментов
Окна инструментов Visual Studio имеют разные состояния, часть которых является пользователь активирован (например, функция автоматического скрытия). Другие состояния, например автоматическим отображением и разрешить окна инструментов отображаются в правильном контексте выполнения и скрывать, когда не требуется. Существует пять состояния окна инструментов в целом.

- **Закреплено или закрепленного** окна инструментов можно прикрепить к любой из четырех сторон области документа. Значок канцелярской кнопки появляется в заголовок окна инструментов. Окна инструментов могут закрепляться горизонтально или вертикально вдоль края оболочки и других окон инструментов и также может быть присоединено к вкладке.

- **Автоматически скрываемые** Закрепление окон инструментов. Окна можно сдвинуть не видели, оставляя вкладки (с именем окна инструментов и его значка) на краю области документа. Выдвижении окна инструментов при наведении мыши на вкладку.

- **Автоматическим отображением** окна инструментов при автоматически появляться как другую часть пользовательского интерфейса, такие как редактор, запускается или потере фокуса.

- **С плавающей запятой** окна инструментов при наведении указателя мыши за пределами интегрированной среды разработки. Это полезно для конфигураций с несколькими мониторами.

- **Документ с вкладками** окна инструментов могут закрепляться в документе также. Это полезно для больших средство windows, например обозревателе объектов, для которых требуются дополнительные недвижимости, чем позволяет среда прикрепления к краям рамки.

![Состояния окна в Visual Studio инструментов](../../extensibility/ux-guidelines/media/0702-01_toolwindowstates.png "0702 01_ToolWindowStates")<br />Состояния окна инструментов в Visual Studio

#### <a name="single-instance-and-multi-instance"></a>Одним и несколькими экземплярами
Окна инструментов являются одним экземпляром или несколькими экземплярами. Некоторые окна инструментов одного экземпляра могут быть связаны с активного окна документа, хотя многоэкземплярные окна инструментов не может. Реагировать на них многоэкземплярные окна инструментов **окно &gt; новое окно** команды, создав новый экземпляр окна. На следующем рисунке показан окно инструментов, Включение команды создания окна при активном экземпляра окна:

![Включение команды «Новое окно» при создании экземпляра окна окно инструментов активно](../../extensibility/ux-guidelines/media/0702-02_toolwindowenablingcommand.png "0702 02_ToolWindowEnablingCommand")<br />Окно инструментов, разрешающее команды «Новое окно» при создании экземпляра окна активен

Окна инструментов одного экземпляра можно скрывать или однотипные многоэкземплярные окна инструментов можно закрыть, а также скрыты. Все окна инструментов можно закрепить, связанном с плавающей запятой и задайте в качестве дочернего окна многодокументного интерфейса (MDI) (как окно документа). Все окна инструментов должна отвечать на команды управления соответствующее окно, в меню "окно":

![Команды управления окнами в меню Visual Studio окно](../../extensibility/ux-guidelines/media/0702-03_windowmanagementcontrols.png "0702 03_WindowManagementControls")<br />Команды управления "окно" в меню "окно Visual Studio"

#### <a name="document-specific-tool-windows"></a>Окна инструментов конкретного документа
Некоторые окна инструментов призваны меняться в зависимости от заданного типа документа. Эти окна постоянно обновиться в соответствии функции, применимые для активного окна документа в интегрированной среде разработки.

Окна инструментов, содержимое которого изменяются в соответствии с выбранном редакторе относятся панели элементов и структуры документа. В этих окнах отображаются водяного знака, когда редактор находится в фокусе, который не предоставляет контекст в окно.

#### <a name="navigable-list-tool-windows"></a>Перемещаемый список окон инструментов
Некоторые окна инструментов отображения списка перемещаемым элементы, которые пользователь может взаимодействовать с. В этот тип окна должно всегда быть обратной связи для текущего элемента в списке, даже если окно неактивно. Список должен реагировать на них **GoToNextLocation** и **GoToPrevLocation** команды изменением выбранного элемента в окне

Перемещаемый список окон инструментов относятся, например в обозревателе решений и окно результатов поиска.

### <a name="tool-window-types"></a>Типы окон инструментов

#### <a name="common-tool-windows-and-their-functions"></a>Распространенные окна инструментов и их функции

**Окна инструментов иерархической**

| Окно инструментов | Функция |
| --- | --- |
| обозреватель решений | Иерархическое дерево, которое отображает список документов, содержащихся в проектах, прочие файлы, а также элементы решения. Отображение элементов в проектах определяется пакет, принадлежащий тип проекта (например, типы ссылок, directory или смешанном режиме). |
| Представление классов | Иерархическое дерево, классов и различные элементы в рабочем наборе документов, независимо от самих файлов. |
| обозревателя серверов | Иерархическое дерево, в котором отображаются все подключения серверов и данных в решении. |
| Структура документа | Иерархическую структуру активного документа. |

**Окна инструментов сетки**

| Окно инструментов | Функция |
| --- | --- |
| Свойства | Таблице, которая отображает список свойств для выбранного объекта, а также значение выбора, чтобы изменить эти свойства. |
| список задач | Сетка, пользователь может создать, изменить или удалить задачи и комментарии. |

**Окна инструментов содержимого**

| Окно инструментов | Функция |
| --- | --- |
| Help | Окно, которое позволяет пользователям доступ к различным методам получения справки, из «Практические советы» видео на форумах MSDN. |
| Динамическая справка | Окно инструментов, в котором отображаются ссылки на разделы, применимые к текущему выделению справки. |
| Обозреватель объектов | Набор фреймов двух столбцов со списком компонентов иерархический объект в левой области и объекта, свойства и методы в правом столбце. |

**Окна инструментов диалогового окна**

| Окно инструментов | Функция |
| --- | --- |
| Find | Диалоговое окно, которое пользователь может найти или поиск и замена в различных файлов в решении. |
| Расширенный поиск | Диалоговое окно, которое пользователь может найти или поиск и замена в различных файлов в решении. |

**Другие окна инструментов**

::: moniker range="vs-2017"

| Окно инструментов | Функция |
| --- | --- |
| Панель элементов | Окна инструментов, используемый для хранения элементов, которые будут удалены на поверхности разработки, предоставляя согласованный источник перетаскивания для всех конструкторов. |
| Начальная страница | Пользовательский портал для Visual Studio с доступом к веб-каналы новостей для разработчиков, справки Visual Studio и последних проектов. Пользователи также могут создавать настраиваемые начальные страницы, скопировав файл StartPage.xaml из «Common7\IDE\StartPages\" каталог файлов программы Visual Studio для папки StartPages в Visual Studio Документирует каталог и затем либо изменив XAML вручную или открыв его в Visual Studio или другой редактор кода. |

::: moniker-end

::: moniker range=">=vs-2019"

| Окно инструментов | Функция |
| --- | --- |
| Панель элементов | Окна инструментов, используемый для хранения элементов, которые будут удалены на поверхности разработки, предоставляя согласованный источник перетаскивания для всех конструкторов. |

::: moniker-end

**Окна отладчика**

| Окно инструментов | Функция |
| --- | --- |
| Автоматические ||
| Интерпретация ||
| Вывод | В окне вывода можно использовать всякий раз, когда у вас есть текстовое события или состояния для объявления. |
| Память ||
| Точки останова ||
| Работает ||
| Документы ||
| Стек вызовов ||
| Локальные ||
| Контролируемые данные ||
| Дизассемблированный код ||
| Регистры ||
| Потоки ||

## <a name="BKMK_DocumentEditorConventions"></a> Условные обозначения редактора

### <a name="document-interactions"></a>Взаимодействие документа
«Document хорошо» является наибольшее пространство внутри интегрированной среды разработки и где пользователь обычно были внесены их внимания для выполнения своих задач, паравиртуализованы дополнительные средства windows. Редакторы документа представляют основных элементов работы, которую пользователь открывает и сохраняет в Visual Studio. Эти категории сохраняют строгой выделения, привязаны к обозревателя решений или других окон активной иерархии. Пользователь должен иметь возможность указывал на один из этих окон иерархии и знать, где содержится документ и его связь решение, проект или другой корневой объект, предоставляемую пакетом Visual Studio.

Редактирование документов требуется согласованный пользовательский интерфейс. Чтобы разрешить пользователям сосредоточиться на задачах вместо на управление окнами и поиск команд, выберите стратегию представления документа, которая оптимально подходит для задач пользователя для редактирования этого типа документов.

#### <a name="common-interactions-for-the-document-well"></a>Распространенные взаимодействия для контейнере документа

- Поддерживать согласованное взаимодействие модели обычно **новый файл** и **открыть файл** опыт.

- Обновление связанных функций в связанных окон и меню, в открывшемся окне документа.

- Команды меню соответствующим образом интегрированы в типичных меню как **изменить**, **формат**, и **представление** меню. Если доступно много специальные команды, можно создать новое меню. Это новое меню должны быть видимыми только в том случае, если документ имеет фокус.

- Встроенной панели инструментов могут быть помещены в верхней части редактора. Это предпочтительнее необходимости отдельной панели инструментов, который отображается вне редактора.

- Постоянное выделение в обозревателе решений или аналогичные активный окно иерархии.

- Дважды щелкните документ, в обозревателе решений должен выполнить те же действия, **откройте**.

- Если несколько редакторов может использоваться на тип документа, пользователь сможете переопределить или сбросить действие по умолчанию для типа данного документа с помощью **открыть с помощью** диалоговое окно, щелкните правой кнопкой мыши файл и выбрав **Open С помощью** в контекстном меню.

- Не создавайте также мастера в документе.

### <a name="user-expectations-for-specific-document-types"></a>Ожидания пользователей для определенных типов документов
Существует несколько различные базовые типы редакторов документа и каждый имеет набор взаимодействия, которые согласованы с другими пользователями того же типа.

- **Текстовый редактор:** редактор кода, файлов журнала

- **Область конструктора:** WPF forms конструкторе Windows forms

- **Редактор стиле диалоговых окон:** Конструктор манифеста, свойства проекта

- **Конструктор моделей:** конструктора рабочих процессов, codemap, схема архитектуры, продвижения

Кроме того, существует также несколько типов нередактирующему, также использующих документа. Хотя они не изменяйте самих документах, они должны следовать стандартных действий для окон документов.

- **Отчеты:** IntelliTrace отчета, отчет о Hyper-V, отчет профилировщика

- **Панель мониторинга:** Концентратор диагностики

#### <a name="text-based-editors"></a>Текстовые редакторы

- Документ участвует в модели вкладку предварительного просмотра, позволяя для предварительного просмотра документа, не открывая его.

- В окне инструментов companion, например структуру документа можно представить структуру документа.

- IntelliSense (если применимо) согласованное поведение других редакторов кода.

- Всплывающие окна или поддержки специальных возможностей пользовательского интерфейса выполните аналогичные стили и шаблоны для существующих единообразным Интерфейсом, например CodeLens.

- Сообщения о состоянии документа будет отображаться в элементе управления информационной панели в верхней части документа или в строке состояния.

- Пользователь должен иметь возможность настроить внешний вид шрифтов и цветов с помощью **Сервис > Параметры** странице, либо в общей странице шрифты и цвета, либо одно конкретное в редактор.

#### <a name="design-surfaces"></a>Области конструктора

- Пустой конструктор должен иметь водяного знака в рабочей области, указывающее, как приступить к работе.

- Переключение представлений механизмы последует существующих шаблонов, таких как дважды щелкните, чтобы открыть редактор кода или вкладки в окне документа, позволяя взаимодействия с обеими областями.

- Добавление элементов в область конструктора должно выполняться с помощью панели элементов, если окно инструментов высокоспециализированные не требуется.

- Элементы в рабочей области будет следовать согласованные выбора модели.

- Внедренных панелей инструментов содержать команды только, как правило, не относящиеся к документам команды, такие как **Сохранить**.

#### <a name="dialog-style-editors"></a>Редакторы стиле диалоговых окон

- Макет элемента управления необходимо соблюдать договоренности макета обычного диалогового окна.

- Вкладки редактора не должны совпадать с внешний вид вкладок документов, они должны совпадать с одним из двух стилей разрешенных внутренних вкладку.

- Пользователи должны иметь возможность взаимодействия с элементами управления, с помощью клавиатуры. либо путем активации редактора и перехода по элементам управления или с помощью стандартных назначенные клавиши.

- Конструктор должен использовать распространенные сохранить модель. Нет общей сохранения или фиксации кнопки должны находиться в рабочей области, несмотря на то, что другие кнопки может подойти.

#### <a name="model-designers"></a>Конструкторы моделей

- Пустой конструктор должен иметь водяного знака в рабочей области, указывающее, как приступить к работе.

- Добавление элементов в область конструктора должно выполняться с помощью панели элементов.

- Элементы в рабочей области будет следовать согласованные выбора модели.

- Внедренных панелей инструментов содержать команды только, как правило, не относящиеся к документам команды, такие как **Сохранить**.

- Условные обозначения могут отображаться в рабочей области, либо признаком или водяной знак.

- Пользователь должен быть возможность настраивать внешний вид шрифтов и цветов, с помощью **Инструменты > Параметры** странице, либо в общей странице шрифты и цвета, либо одно конкретное в редактор.

#### <a name="reports"></a>Отчеты

- Отчеты, обычно доступны только для сведения и не участвуют в сохранить модель. Тем не менее они могут включать взаимодействия, например ссылки на другие важные сведения или разделы, разворачивать и сворачивать.

- Большинство команд в рабочей области должен быть гиперссылки, не кнопки.

- Макет должен включать заголовок и следуйте указаниям, изложенным макета стандартного отчета.

#### <a name="dashboards"></a>Панели мониторинга

- Панели мониторинга не имеет модели взаимодействия самостоятельно, но служить в качестве средства предлагает множество других средств.

- Они не участвуют в сохранить модель.

- Пользователи должны иметь возможность взаимодействовать с элементами управления, с помощью клавиатуры, либо путем его активации редактора или переходов по элементам управления, либо с помощью стандартных назначенные клавиши.

## <a name="BKMK_Dialogs"></a> Диалоговые окна

### <a name="introduction"></a>Вступление
Диалоговых окон в Visual Studio обычно должен поддерживать отдельные единицы работы пользователя, а затем быть закрыто.

Если вы определили, что требуется диалоговое окно, у вас есть три варианта, в порядке предпочтения:

1. Интегрируйте функции в один из общих диалоговых окон в Visual Studio.

2. Создание собственного диалогового окна, с помощью шаблона в на существующий диалог аналогично.

3. Создайте новое диалоговое окно, следующие взаимодействия и правилам макета.

В этом разделе описывается, как выбрать шаблон правильный диалоговое окно, в рамках рабочих процессов Visual Studio и общие соглашения для диалогового окна конструктора.

### <a name="themes"></a>Темы
Диалоговые окна в Visual Studio выполните одно из двух основных способа.

#### <a name="standard-unthemed"></a>Standard (unthemed)
Большинство диалоговых окон, диалоговых окон Стандартная служебная программа и должен быть unthemed. Сделать не стандартные элементы управления шаблон или при попытке создать стилизованные кнопок «современные» или элементов управления. Элементы управления и внешний вид chrome выполните [стандартные рекомендации взаимодействие рабочего стола Windows по диалоговым окнам](/windows/desktop/uxguide/win-dialog-box).

#### <a name="themed"></a>Темы
Диалоговые окна «подпись» специальные может тематического оформления. Тематические диалоговые окна имеют особый внешний вид, который также имеет некоторые шаблоны специальных взаимодействия, связанный со стилем. Тема диалоговое окно только в том случае, если он удовлетворяет этим требованиям:

- Диалоговое окно — это общий интерфейс, который будет показано и использовано часто или несколькими пользователями (например, **новый проект** диалоговое окно.

- Диалоговое окно содержит элементы фирменной символики заметной продукта (например, **параметры учетной записи** диалоговое окно).

- Диалоговое окно отображается как неотъемлемая часть большего размера последовательность, которая включает в себя другие темы диалоговых окон (например, **добавить подключенную службу** диалоговое окно).

- Диалоговое окно является важной частью интерфейс, который играет роль стратегических в повышении или запоминающихся версия продукта.

При создании темы диалоговое окно, используйте цвета среды и следуйте исправить структуру и шаблоны взаимодействия. (См. в разделе [макет для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md).)

### <a name="dialog-design"></a>Диалоговое окно конструктора
Хорошо спроектированный диалоговые окна учитывайте следующие элементы.

- Поддерживаются задачи пользователя

- Стиль текста диалогового окна, язык и терминология

- Выбор элемента управления и пользовательского интерфейса соглашения

- Выравнивание спецификации и управления визуальной компоновкой

- Доступ с клавиатуры

#### <a name="content-organization"></a>Содержимого организации
Рассмотрим различия между этим базовым типам диалоговых окон:

- [Простой диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_SimpleDialogs) представления элементов управления в одном модальное окно. Представление может включают варианты, сложных шаблонов элементов управления, включая выбор полей или панели значков.

- [Многоуровневая диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_LayeredDialogs) позволяют максимально эффективно использовать площадь экрана при небольшой части пользовательского интерфейса состоит из нескольких групп элементов управления. Диалоговое окно группирования «также устанавливаются» через вкладок, элементы управления для перемещения списка или кнопки таким образом, пользователь может выбрать группе, см. в каждый конкретный момент.

- [Мастеры](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_Wizards) полезны для перенаправления пользователя с помощью действия для выполнения задачи в логической последовательности. Ряд вариантов предлагаются в последовательных панелей, иногда Общие сведения о различных рабочих процессов («ветви») зависят от выбора, сделанного на предыдущей странице.

#### <a name="BKMK_SimpleDialogs"></a> Простой диалоговых окон
Простой диалог — презентации элементов управления в одном модальное окно. Данная презентация может включать вариации сложных шаблонов элементов управления, такие как выбор полей. Для простых диалоговых окон выполните стандартные общие макета, а также любой определенной структуре, требуемый для группирования сложного элемента управления.

![> Создайте ключ со строгим именем является примером простого диалогового окна в Visual Studio. ](../../extensibility/ux-guidelines/media/0704-01_createstrongnamekey.png "0704 01_CreateStrongNameKey")<br />Создание ключа строгого имени приведен пример простого диалогового окна в Visual Studio.

#### <a name="BKMK_LayeredDialogs"></a> Многоуровневая диалоговых окон
Многоуровневую диалоговые окна включают вкладки, панелей мониторинга и embedded деревьев. Они используются для обеспечения максимальной недвижимости, при наличии нескольких групп элементов управления, предлагаемых в одну часть пользовательского интерфейса. Эти группы также устанавливаются таким образом, пользователь может выбрать, какие группирования, чтобы просмотреть в любой момент времени.

В самом простом случае механизм переключения между различными группирования является элементом управления tab. Доступно несколько альтернативных решений. См. в разделе порядке использования адресов и расположение как выбрать наиболее подходящий стиль.

**Средства &gt; параметры** диалоговое окно является примером многоуровневое диалоговое окно, используя дерево embedded:

![Сервис > Параметры является примером многоуровневое диалоговое окно в Visual Studio. ](../../extensibility/ux-guidelines/media/0704-02_toolsoptions.png "0704 02_ToolsOptions")<br />Сервис > Параметры является примером многоуровневое диалоговое окно в Visual Studio.

#### <a name="BKMK_Wizards"></a> Мастеры
Мастеры можно использовать для направления пользователя через логическая последовательность действий в ходе выполнения задачи. Ряд вариантов предлагаются в последовательных панелей, а пользователь должен продолжить работу через каждый этап перед переходом к следующему. Как только достаточно значения по умолчанию станут доступны, **Готово** кнопка включена.

 Модальное мастеры служат для выполнения задач:

- Содержит ветвления, где предлагаются разные пути в зависимости от выбора пользователя

- Содержит зависимости между шагами, где последовательность шагов зависит от входных данных пользователя из предыдущего действия

- Достаточно сложны, что следует использовать пользовательский Интерфейс для объяснения возможностям, доступным и возможные результаты на каждом шаге

- Являются транзакционными, требуется набор действий, чтобы выполнить полностью, прежде чем любые изменения

### <a name="common-conventions"></a>Общие соглашения
Для достижения оптимальных проектных и функциональных возможностей с помощью свои диалоги, следуйте этим соглашениям на размер диалогового окна, позиция, стандартов, конфигурацию элемента управления и выравнивание, пользовательского интерфейса текст, заголовки окон, кнопок управления и ключи доступа.

Макет определенных правил, см. в разделе [макет для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md).

#### <a name="size"></a>Размер
Диалоговые окна должна помещаться в минимальное разрешение экрана 1024 x 768 и размер начального диалогового окна не должна превышать 900 x 700 пикселов. Диалоговые окна может быть регулируемого размера, но это не является обязательным.

Существует две рекомендации для диалоговых окон можно изменять.

1. Минимальный размер — это определено для диалогового окна, который будет оптимизировать для элемента управления задания без усечения и настройки для роста разумным локализации.

2. Что пользователю масштабировать размер сохраняется между сеансами. Например если пользователь масштабирует диалоговое окно для 150%, то последующем запуске диалогового окна будут отображаться 150%.

#### <a name="position"></a>Положение
Диалоговые окна должны отображаться по центру в интегрированной среде разработки при первом запуске. Последняя позиция неизменяемый диалоговых окон не следует сохранять, поэтому они будут отображаться по центру на последующие запуски.

Для диалоговых окон, можно изменять размер должно быть сохранено на последующие запуски. Для модального диалогового окна можно изменять положение не сохраняться. Отображение их по центру интегрированной среды разработки исключает возможность появления там непредсказуемым или непригодным для использования при изменении конфигурации пользователя отображаемое диалоговое окно.

Для немодальные диалоговые окна, которые можно перемещать положение пользователя должен храниться на последующие запуски, как диалоговое окно может оказаться часто используется как неотъемлемая часть более крупного рабочего процесса.

Когда диалоговые окна должны вызвать другие диалоговые окна, верхний диалогового окна должны идти каскадом вправо и вниз от родительского элемента, так что он для пользователя, к которому они Переход на новое место.

#### <a name="modality"></a>Модальность
Модальное окно, означает, что пользователи являются обязательными для завершения или отмены диалогового окна, прежде чем продолжить. С момента создания дочерних модальных диалогов запрещать пользователю взаимодействовать с другими частями среды, поток задач вашей функции следует использовать их максимально ограниченно. При необходимости модальное операции Visual Studio имеет ряд общих диалоговых окон, которые можно интегрировать в ваши функции. Если необходимо создать новое диалоговое окно, соответствовать шаблону взаимодействия существующее диалоговое окно с подобными возможностями.

Если пользователям нужно выполнить два действия за один раз, такие как **найти** и **замените** при написании нового кода диалогового окна должен быть немодальным таким образом, пользователь может легко переключаться между ними. Окна инструментов обычно используется в Visual Studio для такого рода Поддержка редактора связанной задачи.

#### <a name="control-configuration"></a>Конфигурация контроля
Согласовываться с существующей конфигурации элемента управления, которые выполняют то же самое в Visual Studio.

#### <a name="title-bars"></a>Заголовки окон

- Текст в строке заголовка должна отражать имя команды, которой она была запущена.

- Значок не следует использовать в заголовках диалоговое окно. В случаях, когда система требует один используйте логотип Visual Studio.

- Диалоговые окна не следует свести к минимуму или полностью развернуть кнопок.

- Рекомендуется использовать кнопки «Справка» в строке заголовка. Не добавляйте их в новые диалоговые окна. Если они существуют, они должен запуститься раздела справки, по существу, относящуюся к задаче.

  ![Спецификации рекомендации для заголовков в диалоговых окнах Visual Studio](../../extensibility/ux-guidelines/media/0704-03_titlebarspecs.png "0704 03_TitleBarSpecs")<br />Спецификации рекомендации для заголовков в диалоговых окнах Visual Studio

#### <a name="control-buttons"></a>Элемент управления кнопки
В общем случае **ОК**, **отменить**, и **помочь** кнопки должны быть упорядочены по горизонтали в правом нижнем углу диалогового окна. Альтернативный вертикальный столбец разрешается в том случае, если диалоговое окно содержит несколько кнопок в нижней части диалогового окна, который будет представлять visual путаницы с кнопок управления.

![Допустимые конфигурации для кнопок элемента управления в диалоговых окнах Visual Studio](../../extensibility/ux-guidelines/media/0704-04_controlbuttonconfig.png "0704 04_ControlButtonConfig")<br />Допустимые конфигурации для кнопок элемента управления в диалоговых окнах Visual Studio

Диалоговое окно необходимо включить кнопку по умолчанию элемента управления. Чтобы определить лучший команду, чтобы использовать по умолчанию, выберите следующие параметры (перечислены в порядке приоритета):

- Выберите команду наиболее безопасный и безопасным по умолчанию. Это означает, что команды, скорее всего предотвратить потерю данных и избежать непредвиденных разрешения системного.

- Если потери данных и безопасности не факторов, затем выберите команду по умолчанию в соответствии с удобства. Включая скорее всего, команда по умолчанию, повышается пользователя рабочего процесса, если диалоговое окно поддерживает часто или повторяющихся задач.

Не следует выбирать окончательно разрушительные действия для команды по умолчанию. При наличии таких команд, выберите более безопасные команду по умолчанию вместо этого.

#### <a name="access-keys"></a>Клавиши доступа
Не используйте ключи доступа для **ОК**, **отменить**, или **помочь** кнопки. Эти кнопки сопоставляются сочетания клавиш по умолчанию:

| Имя кнопки | Сочетание клавиш |
| --- | --- |
| ОК | ВВОД |
| Отмена | ESC |
| Help | F1 |

#### <a name="imagery"></a>Изображения
Как можно реже используйте образы в диалоговых окнах. Не использовать крупные значки в диалоговых окнах просто использовать дополнительное место. Используйте изображения, только в том случае, если они являются важной частью передачи сообщений для пользователя, такие как значки предупреждения и состояние анимации.

### <a name="BKMK_PrioritizingAndLayering"></a> Назначение приоритетов и иерархическое представление

#### <a name="prioritizing-your-ui"></a>Назначение приоритетов пользовательского интерфейса
Возможно, необходимо перевести определённые элементы пользовательского интерфейса на передний план и более сложные поведение и параметры (в том числе непонятные команды), в диалоговых окнах. Восстановления на передний план часто используемые функции, место для него и станет видимым в пользовательском Интерфейсе текстовую метку по умолчанию при отображении диалогового окна.

#### <a name="layering-your-ui"></a>Иерархическое представление пользовательского интерфейса
Если вы определили, что диалоговое окно не требуется, но связанные функциональные возможности, которые вы хотите предоставить пользователю выходит за то, что может быть отображен в простого диалогового окна, необходимо слоя пользовательского интерфейса. Самые обычные методы слоев, используемый Visual Studio — вкладки и коридорах зданий или панели мониторинга. В некоторых случаях может подходить регионов, которые можно разворачивать и сворачивать. Адаптивного пользовательского интерфейса в Visual Studio обычно не рекомендуется.

Существуют, преимущества и недостатки различных методов иерархическое представление пользовательского интерфейса через элементы управления вкладки по принципу. Просмотрите список ниже, чтобы убедиться, что вы выбираете способ разделения на уровни, соответствующий вашей ситуации.

##### <a name="tabbing"></a>Переход по клавише TAB

| Переключение механизм | Преимущества и применение | Недостатки и несанкционированного использования |
| --- | --- | --- |
| Элемент управления табуляции | Логически сгруппировать страницы диалогового окна в связанные наборы<br /><br />Полезно для не более пяти (или количество вкладок, которые помещаются в одну строку в диалоговом окне) страницы связанных элементов управления в диалоговое окно<br /><br />Вкладка метки должны быть коротким: один или два слова, которые можно легко определить содержимое<br /><br />Общий вид диалогового окна системы<br /><br />Пример **Обозреватель файлов &gt; свойств элемента** | Сделать метками, короткие описания может быть сложно<br /><br />Как правило, плохо масштабируется за последние пять вкладок в одно окно<br /><br />Несоответствующий, при наличии слишком много вкладок для одной строки (используйте метод альтернативные слоев)<br /><br />Не расширяемая |
| Боковая панель навигации | Простое устройство переключения, который способен обрабатывать дополнительные категории, чем вкладок<br /><br />Плоский список категорий (без иерархии)<br /><br />Расширяемая<br /><br />Пример **Настроить... &gt; Добавление команды** | Не рекомендуется использовать пространство по горизонтали, если имеется менее чем из трех групп<br /><br />Задача может быть лучше подходит для раскрывающегося списка |
| Элемент управления "Дерево" | Разрешает неограниченное количество категорий<br /><br />Обеспечивает группирование или иерархия категорий<br /><br />Расширяемая<br /><br />Пример **Средства &gt; параметры** | Во многом вложенные иерархии может привести к чрезмерной горизонтальная прокрутка<br /><br />Visual Studio имеет overabundance представления в виде дерева |
| Мастер | Позволяет с помощью задачи завершения руководить пользователем при выполнении задачи и последовательного действия: мастер представляет высокоуровневые задачи и подзадачи, необходимые для выполнения общей задачи представляют отдельных панелей<br /><br />Полезно, когда задача пересекает границы пользовательского интерфейса, как при пользователь в противном случае пришлось бы использовать многочисленные редакторы и средства windows для выполнения задачи<br /><br />Полезно, когда задача требует ветвления<br /><br />Полезно в том случае, если задача содержит зависимости между шагами<br /><br />Это удобно при нескольких схожих задач с вилки решение могут быть представлены в одно окно для сокращения числа разным диалоговым окнам, аналогичные | Подходит для любой задачи, которые не требуют последовательного рабочего процесса<br /><br />Пользователи могут стать перегруженным замешательство и мастер слишком много действий<br /><br />Мастера по своей природе имеют ограниченную площадь экрана |

##### <a name="hallways-or-dashboards"></a>Коридорах зданий или панели мониторинга
Коридорах зданий и панели мониторинга — это диалоги или панелей, которые служат в качестве запуск точек для других диалоговых окон и окон. Хорошо спроектированный «где» немедленно выявит только наиболее распространенные параметры, команд и параметров, позволяя пользователю легко выполнять стандартные задачи. Как коридора реальных предоставляет заталкивает для доступа к комнаты за ними, здесь пользовательский Интерфейс менее распространенных собираются в отдельный «комнаты» (часто другие диалоговые окна) связанных функциональных возможностей, которые может осуществляться из основной коридоре.

Кроме того пользовательский Интерфейс, который предлагает все доступные возможности в одной коллекции, а не выполнить рефакторинг функциональности менее распространенных в разных расположениях — это просто панель мониторинга.

![Понятие коридора для предоставления дополнительный пользовательский Интерфейс в Outlook](../../extensibility/ux-guidelines/media/0704-08_hallway.png "0704 08_Hallway")<br />Понятие коридора для предоставления дополнительный пользовательский Интерфейс в Outlook

##### <a name="adaptive-ui"></a>Адаптивного пользовательского интерфейса
Отображение или скрытие пользовательского интерфейса на основе использования или в пользовательском интерфейсе самостоятельно сообщаемые является другим способом представления необходимые пользовательского интерфейса, скрывая других частей. Это не рекомендуется в Visual Studio, как алгоритмы для решения, когда Отображение или скрытие пользовательского интерфейса может быть сложным, и правила всегда будет работать неправильно для некоторых набор вариантов.

## <a name="BKMK_Projects"></a> Проекты

### <a name="projects-in-the-solution-explorer"></a>Проекты в обозревателе решений
Большинство проектов классифицируются как основано на ссылке, directory или смешанных. В обозревателе решений одновременно поддерживаются все три типа проектов. Корень взаимодействие с пользователем в работе с проектами происходит внутри этого окна. Несмотря на то, что другой проект узлы находятся ссылки, каталога или смешанного типа проектов, имеется общий шаблон взаимодействия, который должен применяться в качестве отправной точки перед расходятся в шаблонов пользователя конкретного проекта.

Проекты следует всегда:

- Поддерживает возможность добавлять папки проекта, чтобы упорядочить содержимое проекта

- Поддерживать согласованную модель для долговременного хранения проекта

Проекты также должны поддерживать моделей согласованного взаимодействия для:

- Удаление элементов проекта

- Сохранение документов

- Редактирование свойств проекта

- Изменения проекта в альтернативного представления

- Операции перетаскивания и вставки

### <a name="drag-and-drop-interaction-model"></a>Модель взаимодействия перетаскивания и вставки
Обычно проекты классифицировать себя как основано на ссылке (будет сохранять только ссылки на элементы проекта в хранилище), (будет сохранять только элементы проекта физически хранятся в иерархии проекта), на основе каталогов или смешанными атрибутами (будет сохранять ссылки или физические элементы). Интегрированная среда разработки поддерживает все три типа проектов одновременно в **обозревателе решений**.

С точки зрения перетаскивания и вставки следует применимы следующие характеристики для каждого типа проекта в пределах **обозревателе решений**:

- **Проект на основе ссылок:** Суть в том, что проект перетаскивает вокруг ссылки на элемент в хранилище. Когда проект на основе ссылки выступает в качестве источника для операции перемещения, следует удалить только ссылка на элемент из проекта. Элемент, не фактически удаляется в с жесткого диска. Когда проект на основе ссылки выступает в качестве целевой для операции (копирования или перемещения), его нужно добавить ссылку на исходный элемент источника без создания копии закрытого элемента.

- **Проект на основе каталогов:** С точки зрения и перетащите проекта таскаю физических элементов, а не ссылки. Когда проект на основе directory выступает в качестве источника для операции перемещения, его следует закончить удаление физического элемента с жесткого диска, а также для его удаления из проекта. Когда проект на основе directory выступает в качестве целевой для операции (копирования или перемещения), необходимо сделать копию элемента источника в целевое расположение.

- **Смешанный целевого проекта:** С точки зрения и перетащите поведение данного типа проекта зависит от природы перетаскиваемым (ссылка на элемент в хранилище) либо сам элемент. Правильное поведение для ссылок и физические элементы, описанные выше.

При наличии только одного типа проекта в **обозревателе решений**, то операции перетаскивания и вставки будет простым. Так как каждый системе проекта возможность определять собственное поведение перетаскивания и вставки, чтобы обеспечить предсказуемое взаимодействие с пользователем необходимо соблюдать определенным правилам (в зависимости от поведения обозревателя Windows перетаскивания и вставки):

- Без изменений, операции перетаскивания **обозревателе решений** (когда Ctrl ни клавиши Shift удерживаются) приведет к операции перемещения.

- Удерживая нажатой клавишу SHIFT операции также должен приводить операции перемещения.

- Операции перетаскивания CTRL должно привести к операции копирования.

- Основано на ссылке и смешанного проекта системы поддерживают понятие Добавление ссылки (или ссылки) к элементу источника. Когда эти проекты находятся целевой объект операции перетаскивания и вставки (когда **Ctrl + Shift** удерживается), он должен приводить ссылки на элемент, добавляемый в проект

Не все операции перетаскивания и вставки распределены по продуманной комбинации основано на ссылке на основе directory проектов и смешанного. В частности довольно трудно имитировать разрешать операции перемещения между исходный каталог проекта и основана на ссылке целевого проекта, поскольку исходный проект на основе directory придется удалить элемент источника после завершения перемещения. Затем целевой основано на ссылке проект попадет со ссылкой на удаленный элемент.

Это также вводит в заблуждение, представьте разрешить операции копирования между этими типами проектов, так как целевой основано на ссылке проект не следует вносить независимая копия исходного элемента. Аналогичным образом Ctrl + Shift, перетащив на основе directory целевой проект не разрешен, так как невозможно сохранить ссылки проекта на основе каталога. В случаях, где операция перетаскивания и вставки не поддерживается интегрированной среды разработки следует запретить раскрывающегося и показать пользователю запрещенным перетаскиванием курсора (показано в приведенной ниже таблице указатель).

Для правильной реализации поведения перетаскивания и вставки, проект источника перетаскивания должен обмениваться данными по своей природе для целевого проекта. (Например, это ссылка на или на каталог?) Эта информация указывается формат буфера обмена, предоставляемые этим источником. В качестве источника перетаскивания (или операции копирования в буфер обмена) проекта следует предлагает либо `CF_VSREFPROJECTITEMS` или `CF_VSSTGPROJECTITEMS` соответственно зависимости от того, находится ли проект основано на ссылке или на основе каталогов. Эти форматы имеют одинаковое содержимое данных, которая напоминает Windows `CF_HDROP` формата, за исключением того, что списки строк, а не имена файлов, из которых являются двойной -`NULL` завершается список `Projref` строк (возвращенный `IVsSolution::GetProjrefOfItem`или `::GetProjrefOfProject` соответствующим образом).

В качестве целевого объекта перетаскивания (или операции вставки в буфер обмена), проект должен принимать оба `CF_VSREFPROJECTITEMS` и `CF_VSSTGPROJECTITEMS`, хотя точное обработки операции перетаскивания и вставки изменяется в зависимости от характера целевой и исходный проект. Исходный проект объявляет своей природе, является ли он предлагает `CF_VSREFPROJECTITEMS` или `CF_VSSTGPROJECTITEMS`. Целевой объект раскрывающегося понимает свой собственный характера и таким образом достаточно информации для принятия решений по как для ли перемещения, копирования, или ссылка должна выполняться. Пользователь также изменяет, какая операция перетаскивания и вставки должны выполняться, нажав клавишу Ctrl, Shift, или как клавиши Ctrl и Shift. Важно правильно указать, какая операция выполнялась, заранее в цели перетаскивания его `DragEnter` и `DragOver` методы. **Обозревателе решений** автоматически знает, являются ли тот же проект в проект исходного и целевого проекта.

Перетаскивание элементов проекта в экземплярах Visual Studio (например, из одного экземпляра devenv.exe в другую) не поддерживается. **Обозревателе решений** также напрямую отключает это.

Пользователь всегда должен иметь возможность определить последствия операции перетаскивания и вставки путем выбора элемента, за какой из следующих указатели мыши отображается перед удалением элемента и перетащив его в целевое расположение:

| Указатель мыши | Команда | Описание |
| :---: | --- | --- |
| ![Наведении указателя мыши на значок «не бросать»](../../extensibility/ux-guidelines/media/0706-01_mousenodrop.png "0706 01_MouseNoDrop") | Не раскрывается | Не удалось удалить элемент в указанное расположение. |
| ![Значок мыши «Копировать»](../../extensibility/ux-guidelines/media/0706-02_mousecopy.png "0706 02_MouseCopy") | Копировать | Элемент будет скопирован в целевое расположение. |
| ![Мыши «переместить» значок](../../extensibility/ux-guidelines/media/0706-03_mousemove.png "0706 03_MouseMove") | Перемещение | Элемент перемещается в целевое расположение. |
| ![Значок «Добавить ссылку» мыши](../../extensibility/ux-guidelines/media/0706-04_mouseaddref.png "0706 04_MouseAddRef") | Добавление ссылки | Ссылку на выбранный элемент будет добавляться в целевое расположение. |

#### <a name="reference-based-projects"></a>Ссылки проектов
 В следующей таблице перечислены операции перетаскивания и вставки (а также операции вырезания, копирования и вставки), которые должны выполняться, в зависимости от характера источник элемента и модификатора ключей нажата для целей на основе ссылки на проекты:

| Модификатор | Категория | Элемент источника: Ссылка | Элемент источника: Физический элемент или файловой системы (`CF_HDROP`) |
| --- | --- | --- | --- |
| Модификатор | Действие | Перемещение | Ссылка |
| Модификатор | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |
| Модификатор | Source | Удаляет ссылку на исходный элемент | Сохраняет исходный элемент |
| Модификатор | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Shift + перетаскивание | Действие | Перемещение | Не раскрывается |
| Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Не раскрывается |
| Shift + перетаскивание | Source | Удаляет ссылку на исходный элемент | Не раскрывается |
| Shift + перетаскивание | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | Не раскрывается |
| CTRL + перетаскивание | Действие | Копировать | Не раскрывается |
| CTRL + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Не раскрывается |
| CTRL + перетаскивание | Source | Сохраняет ссылку на исходный элемент | Не раскрывается |
| CTRL + перетаскивание | Результат | `DROPEFFECT_COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | Не раскрывается |
| Ctrl + Shift + перетаскивание | Действие | Ссылка | Ссылка |
| Ctrl + Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |
| Ctrl + Shift + перетаскивание | Source | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |
| Ctrl + Shift + перетаскивание | Результат | `DROPEFFECT_LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Ctrl + Shift + перетаскивание | Бумага для заметок | То же, как и перетащите поведение для сочетаний клавиш в проводнике Windows. ||
| Операции вырезания и вставки | Действие | Перемещение | Ссылка |
| Операции вырезания и вставки | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |
| Операции вырезания и вставки | Source | Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент |
| Операции вырезания и вставки | Результат | Элемент остается в исходном расположении в хранилище | Элемент остается в исходном расположении в хранилище |
| Копирование и вставка | Действие | Копировать | Ссылка |
| Копирование и вставка | Source | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |
| Копирование и вставка | Результат | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |
| Копирование и вставка | Действие | Элемент остается в исходном расположении в хранилище | Элемент остается в исходном расположении в хранилище |

#### <a name="directory-based-projects"></a>Проекты на основе каталогов
В следующей таблице перечислены операции перетаскивания и вставки (а также операции вырезания, копирования и вставки), которые должны выполняться, в зависимости от характера нажата для проектов на основе directory целевой ключей элемента и модификатор источника:

| Модификатор | Категория | Элемент источника: Ссылка | Элемент источника: Физический элемент или файловой системы (`CF_HDROP`) |
|-----------------|----------| - | - |
| Модификатор | Действие | Перемещение | Перемещение |
| Модификатор | целевого объекта | Копирует элемент целевое расположение | Копирует элемент целевое расположение |
| Модификатор | Source | Удаляет ссылку на исходный элемент | Удаляет ссылку на исходный элемент |
| Shift + перетаскивание | Действие | Перемещение | Перемещение |
| Shift + перетаскивание | целевого объекта | Копирует элемент целевое расположение | Копирует элемент целевое расположение |
| Shift + перетаскивание | Source | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного расположения |
| Shift + перетаскивание | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| CTRL + перетаскивание | Действие | Копировать | Копировать |
| CTRL + перетаскивание | целевого объекта | Копирует элемент целевое расположение | Копирует элемент целевое расположение |
| CTRL + перетаскивание | Source | Сохраняет ссылку на исходный элемент | Сохраняет ссылку на исходный элемент |
| CTRL + перетаскивание | Результат | `DROPEFFECT_COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Ctrl + Shift + перетаскивание | | Не раскрывается | Не раскрывается |
| Операции вырезания и вставки | Действие | Перемещение | Перемещение |
| Операции вырезания и вставки | целевого объекта | Копирует элемент целевое расположение | Копирует элемент целевое расположение |
| Операции вырезания и вставки | Source | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного расположения |
| Операции вырезания и вставки | Результат | Элемент остается в исходном расположении в хранилище | Элемент удаляется из исходного расположения в хранилище |
| Копирование и вставка | Действие | Копировать | Копировать |
| Копирование и вставка | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент целевое расположение |
| Копирование и вставка | Source | Сохраняет исходный элемент | Сохраняет исходный элемент |
| Копирование и вставка | Результат | Элемент остается в исходном расположении в хранилище | Элемент остается в исходное расположение ins хранилища |

#### <a name="mixed-target-projects"></a>Смешанный целевой проекты
В следующей таблице перечислены операции перетаскивания и вставки (а также операции вырезания, копирования и вставки), которые должны выполняться, в зависимости от характера источника элемента и модификатора ключей нажата для смешанного целевой проекты:

| Модификатор | Категория | Элемент источника: Ссылка | Элемент источника: Физический элемент или файловой системы (`CF_HDROP`) |
| --- | --- | --- | --- |
| Модификатор | Действие | Перемещение | Перемещение |
| Модификатор | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент целевое расположение |
| Модификатор | Source | Удаляет ссылку на исходный элемент | Удаляет ссылку на исходный элемент |
| Модификатор | Результат | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и элемент удаляется из исходного расположения в хранилище |
| Shift + перетаскивание | Действие | Перемещение | Перемещение |
| Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент целевое расположение |
| Shift + перетаскивание | Source | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного расположения |
| Shift + перетаскивание | Результат | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и элемент удаляется из исходного расположения в хранилище |
| CTRL + перетаскивание | Действие | Копировать | Копировать |
| CTRL + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент целевое расположение |
| CTRL + перетаскивание | Source | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |
| CTRL + перетаскивание | Результат | `DROPEFFECT_ COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Ctrl + Shift + перетаскивание | Действие | Ссылка | Ссылка |
| Ctrl + Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент источника |
| Ctrl + Shift + перетаскивание | Source | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |
| Ctrl + Shift + перетаскивание | Результат | `DROPEFFECT_ LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Операции вырезания и вставки | Действие | Перемещение | Перемещение |
| Операции вырезания и вставки | целевого объекта | Копирует элемент целевое расположение | Копирует элемент целевое расположение |
| Операции вырезания и вставки | Source | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного расположения |
| Операции вырезания и вставки | Результат | Элемент остается в исходном расположении в хранилище | Элемент удаляется из исходного расположения в хранилище |
| Копирование и вставка | Действие | Копировать | Копировать |
| Копирование и вставка | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент целевое расположение |
| Копирование и вставка | Source | Сохраняет исходный элемент | Сохраняет исходный элемент |
| Копирование и вставка | Результат | Элемент остается в исходном расположении в хранилище | Элемент остается в исходном расположении в хранилище |

Эти сведения следует учитывать при реализации перетаскивания **обозревателе решений**:

- Разработка для нескольких сценариев выбора.

- Имена файлов (полный путь) должно быть уникальным для целевого проекта или раскрывающегося это не разрешено.

- Имена папок должны быть уникальными (без учета регистра) на уровне, они пропускаются.

- Существуют различия в поведении между файлы, открытые или закрытые во время перетаскивания (которая не упоминается в сценарии выше).

- Файлы верхнего уровня ведут себя немного иначе, чем файлы в папках.

Еще одна проблема, которые следует учитывать, как обрабатывать операции перемещения на элементы, имеющие редакторов и открытых конструкторах. Ожидаемым поведением является (применяется для всех типов проектов) следующим образом:

1. Если открыть редактор или конструктор не поддерживает все несохраненные изменения, затем окна редактора или конструктора должен быть автоматически закрыт.

2. Если открыть редактор или конструктор есть несохраненные изменения, источник перетаскивания должна ожидать для удаления, а затем попросите пользователя, чтобы сохранить незафиксированные изменения в открытых документов перед закрытием окна, предлагая, аналогичную приведенной ниже :

    ```
    ==========================================================
         One or more open documents have unsaved changes.
    Do you want to save uncommitted changes before proceeding?
                      [Yes]  [No]  [Cancel]
    ==========================================================
    ```

Это дает пользователю возможность сохранить выполняемой работы, прежде чем целевой объект создает его копии. Новый метод `IVsHierarchyDropDataSource2::OnBeforeDropNotify` был добавлен для включения этой обработки.

Целевой объект, можно скопировать состояния элемента, как в хранилище (не включая несохраненные изменения в редакторе, если пользователь решает **нет**). После завершения его копирование целевой объект (в `IVsHierarchyDropDataSource::Drop`), источник является возможность завершения удаления части операции перемещения (в `IVsHierarchyDropDataSource::OnDropNotify`).

Редакторы, все несохраненные изменения необходимо оставить открытым. Для этих документов с несохраненными изменениями это означает, что будет выполняться копирование части операции перемещения, но удалить часть будет прервана. В нескольких сценарии выбора, когда пользователь выбирает **нет**, эти документы с несохраненными изменениями не следует закрыт или удален, но без несохраненные изменения следует закрыть и удалить.