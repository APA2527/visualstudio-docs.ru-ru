---
title: Меню и команды для визуальной студии (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 0a1ed675-2bd1-4603-ba3a-f40dfb5cfb69
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: c1f22b7ac4377b600208c079b6af1eff7fc3cbfc
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80698385"
---
# <a name="menus-and-commands-for-visual-studio"></a>Меню и команды для Visual Studio
## <a name="command-usage"></a>Использование команды

### <a name="overview"></a>Обзор
 В отличие от Microsoft Office, который представляет собой пакет, который состоит из множества отдельных продуктов, Visual Studio содержит много продуктов, каждый из которых вносит свои наборы команд в глобальную Visual Studio IDE. IDE управляет сложностью тысяч команд, фильтруя функциональность, доступную пользователю на основе контекста.

 При изменении контекста пользователя, например, переключения с окна проектирования в окно редактирования кода, функциональность, не связанная с новым контекстом, исчезает. В то же время, новые функциональные возможности всплывают вместе с соответствующей динамической информацией, такой как свойства и параметры Toolbox. Пользователь не должен замечать замену доступного набора команд. Если пользователь отвлекается или путается в появлении или исчезновении команд, то дизайн пользовательского интерфейса нуждается в корректировке. Текущий контекст пользователя всегда указывается одним или нескольком способом, например, в заголовке IDE, окне свойств или в диалоговом окне Страниц свойств.

 Командные бары обеспечивают гибкость в uI. Единственными командными структурами, присущими среде Visual Studio, являются главное меню и основная панель команд, которые могут быть настроены и даже скрыты. Другие панели команд появляются и исчезают в зависимости от состояния приложения. Окна инструментов и редакторы документов также могут содержать встроенные панели инструментов в краях окон.

#### <a name="basic-guidelines"></a>Основные руководящие принципы

##### <a name="use-existing-shared-commands-command-groups-and-menus-whenever-possible"></a>Используйте существующие общие команды, группы команд и меню, когда это возможно.
 Поскольку команды обычно отображаются на основе контекста, использование существующих общих меню и групп команд гарантирует, что структура команд остается относительно стабильной между изменениями в контексте. Повторное использование общих команд и размещение новых команд вблизи связанных общих команд также снижает сложность IDE и создает более удобный для пользователя опыт. Если необходимо определить новую команду, попробуйте поместить ее в существующую общую группу команд. Если необходимо определить новую группу, поместите ее в существующее общее меню рядом с связанной группой команд, прежде чем создавать новое меню верхнего уровня.

##### <a name="do-not-create-icons-for-every-command"></a>Не создавайте значки для каждой команды.
 Тщательно продумайте, прежде чем создавать значок команды. Иконки должны создаваться только для команд, которые:

- отображаться на панели инструментов по умолчанию.

- могут быть добавлены пользователями в панель инструментов через **настраиваемый диалог...**

- иметь значок, связанный с тем же действием в другом продукте Майкрософт.

##### <a name="limit-the-addition-of-keyboard-shortcuts"></a>Ограничьте добавление ярлыков клавиш
 Подавляющее большинство пользователей используют крошечную часть всех доступных ярлыков. Если вы сомневаетесь, не связывайте функцию с ярлыком клавиатуры. Работайте с группой пользователей, прежде чем добавлять новые ярлыки.

##### <a name="give-commands-a-default-menu-placement"></a>Дайте командам размещение меню по умолчанию.
 Имейте в виду, что ваши команды будут настроены другими и проектировать их соответствующим образом. Нет такого понятия, как скрытая команда. Все команды Visual Studio отображаются в диалоге **«Инструменты > настраивают»,** командном окне, автоматическом завершении, **> > опций** > диалоге клавиатуры и среде инструментов разработки (DTE). Убедитесь в том, чтобы дать вашим командам имя и набор инструментов в файле .ctc, так что пользователи могут легко найти их.

##### <a name="do-not-duplicate-shared-commands-on-an-embedded-toolbar"></a>Не дублируйте общие команды на встроенной панели инструментов.
 Полезно размещать команды в непосредственной близости от области фокусировки пользователя. Одним из способов сделать это является создание встроенной панели инструментов в верхней части окна инструмента или редактора документов. Команды, размещенные на панели инструментов, должны быть специфичны для области содержимого в окне. Не дублируйте общие команды на этих панели инструментов. Например, никогда не размещайте значок "Сохранить" во встроенную панель инструментов.

### <a name="content-and-command-visibility"></a>Содержимое и видимость командования
 Команды существуют в следующих областях: **Окружающая среда,** **Иерархия**и **Документ**. Знайте каждую область, чтобы иметь уверенность в размещении команд.

 Команды в области **среды** устанавливают основной контекст и распределяются между несколькими контекстами. Они изменяют видимость или расположение документов и окон инструментов. Среди команд в области среды **новый проект**, **Подключите к серверу**, **Процесс присоединения**, **Вырезать**, **Копия**, **Вставить**, **Найти**, **Параметры**, **Настройка**, **Новое окно**, и **посмотреть справку**.

 Команды в области **Иерархии** управляют иерархиями в Visual Studio, включая **Project,** **Team**и **Data.** Они относятся к подконтексту проекта - например, **Debug,** **Build,** **Test,** **Architecture,** or **Analyse**. Среди команд в области Иерархии — **добавление нового элемента,** **новый запрос,** **Настройки проекта,** **Добавление нового источника данных,** **мастер производительности запуска**и новая **диаграмма**.

 Команды в области **документа** действуют на содержимое документа, например, код, дизайн или запрос рабочего элемента (WIЗ). Они также действуют на вид окна инструмента или иным образом специфичны для этого окна инструмента. Команды сферы действия документов также действуют на объекты файла, которые сами по себе специфичны для иерархии, такие как **Удалить из проекта.** Среди команд в области документа **refactor > Rename,** **Создать копию рабочего элемента,** расширить **все**, **свернуть все**, и создать **задачу пользователя**.

### <a name="command-placement-decisions"></a>Решения о размещении команд
 После того как вы решили создать команду, вам нужно определить ее правильное размещение и создать ярлык клавиатуры. Следуйте по этому пути принятия решения, чтобы установить, где разместить команду:

 ![Диаграмма решения размещения команды](../../extensibility/ux-guidelines/media/0501-a_commandplacement.png "0501-a_CommandPlacement")

 **Путь принятия решения для размещения команд в Visual Studio**

### <a name="command-placement-in-menus"></a>Размещение команд в меню

#### <a name="main-menu-bar"></a>Главный бар меню
 Основным баром меню должно быть стандартное расположение команд любых контекстных пакетов меню, которые вносят свой вклад в uI. Основная панель меню отличается от других командных структур тем, что среда использует его для управления, какие команды видны. Все остальные панели команд просто отменяют команды, которые вырваны из контекста, независимо от того, размещаются ли они в меню или на панели инструментов.

 Среда определяет набор команд, встроенных в основной бар меню, которые являются общими для всего IDE и нескольких доменов задач. Эти команды всегда видны независимо от того, какие VSPackages загружаются в среду. Хотя VSPackages может расширить этот набор команд, набор команд от каждого продукта и размещение их команд является ответственностью каждой команды.

 Структура основного меню Visual Studio может быть разбита на следующие категории меню:

##### <a name="core-menus"></a>Основные меню

- Файл

- Изменить

- Просмотр

- Инструменты

- Окно

- Справка

##### <a name="project-specific-menus"></a>Меню по конкретным проектам

- Проект

- Построение

- Отладка

##### <a name="context-specific-menus"></a>Меню, специфичные для контекста

- Группа

- Данные

- Тест

- Architecture

- Анализ

##### <a name="document-specific-menus"></a>Меню, конкретно еле для документов

- Формат

- Таблица

##### <a name="when-designing-main-menus-adhere-to-these-rules"></a>При разработке основных меню придерживайтесь следующих правил:

- Не превышать 25 элементов верхнего уровня в данном контексте

- Меню никогда не должно превышать 600 пикселей в высоту.

- Оцените основное меню в нескольких контекстах, например, в Ultimate SKU и Общем профиле.

- Меню вылетов являются приемлемыми.

- Меню flyout должны содержать не менее трех наименований и не более семи.

- Меню вылетов должно идти только на один уровень глубоко - некоторые элементы меню Visual Studio имеют каскадные подменю, но эта модель не поощряется.

- Используйте не более шести сепараторов. Группы должны придерживаться следующей иллюстрации:

     ![Рекомендации по группированию главного меню](../../extensibility/ux-guidelines/media/0501-b_mainmenus.png "0501-b_MainMenus")

- Хотя не требуется иметь каждую группировку в рисунке, добавление дополнительных групп ограничено.

- Каждая группа должна иметь от двух до семи пунктов меню.

#### <a name="main-menu-ordering"></a>Основной заказ меню
 Перед добавлением нового элемента верхнего уровня рассмотрите возможность размещения команды в существующем меню верхнего уровня. При добавлении нового меню верхнего уровня, не забудьте поместить его в правильном месте. Решите, является ли меню специфичным для проекта, контекста или документа. Держите краткую формулировку меню верхнего уровня и используйте только одно слово.

 Основные меню должны бронировать остальные команды. Файл, испуг и представление всегда должны быть слева, а инструменты, окно и справка всегда должны быть справа.

#### <a name="context-menus"></a>Контекстные меню
 Размещение слишком большого функциональности в контекстных меню приводит к трудному для изучения интерфейсу. Все основные функциональные возможности должны быть доступны через главный бар меню. Размещение команд должно быть согласовано с существующими командами, чтобы избежать дублирования команд. Для контекстного меню оболочка определяет стандартные группы меню, которые должны быть включены в зависимости от того, является ли контекстное меню для решения, узла проекта или элемента проекта.

 При проектировании контекстных меню придерживайтесь тех же правил, что и для основного меню, и кроме того:

- Не превышать 25 пунктов меню верхнего уровня.

- Меню вылетов являются приемлемыми, но не должны превышать один уровень глубоко - никогда не используйте каскадные вылеты.

- Используйте не более шести сепараторов.

### <a name="command-placement-in-toolbars"></a>Размещение командования в панели инструментов

#### <a name="general-toolbars"></a>Общие панели инструментов
 При проектировании и организации панели инструментов следуйте следующим стандартам:

- Не используйте более одного глагола на кнопку. Одна кнопка и одно действие.

- Используйте текст рядом с иконой только в том случае, если его необходимо усилить этикеткой.

- Используйте комбо-коробку исключительно для свойств, которые будут переключены несколько раз за один сеанс. В противном случае, разоблачить имущество в другом месте.

- Ширина комбо-коробки должна равняться ширине самого длинного предмета в коробке - 30%. Например, если самый длинный элемент раподрарен 200 пикселями, то комбо-бокс должен быть 260 пикселей в ширину.

- Ограничьте использование сепараторов. Использование сепаратора рядом с выпадением является анти-шаблон, потому что форма падения сама действует как визуальный сепаратор.

- Группы значков должны содержать от трех до шести иконок.

- Если квалификаторы приводят к нескольким полезным командам, используйте кнопку сплита, которая хранит последний параметр:

     ![Разбивка кнопок в Visual Studio](../../extensibility/ux-guidelines/media/0501-c_splitbuttons.png "0501-c_SplitButtons")

     **Пример кнопки разделения. Шесть команд слева могут вместо этого поместиться в одну кнопку.**

#### <a name="product-specific-toolbars"></a>Панели инструментов для конкретных продуктов
 Каждый продукт может предоставить панель инструментов по умолчанию, содержащую часто используемые и важные команды, и панель инструментов по умолчанию каждого продукта должна отображаться при первом запуске Visual Studio после установки продукта.

 Продукты должны также использовать общие командные группы и меню, предоставляемые IDE. Каждая общая группа команд размещается в общем меню, предназначенном для организации соответствующих команд значимым образом для пользователя. Важно использовать эту общую командную структуру, чтобы уменьшить сложность.

#### <a name="global-toolbars"></a>Глобальные панели инструментов
 Глобальные панели инструментов необходимы для того чтобы приспосабливать на одном ряде справедливо из коробки. При создании новой глобальной панели инструментов следуйте рекомендациям для этого типа панели инструментов.

 **Общие руководящие принципы панели инструментов:**

- Каждая панель инструментов имеет 24 пикселя общего элемента управления (захват, переполнение).

- Каждая кнопка панели инструментов имеет ширину 22 пикселя, включая обивку. Создание значка сплит кнопки добавляет еще 11 пикселей шириной.

- Допускается дублирование команд через панели инструментов.

  **Панели инструментов, специфичными для конкретных документов,** появляются, когда определенный тип файла активен и исчезает, когда другой тип файла становится активным.

- Панели инструментов для конкретных документов могут иметь не более 12 кнопок.

- Общая ширина панели инструментов не может превышать 300 пикселей.

- Каждый тип файла может иметь либо одну встроенную панель инструментов, либо одну глобальную панель инструментов, но не обе.

  **Контекстные панели инструментов** появляются, когда устанавливается определенный контекст, и, как правило, остаются активными в течение длительных периодов времени.

- Ограничение кнопок для всех контекстных наборов инструментов составляет 18.

- Если большинство пользователей не будут постоянно использовать команды панели инструментов, когда контекст активен, то не связывайте эту панель инструментов с контекстом.

- Убедитесь, что панель инструментов исчезает при выходе из контекста. Ни один из этих инструментов не должен отображаться при запуске.

  **Панели инструментов без контекста** никогда не отображаются автоматически. Они показывают только тогда, когда пользователь активирует их. Держите максимальную ширину ниже 200 пикселей.

### <a name="general-organization-and-shell-defined-groups"></a>Общие группы организации и оболочки
 Используйте существующие общие команды, группы команд и меню. Если необходимо определить новую команду, попробуйте поместить ее в существующую общую группу команд. Если необходимо определить новую группу, попробуйте поместить ее в существующее общее меню рядом с связанной командной группой, прежде чем создавать новое меню верхнего уровня. Это снижает сложность командования, обеспечивая при этом последовательное размещение команд в IDE.

 Общее меню **Формата,** обычно отображаемые в контексте окон документов в стиле дизайнера, проиллюстрировано на следующем изображении:

 ![Меню формата Visual Studio с выносками](../../extensibility/ux-guidelines/media/0501-d_formatmenu.png "0501-d_FormatMenu")

 **Меню групп в Визуальной студии**

### <a name="reducing-and-reusing-commands"></a>Сокращение и повторное использование команд
 Команды обычно отображаются в зависимости от контекста, чтобы уменьшить количество команд, которые пользователь видит в любой момент времени. Однако следует также повторно использовать существующие общие меню и группы команд, чтобы гарантировать, что структура команд остается относительно стабильной между изменениями в контексте.

 Повторное использование общих команд и размещение новых команд вблизи связанных общих команд снижает сложность IDE и создает более удобный для пользователя опыт.

## <a name="naming-commands"></a>Именование команд

### <a name="naming-conventions"></a>Соглашения об именах
 Последовательное именование команд имеет решающее значение, чтобы пользователи могли находить и выполнять команды, либо используя командную линию, либо привязывая к ярлыку клавиатуры. Имена команд также помогают пользователю понять, какую цель служит команда, когда она отображается на панели инструментов или в каскадном или контекстном меню.

#### <a name="when-naming-commands"></a>При наименовании команд:

- Постройте текст таким образом, чтобы он легко локализовываться. Подробнее о локализации текста можно узнать из [рекомендаций по локализации.](/dotnet/standard/globalization-localization/best-practices-for-developing-world-ready-apps#localization-best-practices)

- Будьте краткими. Команды должны использовать не более трех слов.

- Используйте капитализацию заглавного регистра: первая буква каждого слова должна быть капитализирована. Для получения дополнительной информации о форматировании текста в Visual Studio, см [Текст стиль](../../extensibility/ux-guidelines/fonts-and-formatting-for-visual-studio.md#BKMK_TextStyle).

- Примите во внимание, где будет размещена команда. Это в меню верхнего уровня или вылет? Например, при группировке команд выравнивания в вылете команда верхнего уровня должна быть "выравнивание", а команды вылетов должны быть "Левый", "Правый", "Центр", "Оправдание" и так далее. Было бы излишним назвать команды вылет "Выровнять слева" или "Выровнять право".

     ![Меню формата Visual Studio](../../extensibility/ux-guidelines/media/0502-a_formatmenu.png "0502-a_FormatMenu")

### <a name="using-icons-with-commands"></a>Использование иконок с командами
 Будьте щадящие в использовании значка сопряжения с командами. Хотя связывание уникального изображения с командой ускоряет способность пользователя идентифицировать эту команду, визуальный беспорядок и неэффективность происходят при чрезмерном использовании изображения. Следующие правила помогают при принятии решения о создании значка команды.

#### <a name="use-an-icon-with-a-command-only-if"></a>Используйте значок с командой только в том случае, если:

- Та же команда имеет значок, связанный с ней в другом известном продукте Майкрософт, например в одном из приложений Microsoft Office.

- Команда будет помещена в панель инструментов по умолчанию.

- Команда — это специальная команда, которую пользователи могут добавить в панель инструментов с помощью диалога **«Настроить...».**

## <a name="access-and-shortcut-keys"></a>Ключи доступа и ярлыка

### <a name="overview"></a>Обзор
 Существует два вида ключевых заданий клавиатуры:

- **Ключи доступа** (также известные как ускорители) позволяют получить доступ к клавиатуре через меню для командования и к каждой этикетке в диалоговом uI. Ключи доступа в основном для целей доступности, присваиваются всем меню и большинству элементов управления диалоговых коробок, не предназначены для запоминания, затрагивают только текущее окно и локализуются.

- **Клавиши shortcut** в основном используют ключевые последовательности Control (Ctrl) и Функции (Fn). Они предназначены более для продвинутых пользователей и помощь в производительности. Они назначаются только наиболее часто используемым командам и обеспечивают быстрый доступ, минуя главное меню. Ключи сотового ключа предназначены для запоминания, и по этой причине должны быть назначены в соответствии со схемой профиля. Схемы ключевых срезов могут варьироваться от профиля к профилю. Пользователь может настроить клавиши ярлыка через **инструменты > варианты > клавиатуры.**

### <a name="assigning-access-keys"></a>Назначение ключей доступа
 Ключи доступа состоят из Alt плюс алфавитный ключ (ы). Назначай ключ доступа к каждому элементу меню без исключения. Следуйте Windows и общим конвенциям для назначения ключей доступа. например, ключ доступа к **файлу > New** всегда должен быть **Alt, F, N**.

 Не используйте буквы с однопиксельной шириной, такие как 'i' (в верхнем регистре или нижнем регистре) или нижнем регистре 'l', и избегайте использования символов с нисходящими (g, j, p, q и y), поскольку их трудно различить.

 Избегайте использования дубликатов ключей, когда это возможно. В тех случаях, когда дублирование неизбежно, система меню обрабатывает конфликты, пробирая на велосипеде по всем командам, которые используют ключ. В качестве примера для гипотетической команды "Номер" в меню файла, которая дублирует ключ доступа "N", **Alt, F, N** создаст новый файл, а **Alt, F, N, N** будет выполнять команду "Число".

### <a name="assigning-shortcut-keys"></a>Назначение ключей ярлыка
 Избегайте назначения новых ключей ярлыка, потому что они не требуются для каждой команды и налогообложения системы (и памяти пользователя) при чрезмерном использовании. Данные программы повышения качества обслуживания клиентов (CEIP) свидетельствуют о том, что пользователи Visual Studio используют лишь небольшую подмножество интегрированных ярлыков.

 При определении ярлыков следуйте следующим правилам:

- **Используйте ключевые последовательности Control (Ctrl) и Функции (Fn).**

- **Сохранить часто используемые ярлыки.** Поддерживайте самые популярные ярлыки.

- **Упростите для ввода ярлыки редактора.** Привяжать простые в типе ярлыки к командам, которые больше всего нужны разработчикам при написании кода. Например, **Edit.InvokeSmartTag** должен иметь быстрый ключ ярлыка, как Ctrl/, а не Alt-Shift-F10.

- **Стремитесь к последовательно тематические ярлыки.**

- **Следуйте рекомендациям Windows, чтобы определить, какие клавиши модификатора использовать.** Используйте ключевые комбинации Ctrl для команд, которые имеют крупномасштабные эффекты, такие как команды, которые применяются ко всему документу. Используйте комбинации ключей Shift для команд, которые расширяют или дополняют действия стандартного ключа ярлыка. Не используйте комбинации Ctrl-Alt.

- **Удалите посторонние ярлыки.** Если у вас есть устаревшая функция, рассмотрите возможность удаления ярлыков, которые используются с крайней нечастостью (менее 10 раз из данных CEIP) или умеренной нечастой (менее 100 раз из данных CEIP), если ключ доступа обеспечивает быстрый доступ к одной и той же команде. Например: Alt, H, C откроет Справка/Содержимое.

  Существует не простой способ проверить доступность ярлыка. Если вы хотите добавить ярлык, выполните следующие действия:

1. Проверьте список [ярлыков Visual Studio 2013,](http://visualstudioshortcuts.com/2013/) чтобы определить, есть ли подобные команды для группы ваших с.

2. Перейти к **> опци >й > клавиатурой > и** проверить свой ярлык. Проверьте каждую схему отображения клавиатуры, перечисленные в "Применить следующую дополнительную схему отображения клавиатуры". Проверьте общие профили, профили C, VB и C', так как они имеют уникальные ярлыки. Ваш ярлык доступен, если он не отображается в любом из этих мест.
