---
title: Функция Сккпопулателист | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- SccPopulateList
helpviewer_keywords:
- SccPopulateList function
ms.assetid: 7416e781-c571-4a7f-8af3-a089ce8be662
author: madskristensen
ms.author: madsk
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 0a2cfdf5a617352d7ba0c2db00e7705343f1eb5e
ms.sourcegitcommit: 5f6ad1cefbcd3d531ce587ad30e684684f4c4d44
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/22/2019
ms.locfileid: "72720875"
---
# <a name="sccpopulatelist-function"></a>Функция SccPopulateList
Эта функция обновляет список файлов для определенной команды системы управления версиями и предоставляет состояние системы управления версиями для всех заданных файлов.

## <a name="syntax"></a>Синтаксис

```cpp
SCCRTN SccPopulateList (
   LPVOID          pvContext,
   enum SCCCOMMAND nCommand,
   LONG            nFiles,
   LPCSTR*         lpFileNames,
   POPLISTFUNC     pfnPopulate,
   LPVOID          pvCallerData,
   LPLONG          lpStatus,
   LONG            fOptions
);
```

#### <a name="parameters"></a>Параметры
 пвконтекст

окне Структура контекста подключаемого модуля системы управления версиями.

 Nвыполненная команда

окне Команда системы управления версиями, которая будет применена ко всем файлам в массиве `lpFileNames` (список возможных команд см. в [коде команды](../extensibility/command-code-enumerator.md) ).

 Nфайлы оставленные

окне Число файлов в массиве `lpFileNames`.

 лпфиленамес

окне Массив имен файлов, известных интегрированной среде разработки.

 пфнпопулате

окне Функция обратного вызова IDE, вызываемая для добавления и удаления файлов (Дополнительные сведения см. в [поплистфунк](../extensibility/poplistfunc.md) ).

 пвкаллердата

окне Значение, которое должно быть передано в функцию обратного вызова без изменений.

 лпстатус

[вход, выход] Массив для подключаемого модуля системы управления версиями, который возвращает флаги состояния для каждого файла.

 фоптионс

окне Флаги команды (см. раздел "флаг Популателист" в [битфлагс, используемый конкретными командами](../extensibility/bitflags-used-by-specific-commands.md) для получения подробных сведений).

## <a name="return-value"></a>Возвращаемое значение
 Реализация подключаемого модуля системы управления версиями для этой функции должна возвращать одно из следующих значений:

|значения|Описание|
|-----------|-----------------|
|SCC_OK|Выполнено.|
|SCC_E_NONSPECIFICERROR|Неконкретный сбой.|

## <a name="remarks"></a>Заметки
 Эта функция проверяет список файлов на предмет ее текущего состояния. В нем используется функция обратного вызова `pfnPopulate` для уведомления вызывающего объекта о том, что файл не соответствует критериям для `nCommand`. Например, если команда `SCC_COMMAND_CHECKIN` и файл в списке не извлечен, то обратный вызов используется для информирования вызывающего объекта. Иногда подключаемый модуль системы управления версиями может найти другие файлы, которые могут быть частью команды, и добавить их. Это позволяет, например, Visual Basic пользователь извлекать BMP-файл, который используется его проектом, но не отображается в файле проекта Visual Basic. Пользователь выбирает команду **Get** в интегрированной среде разработки. В интегрированной среде разработки отобразится список всех файлов, которые могут получить пользователи, но перед отображением списка будет вызвана функция `SccPopulateList`, чтобы убедиться, что список отображается в актуальном состоянии.

## <a name="example"></a>Пример
 Интегрированная среда разработки создает список файлов, которые могут получить пользователи. Перед отображением этого списка он вызывает функцию `SccPopulateList`, предоставляя подключаемому модулю системы управления версиями возможность добавлять и удалять файлы из списка. Подключаемый модуль изменяет список, вызывая заданную функцию обратного вызова (Дополнительные сведения см. в [поплистфунк](../extensibility/poplistfunc.md) ).

 Подключаемый модуль по-своему вызывает функцию `pfnPopulate`, которая добавляет и удаляет файлы, пока не завершится и не вернет функцию `SccPopulateList`. Затем интегрированная среда разработки может отобразить свой список. Массив `lpStatus` представляет все файлы в исходном списке, переданном интегрированной средой разработки. Подключаемый модуль заполняет состояние всех этих файлов в дополнение к использованию функции обратного вызова.

> [!NOTE]
> Подключаемый модуль системы управления версиями всегда имеет параметр, позволяющий просто возвращаться непосредственно из этой функции, в то же самое, открывая список. Если подключаемый модуль реализует эту функцию, это может указываться путем установки `SCC_CAP_POPULATELIST` возможности комбинацией при первом вызове [скЦинитиализе](../extensibility/sccinitialize-function.md). По умолчанию подключаемый модуль всегда предполагает, что все передаваемые в них элементы являются файлами. Однако если в интегрированной среде разработки задается флаг `SCC_PL_DIR` в параметре `fOptions`, все передаваемые элементы должны считаться каталогами. Подключаемый модуль должен добавить все файлы, входящие в каталоги. Интегрированная среда разработки никогда не передает сочетание файлов и каталогов.

## <a name="see-also"></a>См. также
- [Функции API подключаемого модуля системы управления версиями](../extensibility/source-control-plug-in-api-functions.md)
- [SccInitialize](../extensibility/sccinitialize-function.md)
- [POPLISTFUNC](../extensibility/poplistfunc.md)
- [Битовые флаги, используемые конкретными командами](../extensibility/bitflags-used-by-specific-commands.md)
- [Код команды](../extensibility/command-code-enumerator.md)