---
title: Функция SccPopulateList (англ.) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- SccPopulateList
helpviewer_keywords:
- SccPopulateList function
ms.assetid: 7416e781-c571-4a7f-8af3-a089ce8be662
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: f518413adba1546bcff4f7cf2e62b4563cf1bcc7
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80700530"
---
# <a name="sccpopulatelist-function"></a>Функция SccPopulateList
Эта функция обновляет список файлов для определенной команды управления исходным источником и обеспечивает состояние управления исходным запасом во всех данных файлах.

## <a name="syntax"></a>Синтаксис

```cpp
SCCRTN SccPopulateList (
   LPVOID          pvContext,
   enum SCCCOMMAND nCommand,
   LONG            nFiles,
   LPCSTR*         lpFileNames,
   POPLISTFUNC     pfnPopulate,
   LPVOID          pvCallerData,
   LPLONG          lpStatus,
   LONG            fOptions
);
```

#### <a name="parameters"></a>Параметры
 pvКонтекст

(в) Структура контекста управления исходным элементом.

 nКоманда

(в) Команда управления исходным кодом, которая `lpFileNames` будет применяться ко всем файлам в массиве (см. [Командный код](../extensibility/command-code-enumerator.md) для списка возможных команд).

 nФайлы

(в) Количество файлов в `lpFileNames` массиве.

 lpFileNames

(в) Массив имен файлов, известных IDE.

 pfnPopulate

(в) Функция возврата вызова IDE для вызова для добавления и удаления файлов (подробнее см. [POPLISTFUNC).](../extensibility/poplistfunc.md)

 pvCallerData

(в) Значение, которое должно быть передано без изменений функции обратного вызова.

 lpStatus

(в, вне) Массив для плагина управления исходным источником для возврата флагов статуса для каждого файла.

 fВарианты

(в) Флаги командования (см. раздел "Флаг PopulateList" [Bitflags, используемый конкретными командами](../extensibility/bitflags-used-by-specific-commands.md) для получения подробной информации).

## <a name="return-value"></a>Возвращаемое значение
 Ожидается, что внедрение этой функции элемента управления исходным элементом вернет одно из следующих значений:

|Значение|Описание|
|-----------|-----------------|
|SCC_OK|Успешно.|
|SCC_E_NONSPECIFICERROR|Неспецифический сбой.|

## <a name="remarks"></a>Примечания
 Эта функция рассматривает список файлов для его текущего состояния. Он использует `pfnPopulate` функцию обратного вызова, чтобы уведомить вызываемого, когда файл не соответствует критериям `nCommand`для . Например, если команда `SCC_COMMAND_CHECKIN` и файл в списке не проверен, то обратный вызов используется для информирования вызываемого абонента. Иногда плагин управления исходным управлением может найти другие файлы, которые могут быть частью команды, и добавить их. Это позволяет, например, пользователю Visual Basic проверить файл .bmp, который используется его или ее проектом, но не отображается в файле проекта Visual Basic. Пользователь выбирает команду **Get** в IDE. IDE будет отображать список всех файлов, которые, по его мнению, `SccPopulateList` может получить пользователь, но прежде чем список будет показан, функция называется, чтобы убедиться, что список, который будет отображаться в актуальном состоянии.

## <a name="example"></a>Пример
 IDE создает список файлов, которые, по его мнению, может получить пользователь. Прежде чем он отображает этот `SccPopulateList` список, он вызывает функцию, давая плагин управления исходным элементом возможность добавлять и удалять файлы из списка. Плагин изменяет список, вызывая данную функцию обратного вызова (см. [POPLISTFUNC](../extensibility/poplistfunc.md) для более подробной информации).

 Плагин продолжает вызывать функцию, `pfnPopulate` которая добавляет и удаляет файлы, пока она `SccPopulateList` не будет закончена, а затем возвращается из функции. Затем IDE может отображать свой список. Массив `lpStatus` представляет все файлы в исходном списке, переданном IDE. Плагин заполняет состояние всех этих файлов в дополнение к использованию функции обратного вызова.

> [!NOTE]
> Плагин управления исходным элементом всегда имеет возможность просто немедленно вернуться из этой функции, оставив список таким, какой он есть. Если плагин реализует эту функцию, он может `SCC_CAP_POPULATELIST` указать это, установив битфлаг возможности в первом вызове на [SccInitialize.](../extensibility/sccinitialize-function.md) По умолчанию плагин должен всегда предполагать, что все элементы, передаваемые в файлах. Однако, если IDE `SCC_PL_DIR` устанавливает `fOptions` флаг в параметре, все элементы, передаваемые в должны быть рассмотрены каталоги. Плагин должен добавить все файлы, которые принадлежат в каталогах. IDE никогда не пройдет в смеси файлов и каталогов.

## <a name="see-also"></a>См. также
- [Функции API подключаемого модуля системы управления версиями](../extensibility/source-control-plug-in-api-functions.md)
- [SccInitialize](../extensibility/sccinitialize-function.md)
- [POPLISTFUNC](../extensibility/poplistfunc.md)
- [Битовые флаги, используемые конкретными командами](../extensibility/bitflags-used-by-specific-commands.md)
- [Код команды](../extensibility/command-code-enumerator.md)
