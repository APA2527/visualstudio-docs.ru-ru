---
title: Запуск программы Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- debug engines, launching
- programs, launching
ms.assetid: 6857e9c6-e44a-468a-afa4-f7c4a0b77844
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: bf638e0c96c7df1de2650260427a972a07efce23
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80738476"
---
# <a name="launch-a-program"></a>Запуск программы
Пользователи, желающие отладить программу, могут нажать **F5** для запуска отладчика из IDE. Это начинается ряд событий, которые в конечном итоге приводят к подключению IDE к движку отладки (DE), который, в свою очередь, подключен, или прилагается, к программе следующим образом:

1. IDE сначала вызывает пакет проекта, чтобы получить настройки активного отладки проекта решения. Настройки включают начальный каталог, переменные среды, порт, в котором будет работать программа, и DE для создания программы, если указано. Эти параметры передаются в пакет отладки.

2. Если DE указан, DE вызывает операционную систему для запуска программы. В результате запуска программы загружается среда выполнения программы. Например, если программа написана в MSIL, для запуска программы будет вызвано время выполнения общего языка.

    -или-

    Если DE не указан, порт вызывает операционную систему для запуска программы, что приводит к загрузке среды времени выполнения программы.

   > [!NOTE]
   > Если DE используется для запуска программы, вполне вероятно, что тот же DE будет прикреплен к программе.

3. В зависимости от того, запускает ли DE или порт программу, DE или среду времени выполнения затем создает описание программы или узла, и уведомляет порт, что программа работает.

   > [!NOTE]
   > Среде времени выполнения рекомендуется создать узлы программы, поскольку узла программы представляет собой легкое представление программы, которую можно отладить. Нет необходимости загружать весь DE только для создания и регистрации узла программы. Если DE предназначен для выполнения в процессе IDE, но на самом деле IDE не работает, должен быть компонент, который может добавить узло программы в порт.

   Вновь созданная программа, наряду с любыми другими программами, связанными или не связанными друг с другом, запущенными или прикрепленными к тому же IDE, составляют сеанс дебуга.

   Программно, когда пользователь впервые нажимает **F5**, [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)]'s отладка пакет называет пакет проекта (который связан с типом программы запускаются) через <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebuggableProjectCfg.DebugLaunch%2A> метод, который, в свою очередь, заполняет структуру <xref:Microsoft.VisualStudio.Shell.Interop.VsDebugTargetInfo2> с активными настройками проекта решения. Эта структура передается обратно в пакет отладки через вызов к методу. <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebugger2.LaunchDebugTargets2%2A> Пакет отладки затем мгновенно вызывает менеджер отладки сеанса (SDM), который запускает отладку программы и любые связанные с этим отладки двигатели.

   Одним из аргументов, переданных ВДМ, является GUID DE, который будет использоваться для запуска программы.

   Если DE GUID `GUID_NULL`не является, SDM совместно создает DE, а затем называет его [метод LaunchSuspended](../../extensibility/debugger/reference/idebugenginelaunch2-launchsuspended.md) для запуска программы. Например, если программа написана в `IDebugEngineLaunch2::LaunchSuspended` родном `CreateProcess` коде, вероятно, вызов и `ResumeThread` (функции Win32) для запуска программы.

   В результате запуска программы загружается среда выполнения программы. Либо DE или среда времени выполнения затем создает интерфейс [IDebugProgramNode2](../../extensibility/debugger/reference/idebugprogramnode2.md) для описания программы и передает этот интерфейс [AddProgramNode,](../../extensibility/debugger/reference/idebugportnotify2-addprogramnode.md) чтобы уведомить порт о том, что программа работает.

   Если `GUID_NULL` пройден, то порт запускает программу. После запуска программы среда времени выполнения создает `IDebugProgramNode2` интерфейс для описания программы `IDebugPortNotify2::AddProgramNode`и передает его в . Это уведомляет порт о том, что программа запущена. Затем SDM прикрепляет отладоковую движок к запущенной программе.

## <a name="in-this-section"></a>В этом разделе
 [Уведомление порта](../../extensibility/debugger/notifying-the-port.md) Объясняет, что происходит после запуска программы и уведомления порта.

 [Прикрепление после запуска](../../extensibility/debugger/attaching-after-a-launch.md) Документы, когда сеанс отладки готов прикрепить DE к программе.

## <a name="related-sections"></a>См. также
 [Задачи отладки](../../extensibility/debugger/debugging-tasks.md) Содержит ссылки на различные задачи отладки, такие как запуск программы и оценка выражений.
