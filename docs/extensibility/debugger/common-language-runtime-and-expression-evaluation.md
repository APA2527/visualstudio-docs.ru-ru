---
title: Общеязыковая среда выполнения и механизм вычисления выражений | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- debugging [Debugging SDK], expression evaluation
- expression evaluation, and common language runtime
ms.assetid: b36c1eb5-1aaf-48a6-b287-ee7a273d2b1c
author: gregvanl
ms.author: gregvanl
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: e6fdbdcdf292d90fc63758c2b7d183225e63a850
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63411320"
---
# <a name="common-language-runtime-and-expression-evaluation"></a>Распространенные языковой среды выполнения и оценки выражений
> [!IMPORTANT]
> В Visual Studio 2015 таким образом, реализации вычислители выражений является устаревшим. Сведения о реализации вычислители выражений CLR, см. в разделе [вычислители выражений CLR](https://github.com/Microsoft/ConcordExtensibilitySamples/wiki/CLR-Expression-Evaluators) и [образец средства оценки выражений управляемый](https://github.com/Microsoft/ConcordExtensibilitySamples/wiki/Managed-Expression-Evaluator-Sample).

 Компиляторы, такие как Visual Basic и C# (произносится как "Си-шарп"), которые предназначены для Common Language Runtime (CLR), создают промежуточного языка MSIL (Microsoft), который затем скомпилировать в машинный код. Среда CLR предоставляет механизм отладки (DE), выполнить отладку полученного кода. Если вы планируете интегрировать собственный язык программирования в СРЕДЕ Visual Studio, вы можно скомпилировать в код MSIL и поэтому не нужно будет написать собственные DE. Тем не менее необходимо написать вычислитель выражений (EE), который способен вычисление выражений в контексте языка программирования.

## <a name="discussion"></a>Обсуждение
 Для получения набора объектов данных и набор операторов, используемых для управления их обычно синтаксический анализ выражения языка компьютера. Например выражение «A + B» может выполнить синтаксический анализ для применения оператора сложения (+) к данным объектов «» и «B», что может привести к другой объект данных. Общий набор объектов данных, операторов и их связи чаще всего представляются в программе по дереву, с помощью операторов в узлах дерева и объекты данных в ветвях. Выражение, которое разбиваются на форме дерева часто называется Проанализированное дерево.

 После синтаксического анализа выражения поставщика символов (SP) вызывается для оценки каждого объекта данных. Например, если «» определяется как в более одного метода, вопрос «Какой объект?» необходимо ответить на прежде, чем возможно установить значение A. Ответ, возвращенный хранимой Процедуры — это нечто вроде «Третий элемент в пятый кадре стека» или «A, который составляет 50 байт за началом статической памяти выделено данному методу.»

 Помимо создания MSIL для самой программы, CLR компиляторы также позволяет создавать максимально содержательным отладочную информацию, которая записывается в базу данных программы (*.pdb*) файла. До тех пор, пока защищенные авторским правом языка компилятор создает отладочную информацию в тот же формат, что CLR компиляторы, SP среды CLR может определить, что языка именованных объектов данных. После определения объекта с именем data EE используется объект связывателя связать (или привязка) объект данных в область памяти, который содержит значение этого объекта. DE можно затем получить или задать новое значение для объекта данных.

 Собственный компилятор может предоставить среды CLR отладочную информацию, вызвав `ISymbolWriter` интерфейс (который определен в .NET Framework в пространстве имен `System.Diagnostics.SymbolStore`). Компиляция в MSIL и записи информации отладки через эти интерфейсы, можно использовать собственный компилятор CLR DE и верификации поставщиком услуг. Это значительно упрощает интеграцию языка в интегрированной среде разработки Visual Studio.

 Когда CLR DE вызывает собственный EE для вычисления выражения, DE предоставляет EE с интерфейсами SP и объект связывателя. Таким образом написание средства отладки, основанных на среде CLR ядра бывает только необходимо реализовать интерфейсы вычислителя соответствующее выражение; Среда CLR берет на себя привязки и символов, обработка для вас.

## <a name="see-also"></a>См. также
- [Запись вычислителя выражений CLR](../../extensibility/debugger/writing-a-common-language-runtime-expression-evaluator.md)