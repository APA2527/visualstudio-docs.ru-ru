---
title: Общий язык Runtime и экспрессии Оценка (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- debugging [Debugging SDK], expression evaluation
- expression evaluation, and common language runtime
ms.assetid: b36c1eb5-1aaf-48a6-b287-ee7a273d2b1c
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 013579473189dd9310501b76d2de0d5cf6fa5822
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80739111"
---
# <a name="common-language-runtime-and-expression-evaluation"></a>Общий язык времени выполнения и оценки выражения
> [!IMPORTANT]
> В Visual Studio 2015 этот способ внедрения оценщиков экспресс-выражений унижается. Для получения информации о реализации оценщиков экспрессии CLR, пожалуйста, ознакомьтесь с [оценщиками экспресс-оценщиков CLR](https://github.com/Microsoft/ConcordExtensibilitySamples/wiki/CLR-Expression-Evaluators) и [выборкой управляемого оценщика](https://github.com/Microsoft/ConcordExtensibilitySamples/wiki/Managed-Expression-Evaluator-Sample)экспрессий.

 Компиляторы, такие как Visual Basic и C-sharp (произносится c-sharp), которые нацелены на общее время выполнения языка (CLR), производят промежуточный язык Майкрософт (MSIL), который позже компилируется в родной код. CLR предоставляет отладку двигателя (DE) для отладки полученного кода. Если вы планируете интегрировать свой собственный язык программирования в Visual Studio IDE, вы можете выбрать компилировать в MSIL и, следовательно, не придется писать свой собственный DE. Тем не менее, вам придется написать оценщик выражения (EE), который способен оценивать выражения в контексте вашего языка программирования.

## <a name="discussion"></a>Обсуждение
 Выражения компьютерного языка обычно разбираются для создания набора объектов данных и набора операторов, используемых для их управления. Например, выражение "АЗБ" может быть разобрано для применения оператора добавления (к) к объектам данных "A" и "B", что, возможно, приведет к появлению другого объекта данных. Общий набор объектов данных, операторов и их ассоциаций чаще всего представлен в программе как дерево, с операторами в узлах дерева и объектами данных в ветвях. Выражение, разбитое на форму дерева, часто называют разогнанные деревья.

 После разбора выражения для оценки каждого объекта данных вызывается поставщик символов (SP). Например, если "А" определяется как в нескольких методах, то вопрос "Какой А?" необходимо ответить до того, как можно будет определить значение А. Ответ, возвращенный SP, выглядит как «третий элемент на пятом кадре стека» или «A, который находится на 50 байтов после начала статической памяти, выделенной для этого метода».

 Помимо производства MSIL для самой программы, компиляторы CLR также могут производить очень описательную информацию об отладке, которая записана в файл Program DataBase (*.pdb).* До тех пор, пока компилятор за гранетвия в том же формате, что и компиляторы CLR, SP CLR может идентифицировать названные объекты данных этого языка. После идентификации названного объекта данных EE использует объект связующего, чтобы связать (или связать) объект данных с областью памяти, которая содержит значение этого объекта. ЗАТЕМ DE может получить или установить новое значение для объекта данных.

 Запатентованный компилятор может предоставить `ISymbolWriter` информацию об отладке CLR, `System.Diagnostics.SymbolStore`позвонив в интерфейс (который определен в рамочном интерфейсе .NET в пространстве имен). Компиляция на MSIL и написание информации об отладке через эти интерфейсы, запатентовавком компилятор может использовать CLR DE и SP. Это значительно упрощает интеграцию несвободного языка в Visual Studio IDE.

 Когда CLR DE вызывает запатентованную EE для оценки выражения, DE поставляет EE с интерфейсами для СП и объекта связующего. Таким образом, написание движка отладки на основе CLR означает, что необходимо только реализовать соответствующие интерфейсы оценки выражения; CLR заботится о привязке и обработке символов для вас.

## <a name="see-also"></a>См. также
- [Написать оценщика экспрессии CLR](../../extensibility/debugger/writing-a-common-language-runtime-expression-evaluator.md)
