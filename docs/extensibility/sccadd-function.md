---
title: Функция SccAdd (англ.) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- SccAdd
helpviewer_keywords:
- SccAdd function
ms.assetid: 545268f3-8e83-446a-a398-1a9db9e866e8
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 23a6226b0d3cc2441a509c16b2e4672a766f3329
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80701313"
---
# <a name="sccadd-function"></a>Функция SccAdd
Эта функция добавляет новые файлы в систему управления исходным источником.

## <a name="syntax"></a>Синтаксис

```cpp
SCCRTN SccAdd(
   LPVOID    pvContext,
   HWND      hWnd,
   LONG      nFiles,
   LPCSTR*   lpFileNames,
   LPCSTR    lpComment,
   LONG*     pfOptions,
   LPCMDOPTS pvOptions
);
```

### <a name="parameters"></a>Параметры
 pvКонтекст

(в) Структура контекста управления исходным элементом.

 Hwnd

(в) Ручка к окну IDE, которую плагин управления исходным элементом может использоваться в качестве родительского элемента для любых диалоговых коробок, которые она предоставляет.

 nФайлы

(в) Количество файлов, выбранных для добавления в `lpFileNames` текущий проект, в том виде, в каком они приведены в массиве.

 lpFileNames

(в) Массив полностью квалифицированных локальных имен файлов, которые будут добавлены.

 lpКомментарий

(в) Комментарий, который будет применяться ко всем файлам, которые добавляются.

 pfOptions

(в) Массив командных флагов, предоставляемый на основе файла.

 pvOptions

(в) Опции управления исходным управлением.

## <a name="return-value"></a>Возвращаемое значение
 Ожидается, что внедрение этой функции элемента управления исходным элементом вернет одно из следующих значений:

|Значение|Описание|
|-----------|-----------------|
|SCC_OK|Операция добавления прошла успешно.|
|SCC_E_FILEALREADYEXISTS|Выбранный файл уже находится под контролем источника.|
|SCC_E_TYPENOTSUPPORTED|Тип файла (например, двоичный) не поддерживается системой управления исходным ресурсом.|
|SCC_E_OPNOTSUPPORTED|Система управления исходным источником не поддерживает эту операцию.|
|SCC_E_ACCESSFAILURE|Возникла проблема с доступом к системе управления исходным кодом, вероятно, из-за проблем с сетью или раздором. Рекомендуется повторная попытка.|
|SCC_E_NOTAUTHORIZED|Пользователю не разрешается выполнять эту операцию.|
|SCC_E_NONSPECIFICERROR|Неспецифический сбой; добавить не выполняется.|
|SCC_I_OPERATIONCANCELED|Операция была отменена до завершения.|
|SCC_I_RELOADFILE|Файл или проект необходимо перезагрузить.|
|SCC_E_FILENOTEXIST|Локальный файл не найден.|

## <a name="remarks"></a>Примечания
 Обычные `fOptions` заменяются здесь массив, `pfOptions`с `LONG` одной спецификации опции на файл. Это связано с тем, что тип файла может варьироваться от файла к файлу.

> [!NOTE]
> Недействительно указывать оба `SCC_FILETYPE_TEXT` `SCC_FILETYPE_BINARY` варианта и параметры одного и того же файла, но указывать ни один из них не является допустимой. Установка ни то же `SCC_FILETYPE_AUTO`самое, что настройка, и в этом случае подключаемый плагин управления исходным элементом автоматически определяет тип файла.

 Ниже приведен список флагов, используемых в массиве: `pfOptions`

|Параметр|Значение|Значение|
|------------|-----------|-------------|
|SCC_FILETYPE_AUTO|0x00|Плагин управления исходным элементом должен обнаружить тип файла.|
|SCC_FILETYPE_TEXT|0x01|Указывает на текстовый файл ASCII.|
|SCC_FILETYPE_BINARY|0x02|Указывает тип файла, кроме текста ASCII.|
|SCC_ADD_STORELATEST|0x04|Хранит только последнюю копию файла, никаких дельт.|
|SCC_FILETYPE_TEXT_ANSI|0x08|Рассматривает файл как текст ANSI.|
|SCC_FILETYPE_UTF8|0x10|Рассматривает файл как текст Unicode в формате UTF8.|
|SCC_FILETYPE_UTF16LE|0x20|Рассматривает файл как текст Unicode в формате UTF16 Little Endian.|
|SCC_FILETYPE_UTF16BE|0x40|Рассматривает файл как текст Unicode в формате UTF16 Big Endian.|

## <a name="see-also"></a>См. также
- [Функции API управления исходным элементом](../extensibility/source-control-plug-in-api-functions.md)
