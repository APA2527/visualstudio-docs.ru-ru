---
title: Развертывание пользовательских страниц запуска (ru) Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- package start page
- deploy start page
ms.assetid: 4a7eb360-de83-41d5-be53-3cfb160d19f9
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
monikerRange: vs-2017
ms.openlocfilehash: 210b4589c0e2165af537c3fa9129affb06197e9b
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80712231"
---
# <a name="deploy-custom-start-pages"></a>Развертывание пользовательских страниц запуска

Можно развернуть пользовательские start Pages с помощью развертывания VSIX или копирования файлов в правильные места на целевом компьютере.

## <a name="vsix-deployment-by-using-the-start-page-project-template"></a>Развертывание VSIX с помощью шаблона проекта «Стартовая страница»

При создании стартовой страницы с помощью шаблона проекта Start Page, а затем построения проекта, Visual Studio создает файл *.vsix,* который можно распространять. Упаковка стартовой страницы в *файле .vsix* дает следующие варианты развертывания, в зависимости от предполагаемой аудитории:

- Файл *.vsix* можно разместить в сети или на общедоступном веб-узле. Когда кто-то открывает файл, стартовая страница автоматически устанавливается.

- Вы можете загрузить файл *.vsix* на веб-сайт [Visual Studio Marketplace,](https://marketplace.visualstudio.com/) чтобы пользователи могли установить его с помощью **менеджера расширения.**

Шаблон проекта Start Page создает копию стартовой страницы Визуальной студии по умолчанию, чтобы можно было изменить копию и сохранить оригинал.

Шаблон проекта Start Page можно получить с помощью **менеджера расширения** или загрузки с веб-узла.

## <a name="vsix-deployment-without-using-the-start-page-project-template"></a>Развертывание VSIX без использования шаблона проекта «Стартовая страница»
 Успешное развертывание VSIX требует установки расширения в папках, которые признаются процессом регистрации VSIX и **менеджером по расширению.** Поскольку шаблон проекта Start Page уже определяет правильные папки, мы рекомендуем использовать их всякий раз, когда вы хотите упаковать расширение для развертывания VSIX. Однако, если у вас есть случай, в котором вы не можете использовать шаблон, вы можете создать развертывание VSIX без его использования.

 Чтобы создать развертывание VSIX без использования шаблона проекта Start Page, сначала создайте файл *.vsix* для стартовой страницы в любом из этих двух способов:

- Добавляя пользовательские файлы «Пусковая страница» в пустой проект VSIX. Для получения дополнительной [VSIX project template](../extensibility/vsix-project-template.md)информации см.

- Вручая вручную, создавая файл *.vsix.* Для создания файла *.vsix* вручную:

   1. Создайте файл *extension.vsixmanifest* и файл *«Content_Types.xml* в новой папке. Для получения дополнительной информации [см.](../extensibility/anatomy-of-a-vsix-package.md)

   2. В Windows Explorer, правой кнопкой папку, которая содержит два XML файлов, нажмите **Отправить**в , а затем нажмите Сжатый (zipped) Folder. Переименуйте полученный файл *.zip* на *Filename.vsix*, где Filename — это название файла, который устанавливает ваш пакет.

Для того, чтобы Visual Studio `Content Element` распознала Стартовую `CustomExtension Element` страницу, `Type` Манифест `"StartPage"`VSIX должен содержать набор атрибутов. Расширение Start Page, установленное с помощью развертывания VSIX, отображается в списке **настройки start Page** на странице опций **запуска** в качестве *названия расширения* **.**

Если пакет Start Page включает сборки, необходимо добавить регистрацию обязательных путей, чтобы они были доступны при запуске Visual Studio. Для этого убедитесь, что ваш пакет содержит файл *.pkgdef,* который содержит следующую информацию.

```
[$RootKey$\BindingPaths\{Insert a new GUID here}]
"$PackageFolder$"=""
```

### <a name="vsix-deployment-for-all-users"></a>Развертывание VSIX для всех пользователей
 По умолчанию расширения, развернутые в пакетах VSIX, устанавливаются только для текущего пользователя. Вы можете установить Start Page для всех пользователей целевой машины, создав развертывание для всех пользователей.

### <a name="to-create-an-all-users-deployment"></a>Создание развертывания для всех пользователей

1. Откройте файл *extension.vsixmanifest* в представлении кода.

2. В `Identifier` элементе манифеста vsix `AllUsers` добавьте элемент, `true`который имеет значение .

    ```
    <AllUsers>true</AllUsers>
    ```

     Это приводит к тому, что установщик vsix подскажет разрешения администратора, а затем установит файлы на *«Common7»IDE-Расширения.*

3. Откройте файл *.pkgdef.*

4. Измените *.pkgdef,* чтобы установить стартовую страницу по умолчанию под HKLM, добавив следующее, где *MyStartPage.xaml* — это название *файла .xaml,* содержащего вашу стартовую страницу.

     ($RootKey $.StartPage-Default)

     "Ури" $PackageFolder$\\*MyStartPage.xaml*"

     Это говорит Visual Studio, чтобы посмотреть в новом месте Start Page.

## <a name="file-copy-deployment"></a>Развертывание копии файлов
 Для развертывания пользовательской страницы Start Page не нужно создавать файл *.vsix.* Вместо этого можно скопировать разметку и поддерживающие файлы непосредственно в <em>папку пользователя\* «StartPages». *Настраиваемый</em> * список Start Page на странице параметры **запуска** перечисляет каждый файл *.xaml* в этой папке, вместе с пути, например, *%USERPROFILE% »Мои документы »Визуальная студия »Версия» »StartPages\\«Имя файла»..xaml*. Если ваша стартовая страница содержит ссылки на частные сборки, необходимо скопировать их\* и вставить их в папку «PrivateAssemblies».

 Для распространения созданной «Старт-страницы» без упаковки в файл *.vsix* рекомендуется использовать базовую стратегию копирования файлов, например пакетный скрипт, или любую другую технологию развертывания, которая позволяет поместить файлы в нужные каталоги.

### <a name="to-manually-install-a-custom-start-page"></a>Для ручной установки пользовательской страницы start

1. Копируйте файл *.xaml,* содержащий разметку «Стартовая страница», а также любые вспомогательные файлы, кроме\* сборок, и вставьте их в папку пользователя «StartPages».

2. Если стартовая страница требует сборки, скопируйте их и вставьте в *.. Папка установки Visual Studio (Общие7-IDE)PrivateAssemblies\\. \\*

3. В списке **настраиваемых стартовых страниц** на странице **параметры запуска** выберите новую страницу start Page. Для получения дополнительной [Customize the Start Page](../ide/customizing-the-start-page-for-visual-studio.md)информации см.

## <a name="see-also"></a>См. также

- [Настройка стартовой страницы](../ide/customizing-the-start-page-for-visual-studio.md)
- [Добавление элемента управления пользователем в страницу «Старт»](../extensibility/adding-user-control-to-the-start-page.md)
