---
title: Схема расширения VSIX 2.0 Ссылка Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- vsix
- extension schema
ms.assetid: 0da81b98-f5e3-40d3-ba9a-94551378d0b4
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 78e260c62d67afc10fea25d52169c48b64c82f72
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80697912"
---
# <a name="vsix-extension-schema-20-reference"></a>Ссылка на схему расширения VSIX 2.0
В файле развертывания VSIX описывается содержимое пакета VSIX. Формат файла регулируется схемой. Версия 2.0 этой схемы поддерживает добавление пользовательских типов и атрибутов.  Схема манифеста выдающаяся. Загрузчик манифеста игнорирует элементы XML и атрибуты, которые он не понимает.

> [!IMPORTANT]
> Visual Studio 2015 может загружать файлы VSIX в форматах Visual Studio 2010, Visual Studio 2012 или Visual Studio 2013.

## <a name="package-manifest-schema"></a>Схема манифеста пакета
 Корневой элемент манифеста XML `<PackageManifest>`файла . Он имеет один `Version`атрибут, который является версией формата манифеста. Если в формат вносятся существенные изменения, формат версии изменяется. В этой статье описывается манифест формата версии 2.0, которая указана в манифесте, установив `Version` атрибут к значению версии «2.0».

### <a name="packagemanifest-element"></a>Элемент PackageManifest
 В `<PackageManifest>` корневом элементе можно использовать следующие элементы:

- `<Metadata>`- Метаданные и рекламная информация о самом пакете. В `Metadata` манифесте допускается только один элемент.

- `<Installation>`- Этот раздел определяет способ установки этого пакета расширения, включая приложения SKUs, в которые он может установить. В манифесте допускается только один `Installation` элемент. Манифест должен иметь `Installation` элемент, или этот пакет не будет устанавливаться в любой SKU.

- `<Dependencies>`- Дополнительный список зависимостей для этого пакета определен здесь.

- `<Assets>`- Этот раздел содержит все активы, содержащиеся в этом пакете. Без этого раздела этот пакет не будет всплывать на поверхность какого-либо содержимого.

- `<AnyElement>*`- Схема манифеста достаточно гибкая, чтобы позволить любые другие элементы. Любые элементы ребенка, не распознаемые погрузчиком манифеста, разоблачаются в API-менеджере расширения в качестве дополнительных объектов XmlElement. Используя эти элементы ребенка, расширения VSIX могут определить дополнительные данные в явном файле, который код, работающий в Visual Studio, может получить доступ во время выполнения. Смотрите [Microsoft.VisualStudio.ExtensionManager.IExtension.AdditionalElements](/previous-versions/visualstudio/visual-studio-2013/hh265266(v=vs.120)).

### <a name="metadata-element"></a>Элемент метаданных
 Этот раздел представляет собой метаданные о пакете, его личности и рекламной информации. `<Metadata>`содержит следующие элементы:

- `<Identity>`- Определяет идентификационную информацию для этого пакета и включает в себя следующие атрибуты:

  - `Id`- Этот атрибут должен быть уникальным идентификатором для пакета, выбранного его автором. Имя должно быть квалифицировано так же, как типы CLR являются namespaced: Company.Product.Feature.Name. Атрибут `Id` ограничен 100 символами.

  - `Version`- Определяет версию этого пакета и его содержимое. Этот атрибут следует формату сборки версий CLR: Major.Minor.Build.Revision (1.2.40308.00). Пакет с более высоким номером версии считается обновлениями пакета и может быть установлен поперек существующей установленной версии.

  - `Language`- Этот атрибут является языком по умолчанию для пакета и соответствует текстовым данным в этом манифесте. Этот атрибут следует конвенции CLR locale для сборок ресурсов, например: en-us, en, fr-fr. Можно указать, `neutral` чтобы объявить нейтральное по языку расширение, которое будет работать на любой версии Visual Studio. Значение по умолчанию — `neutral`.

  - `Publisher`- Этот атрибут идентифицирует издателя этого пакета, либо компании или индивидуальное имя. Атрибут `Publisher` ограничен 100 символами.

- `<DisplayName>`- Этот элемент определяет удобное для пользователя имя пакета, отображаемое в пользовательском интерфейсе extension Manager. Содержание `DisplayName` ограничено 50 символами.

- `<Description>`- Этот дополнительный элемент представляет собой краткое описание пакета и его содержимого, которое отображается в ui Extension Manager. Содержимое `Description` может содержать любой текст, который вы хотите, но он ограничен 1000 символов.

- `<MoreInfo>`- Этот дополнительный элемент является URL на странице в Интернете, который содержит полное описание этого пакета. Протокол должен быть указан как http.

- `<License>`- Этот дополнительный элемент является относительным путем к файлу лицензии (.txt, .rtf), содержащемуся в пакете.

- `<ReleaseNotes>`- Этот дополнительный элемент является либо относительным путем к файлу примечаний к выпуску, содержащемуся в пакете (.txt, .rtf), либо URL-адресом веб-сайта, который отображает примечания к выпуску.

- `<Icon>`- Этот дополнительный элемент является относительным путем к файлу изображения (png, bmp, jpeg, ico), содержащемуся в пакете. Изображение значка должно быть 32x32 пикселей (или будет сократилось до этого размера) и отображается в uI listview. Если `Icon` элемент не указан, uI использует значение по умолчанию.

- `<PreviewImage>`- Этот дополнительный элемент является относительным путем к файлу изображения (png, bmp, jpeg), содержащемуся в пакете. Изображение предварительного просмотра должно быть 200x200 пикселей и отображаться в деталях uI. Если `PreviewImage` элемент не указан, uI использует значение по умолчанию.

- `<Tags>`- Этот дополнительный элемент перечисляет дополнительные полуколонны-ограниченные текстовые теги, которые используются для поиска подсказок. Элемент `Tags` ограничен 100 символами.

- `<GettingStartedGuide>`- Этот дополнительный элемент является либо относительным путем к HTML-файлу, либо URL-адресом веб-сайта, содержащего информацию о том, как использовать расширение или содержимое в этом пакете. Это руководство запущено в рамках установки.

- `<AnyElement>*`- Схема манифеста достаточно гибкая, чтобы позволить любые другие элементы. Любые элементы ребенка, которые не распознаются погрузчиком явного заряда, выставляются в список объектов XmlElement. Используя эти элементы ребенка, расширения VSIX могут определить дополнительные данные в файле манифеста и перечислить их во время выполнения.

### <a name="installation-element"></a>Элемент установки
 Этот раздел определяет способ установки этого пакета и приложения SKUs, в которые он может установить. Этот раздел содержит следующие атрибуты:

- `Experimental`- Установите этот атрибут, чтобы быть правдой, если у вас есть расширение, которое в настоящее время установлено для всех пользователей, но вы разрабатываете обновленную версию на том же компьютере. Например, если вы установили MyExtension 1.0 для всех пользователей, но вы хотите отладить MyExtension 2.0 на том же компьютере, установите Experimental»true. Этот атрибут доступен в Visual Studio 2015 Обновление 1 и позже.

- `Scope`- Этот атрибут может принять значение "Глобальный" или "ProductExtension":

  - "Глобальный" указывает, что установка не предназначена для конкретного SKU. Например, это значение используется при установке SDK расширения.

  - "ProductExtension" указывает, что традиционное расширение VSIX (версия 1.0), приковано к отдельным СККу Visual Studio, установлено. Это значение по умолчанию.

- `AllUsers`- Этот дополнительный атрибут определяет, будет ли этот пакет установлен для всех пользователей. По умолчанию этот атрибут является ложным, что указывает на то, что пакет находится на пользователя. (При установке этого значения, пользователь установки должен подняться до уровня административных привилегий для установки полученного VSIX.

- `InstalledByMsi`- Этот дополнительный атрибут определяет, устанавливается ли этот пакет MSI. Пакеты, установленные MSI, устанавливаются и управляются MSI (Программы и особенности), а не менеджером расширения Visual Studio.  По умолчанию этот атрибут является ложным, что указывает на то, что пакет не установлен MSI.

- `SystemComponent`- Этот дополнительный атрибут определяет, следует ли считать этот пакет системным компонентом. Компоненты системы не отображаются в uI-икового управления менеджером расширения и не могут быть обновлены. По умолчанию этот атрибут является ложным, что указывает на то, что пакет не является системным компонентом.

- `AnyAttribute*``Installation` Элемент принимает открытый набор атрибутов, которые будут выставлены во время выполнения в качестве словаря пары с именем.

- `<InstallationTarget>`-Этот элемент контролирует место, где установит пакет установщик VSIX. Если значение `Scope` атрибута "ProductExtension" пакет должен быть нацелен на SKU, который установил файл манифеста как часть его содержимого для рекламы его доступности для расширений. Элемент `<InstallationTarget>` имеет следующие атрибуты, когда `Scope` атрибут имеет явное значение или значение по умолчанию "ProductExtension":

  - `Id`- Этот атрибут определяет пакет.  Атрибут следует конвенции пространства имен: Company.Product.Feature.Name. Атрибут `Id` может содержать только буквенно-цифровые символы и ограничен 100 символами. Ожидаемые значения:

    - Microsoft.VisualStudio.IntegratedShell

    - Microsoft.VisualStudio.Pro

    - Microsoft.VisualStudio.Premium

    - Microsoft.VisualStudio.Ultimate

    - Microsoft.VisualStudio.VWDExpress

    - Microsoft.VisualStudio.VPDExpress

    - Microsoft.VisualStudio.VSWinExpress

    - Microsoft.VisualStudio.VSLS

    - My.Shell.App

  - `Version`- Этот атрибут определяет диапазон версий с минимальными и максимально поддерживаемыми версиями этого SKU. Пакет может детализировать версии S-Кус, которые он поддерживает. Нотация диапазона версий: «10.0 - 11.0», где

    - - минимальная версия включительно.

    - - максимальная версия включительно.

    - (- минимальная версия эксклюзивная.

    - ) - максимальная версия эксклюзивная.

    - Одноразовая версия No - только указанная версия.

    > [!IMPORTANT]
    > Версия 2.0 VSIX Schema была представлена в Visual Studio 2012. Для использования этой схемы необходимо иметь Visual Studio 2012 или позже установлен на машине и использовать VSIXInstaller.exe, который является частью этого продукта. Вы можете настроить таргетинг на более ранние версии Visual Studio с помощью Visual Studio 2012 или более позднего VSIXInstaller, но только с помощью более поздних версий установщика.

    Номера версий Visual Studio 2017 можно найти в [номерах сборки Visual Studio и датах релиза.](../install/visual-studio-build-numbers-and-release-dates.md)

    При выражении версии для Visual Studio 2017 релизы, второстепенная версия всегда должна быть **0**. Например, версия Visual Studio 2017 15.3.26730.0 должна быть выражена как 15.0.26730.0,16.0). Это требуется только для Visual Studio 2017 и более поздних номеров версий.

  - `AnyAttribute*``<InstallationTarget>` Элемент позволяет открытый набор атрибутов, который подвергается во время выполнения в качестве словаря пары имени.стоимости.

### <a name="dependencies-element"></a>Элемент зависимостей
 Этот элемент содержит список зависимостей, которые декларируется этим пакетом. Если какие-либо зависимости указаны, эти `Id`пакеты (определенные по их) должны быть установлены раньше.

- `<Dependency>`элемент - Этот элемент ребенка имеет следующие атрибуты:

  - `Id`- Этот атрибут должен быть уникальным идентификатором для зависимого пакета. Это значение идентификации `<Metadata><Identity>Id` должно соответствовать атрибуту пакета, от которого зависит этот пакет. Атрибут `Id` следует конвенции пространства имен: Company.Product.Feature.Name. Атрибут может содержать только буквенно-цифровые символы и ограничен 100 символами.

  - `Version`- Этот атрибут определяет диапазон версий с минимальными и максимально поддерживаемыми версиями этого SKU. Пакет может детализировать версии S-Кус, которые он поддерживает. Нотация диапазона версий: «12.0, 13.0», где:

    - - минимальная версия включительно.

    - - максимальная версия включительно.

    - (- минимальная версия эксклюзивная.

    - ) - максимальная версия эксклюзивная.

    - Одноразовая версия No - только указанная версия.

  - `DisplayName`- Этот атрибут — это имя отображения зависимого пакета, которое используется в элементах uI, таких как диалоговые поля и сообщения об ошибках. Атрибут не является обязательным, если зависимый пакет не установлен MSI.

  - `Location`- Этот дополнительный атрибут определяет либо относительный путь в этом VSIX к вложенным пакету VSIX, либо URL-адрес к местоположению загрузки для зависимости. Этот атрибут используется, чтобы помочь пользователю найти пакет предпосылки.

  - `AnyAttribute*``Dependency` Элемент принимает открытый набор атрибутов, которые будут выставлены во время выполнения в качестве словаря пары с именем.

### <a name="assets-element"></a>Элемент активов
 Этот элемент содержит `<Asset>` список тегов для каждого расширения или элемента содержимого, всплывал в этом пакете.

- `<Asset>`- Этот элемент содержит следующие атрибуты и элементы:

  - `Type`- Тип расширения или содержимого, представленного этим элементом. Каждый `<Asset>` элемент должен `Type`иметь `<Asset>` один, но `Type`несколько элементов могут иметь то же самое. Этот атрибут должен быть представлен как полностью квалифицированное имя, в соответствии с конвенциями пространства имен. Известные типы:

    1. Microsoft.VisualStudio.VsPackage

    2. Microsoft.VisualStudio.MefComponent

    3. Microsoft.VisualStudio.ToolboxControl

    4. Microsoft.VisualStudio.Образцы

    5. Microsoft.VisualStudio.ProjectTemplate

    6. Microsoft.VisualStudio.ItemTemplate

    7. Microsoft.VisualStudio.Assembly

       Вы можете создавать свои собственные типы и давать им уникальные имена. Во время выполнения в Visual Studio код может перечисляться и получать доступ к этим пользовательским типам через API-менеджер омичи расширения.

  - `Path`- относительный путь к файлу или папке в пакете, содержащем актив.

  - `TargetVersion`- диапазон версий, к которому относится данный актив. Используется для доставки нескольких версий активов в различные версии Visual Studio. Требует Visual Studio 2017.3 или новее, чтобы иметь эффект.

  - `AnyAttribute*`- Открытый набор атрибутов, который подвергается во время выполнения в качестве словаря пары с именем.

    `<AnyElement>*`- Любое структурированное `<Asset>` содержимое допускается между тегом начала и конца. Все элементы выставляются в виде списка объектов XmlElement. Расширения VSIX могут определять структурированные метаданные по типу в файле манифеста и перечислять их во время выполнения.

### <a name="sample-manifest"></a>Пример манифеста

```xml
<?xml version="1.0" encoding="utf-8"?>
<PackageManifest Version="2.0.0" xmlns="http://schemas.microsoft.com/developer/vsx-schema/2011" xmlns:d="http://schemas.microsoft.com/developer/vsx-schema-design/2011">
  <Metadata>
    <Identity Id="0000000-0000-0000-0000-000000000000" Version="1.0" Language="en-US" Publisher="Company" />
    <DisplayName>Test Package</DisplayName>
    <Description>Information about my package</Description>
    <MoreInfo>http://www.fabrikam.com/Extension1/</MoreInfo>
    <License>eula.rtf</License>
    <ReleaseNotes>notes.txt</ReleaseNotes>
    <Icon>Images\icon.png</Icon>
    <PreviewImage>Images\preview.png</PreviewImage>
  </Metadata>
  <Installation InstalledByMsi="false" AllUsers="false" SystemComponent="false" Scope="ProductExtension">
    <InstallationTarget Id="Microsoft.VisualStudio.Pro" Version="[11.0, 12.0]" />
  </Installation>
  <Dependencies>
    <Dependency Id="Microsoft.Framework.NDP" DisplayName="Microsoft .NET Framework" d:Source="Manual" Version="[4.5,)" />
    <Dependency Id="Microsoft.VisualStudio.MPF.12.0" DisplayName="Visual Studio MPF 12.0" d:Source="Installed" Version="[12.0]" />
  </Dependencies>
  <Assets>
    <Asset Type="Microsoft.VisualStudio.VsPackage" d:Source="Project" d:ProjectName="%CurrentProject%" Path="|%CurrentProject%;PkgdefProjectOutputGroup|" />
  </Assets>
</PackageManifest>
```

## <a name="see-also"></a>См. также

- [Расширение визуальной студии ship](../extensibility/shipping-visual-studio-extensions.md)
