---
title: Анатомия пакета VSIX | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- visual studio extension
- vsix
- packages
ms.assetid: 8b86d62f-c274-4e91-82e0-38cdb9a423d5
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: c52f87426b9f06ad40d77c2cc9e7be1627d2c82d
ms.sourcegitcommit: 577c905de52057a741e68c2ed168ea527813fda5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2020
ms.locfileid: "88250830"
---
# <a name="anatomy-of-a-vsix-package"></a>Анатомия пакета VSIX
Пакет VSIX — это *VSIX* -файл, содержащий одно или несколько расширений Visual Studio вместе с метаданными, которые Visual Studio использует для классификации и установки расширений. Эти метаданные содержатся в манифесте VSIX и файле *[Content_Types]. XML* . Пакет VSIX может также содержать один или несколько файлов *Extension. всикслангпакк* для предоставления локализованного текста программы установки и может содержать дополнительные пакеты VSIX для установки зависимостей.

 Формат пакета VSIX соответствует стандартам Open Packaging Conventions (OPC). Этот пакет содержит двоичные файлы и вспомогательный файл вместе с файлом *[Content_Types]. XML* и файлом манифеста *VSIX* . Один пакет VSIX может содержать выходные данные нескольких проектов или даже несколько пакетов с собственными манифестами.

> [!NOTE]
> Имена файлов, включенных в пакеты VSIX, не должны содержать пробелы, а также символы, зарезервированные в универсальных идентификаторах ресурсов (URI), как определено в разделе [ \[ RFC2396 \] ](https://www.rfc-editor.org/rfc/rfc2396.txt).

## <a name="the-vsix-manifest"></a>Манифест VSIX
 Манифест VSIX содержит сведения о устанавливаемом расширении и соответствует схеме VSX. Дополнительные сведения см. в разделе [Справочник по схеме расширений VSIX 1,0](https://msdn.microsoft.com/library/76e410ec-b1fb-4652-ac98-4a4c52e09a2b). Пример манифеста VSIX см. в разделе [элемент PackageManifest (корневой элемент, Схема VSX)](https://msdn.microsoft.com/library/f8ae42ba-775a-4d2b-976a-f556e147f187).

 Манифест VSIX должен иметь имя, `extension.vsixmanifest` если он включен в файл ^. VSIX *.

## <a name="the-content"></a>содержимое.
 Пакет VSIX может содержать шаблоны, элементы панели элементов, пакеты VSPackage или любые другие расширения, поддерживаемые Visual Studio.

## <a name="language-packs"></a>Языковые пакеты
 Пакет VSIX может содержать один или несколько файлов *Extension. всикслангпакк* для предоставления локализованного текста во время установки. Дополнительные сведения см. в разделе [Локализация пакетов VSIX](../extensibility/localizing-vsix-packages.md).

## <a name="dependencies-and-references"></a>Зависимости и ссылки
 Пакет VSIX может содержать другие пакеты VSIX в качестве ссылок. Каждый из этих пакетов должен содержать собственный манифест VSIX.

 Если пользователь пытается установить расширение с зависимостями, установщик проверяет, установлены ли необходимые сборки в системе пользователя. Если требуемые сборки не найдены, то **расширения и обновления** отображают список отсутствующих сборок.

 Если манифест расширения содержит один или несколько [ссылочных](/previous-versions/visualstudio/visual-studio-2010/dd393687(v=vs.100)) элементов, **расширения и обновления** сравнивают манифест каждой ссылки с расширениями, установленными в системе, и устанавливает расширение, на которое указывает ссылка, если оно еще не установлено. Если установлена более ранняя версия расширения, на которую указывает ссылка, более новая версия заменяет ее.

 Если проект в решении с несколькими проектами содержит ссылку на другой проект в том же решении, пакет VSIX включает в себя зависимости этого проекта. Это поведение можно переопределить, выбрав ссылку на внутренний проект, а затем в окне **Свойства** задать для **выходных групп, включенных в свойство VSIX** , значение `BuiltProjectOutputGroup` .

 Чтобы включить вспомогательные библиотеки DLL из сборок, на которые имеются ссылки, в пакете VSIX, добавьте `SatelliteDllsProjectOutputGroup` к **выходным группам, включенным в свойство VSIX** .

## <a name="installation-location"></a>Расположение установки
 Во время установки **расширения и обновления** просматривают содержимое пакета VSIX в папке в разделе *%LocalAppData%\Microsoft\VisualStudio\14.0\Extensions*.

 По умолчанию установка применяется только к текущему пользователю, так как *% LocalAppData%* является каталогом конкретного пользователя. Однако если задать для элемента [ALLUSERS](https://msdn.microsoft.com/library/ac817f50-3276-4ddb-b467-8bbb1432455b) манифеста значение `True` , расширение будет установлено в <em>.. \\ </em> Висуалстудиоинсталлатионфолдер<em>\Common7\IDE\Extensions</em> и будет доступен всем пользователям компьютера.

## <a name="content_typesxml"></a>[Content_Types]. XML
 Файл *[Content_Types]. XML* определяет типы файлов в развернутом *VSIX* -файле. Visual Studio использует этот файл во время установки пакета, но не устанавливает сам файл. Дополнительные сведения об этом файле см. [в разделе Структура файла [Content_types]. XML](the-structure-of-the-content-types-dot-xml-file.md).

 Для стандарта Open Packaging Conventions (OPC) требуется файл *[Content_Types]. XML* . Дополнительные сведения о OPC см. в статье [OPC: новый стандарт для упаковки данных](https://blogs.msdn.microsoft.com/msdnmagazine/2007/08/08/opc-a-new-standard-for-packaging-your-data/) на веб-сайте MSDN.
