---
title: Связывание клавишных ярлыков к пунктам меню Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- keyboard command
- keyboards
- command key
- keyboard shortcuts
- menu items
ms.assetid: 19f483b6-4d3e-424e-9d68-dc129c788e47
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 94feafbc614be61aaa4eef9e26669c0fbe901ed5
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80740019"
---
# <a name="bind-keyboard-shortcuts-to-menu-items"></a>Привязать ярлыки клавиатуры к элементам меню
Чтобы связать ярлык клавиатуры с пользовательской командой меню, просто добавьте запись в файл *.vsct* для пакета. В этой теме объясняется, как сопоставить ярлык клавиатуры с пользовательской кнопкой, элементом меню или командой панели инструментов, а также как применить отображение клавиатуры в редакторе по умолчанию или ограничить его пользовательским редактором.

 Чтобы назначить ярлыки клавиш исуществующих элементов меню Visual Studio, [см.](../ide/identifying-and-customizing-keyboard-shortcuts-in-visual-studio.md)

## <a name="choose-a-key-combination"></a>Выберите комбинацию ключей
 Многие клавишные уже используются в Visual Studio. Не следует назначать один и тот же ярлык более чем одной команде, поскольку дубликаты привязок трудно обнаружить, а также могут привести к непредсказуемым результатам. Таким образом, рекомендуется проверить наличие ярлыка, прежде чем назначить его.

### <a name="to-verify-the-availability-of-a-keyboard-shortcut"></a>Проверить наличие ярлыка клавиатуры

1. В окне > **параметры** **инструментов** > **Options**выберите **клавиатуру.**

2. Убедитесь, что **используйте новый ярлык в** установлен **на глобальный**.

3. В поле **клавиши Press,** введите ярлык клавиатуры, который вы хотите использовать.

    Если ярлык уже используется в Visual Studio, **ярлык, используемый** в настоящее время в коробке, покажет команду, которую в настоящее время вызывает ярлык.

4. Попробуйте различные комбинации ключей, пока не найдете тот, который не отображается.

   > [!NOTE]
   > Кнопки клавиатуры, которые используют **Alt,** могут открыть меню, а не выполнять команду напрямую. Таким образом, shortcut в **настоящее время используется в** поле может быть пустым при вводе ярлык, который включает Alt. **Alt** Вы можете убедиться, что ярлык не открывает меню, закрыв поле диалога **Options,** а затем нажав клавиши.

   Следующая процедура предполагает, что у вас есть существующий VSPackage с командой меню. Если вам нужна помощь в этом, взгляните на [Создание расширения с командой меню.](../extensibility/creating-an-extension-with-a-menu-command.md)

### <a name="to-assign-a-keyboard-shortcut-to-a-command"></a>Назначить ярлык клавиатуры команде

1. Откройте файл *.vsct* для вашего пакета.

2. Создайте `<KeyBindings>` пустой `<Commands>` раздел после того, как он еще не присутствует.

   > [!WARNING]
   > Для получения дополнительной информации о ключевых привязок [см.](../extensibility/keybinding-element.md)

    В `<KeyBindings>` разделе создайте `<KeyBinding>` запись.

    Установите `guid` `id` атрибуты и атрибуты для команды, на которые вы хотите вызвать.

    Установите `mod1` атрибут **в Control,** **Alt**или **Shift.**

    Раздел KeyBindings должен выглядеть примерно так:

   ```xml
   <KeyBindings>
       <KeyBinding guid="<name of command set>" id="<name of command id>"
           editor="guidVSStd97" key1="1" mod1="CONTROL"/>
   </KeyBindings>

   ```

   Если для выполнения ярлыка клавиатуры требуется более двух клавиш, установите `mod2` `key2` и атрибуты.

   В большинстве случаев **Shift** не следует использовать без второго модификатора, поскольку нажатие уже приводит к тому, что большинство буквеннумерических ключей вводят букву верхнего регистра или символ.

   Коды виртуального ключа позволяют получить доступ к специальным клавишам, которые не имеют символа, связанного с ними, например, функциональные клавиши и ключ **Backspace.** Для получения дополнительной информации смотрите [коды виртуального ключа](/windows/desktop/inputdev/virtual-key-codes).

   Чтобы сделать команду доступной в редакторе Visual Studio, установите `editor` `guidVSStd97`атрибут.

   Чтобы сделать команду доступной только в `editor` пользовательском редакторе, установите атрибут [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] на имя пользовательского редактора, который был создан шаблоном пакета при создании VSPackage, который включает в себя пользовательский редактор. Чтобы найти значение имени, `<Symbols>` посмотрите `<GuidSymbol>` в разделе `name` для узла, атрибут которого заканчивается в "."`editorfactory` Это имя пользовательского редактора.

## <a name="example"></a>Пример
 Этот пример связывает ярлык клавиатуры **Ctrl**+**Alt**+ `cmdidMyCommand` **C** с командой, названной в пакете с именем. `MyPackage`

```
<CommandTable>
. . .
<Commands>
. . .
</Commands>
<KeyBindings>
  <KeyBinding guid="guidMyPackageCmdSet" id="cmdidMyCommand"
      key1="C" mod1="CONTROL" mod2="ALT" editor="guidVSStd97" />
</KeyBindings>
. . .
</CommandTable>
```

## <a name="example"></a>Пример
 Этот пример связывает ярлык клавиатуры **Ctrl**+**B** с командой, названной `cmdidBold` в названном `TestEditor`проекте. Команда доступна только в пользовательском редакторе, а не в других редакторах.

```xml
<KeyBinding guid="guidVSStd97" id="cmdidBold" editor="guidTestEditorEditorFactory" key1="B" mod1="Control" />
```

## <a name="see-also"></a>См. также
- [Расширение меню и команд](../extensibility/extending-menus-and-commands.md)
