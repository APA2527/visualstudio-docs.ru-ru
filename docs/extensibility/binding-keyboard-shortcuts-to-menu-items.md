---
title: Привязка сочетания клавиш к пунктам меню | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- keyboard command
- keyboards
- command key
- keyboard shortcuts
- menu items
ms.assetid: 19f483b6-4d3e-424e-9d68-dc129c788e47
author: gregvanl
ms.author: gregvanl
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 8dc28a64d42d2184734142c68aef95cbc3b1d245
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63410120"
---
# <a name="bind-keyboard-shortcuts-to-menu-items"></a>Привязка сочетания клавиш к пунктам меню
Чтобы привязать сочетания клавиш для команды меню, просто добавьте записи для *.vsct* файл для пакета. В этом разделе объясняется, как сопоставить сочетания клавиш для пользовательской кнопки, пункт меню или панели инструментов команды и как применить назначения клавиш в редакторе по умолчанию или ограничить ее специализированный редактор.

 Чтобы назначить сочетания клавиш к существующим элементам меню Visual Studio, см. в разделе [определение и Настройка сочетаний клавиш](../ide/identifying-and-customizing-keyboard-shortcuts-in-visual-studio.md).

## <a name="choose-a-key-combination"></a>Нажмите сочетание клавиш
 Многие сочетания клавиш уже используются в Visual Studio. Не следует присваивать тот же краткий путь к более чем одной команде, так как повторяющиеся привязки трудно определить, а также может привести к непредсказуемым результатам. Таким образом рекомендуется проверить доступность ярлык до назначения его.

### <a name="to-verify-the-availability-of-a-keyboard-shortcut"></a>Чтобы проверить доступность сочетания клавиш

1. В **средства** > **параметры** > **среды** выберите **клавиатуры**.

2. Убедитесь, что **клавиш в** присваивается **Global**.

3. В **введите сочетание клавиш** введите сочетание клавиш, которое вы хотите использовать.

    Если сочетание клавиш уже используется в Visual Studio **в настоящий момент используется** команду, которая в настоящее время вызывает ярлык появится окно.

4. Попробуйте различные сочетания клавиш, пока не найдете не сопоставлен.

   > [!NOTE]
   > Сочетания клавиш, использующих **Alt** может открыть меню и не непосредственно выполнить команду. Таким образом **в настоящий момент используется** поле может быть пустым, при вводе ярлык, который включает в себя **Alt**. Убедитесь, что ярлык не открывается меню, закрывая **параметры** диалоговое окно и нажав клавиши.

   В следующей процедуре предполагается, что у вас есть существующие VSPackage с командой меню. Если вам нужна помощь, сделать это, рассмотрим [создание расширения с помощью команды меню](../extensibility/creating-an-extension-with-a-menu-command.md).

### <a name="to-assign-a-keyboard-shortcut-to-a-command"></a>Чтобы назначить сочетания клавиш для команды

1. Откройте *.vsct* файла для пакета.

2. Создать пустой `<KeyBindings>` разделе после `<Commands>` если его еще нет.

   > [!WARNING]
   > Дополнительные сведения о привязки клавиш, см. в разделе [сочетание клавиш](../extensibility/keybinding-element.md).

    В `<KeyBindings>` разделе, создайте `<KeyBinding>` запись.

    Задайте `guid` и `id` атрибуты те команды, которую требуется вызвать.

    Задайте `mod1` атрибут **управления**, **Alt**, или **Shift**.

    В разделе сочетания клавиш должен выглядеть следующим образом:

   ```xml
   <KeyBindings>
       <KeyBinding guid="<name of command set>" id="<name of command id>"
           editor="guidVSStd97" key1="1" mod1="CONTROL"/>
   </KeyBindings>

   ```

   Если сочетание клавиш требуется более двух ключей, задайте `mod2` и `key2` атрибуты.

   В большинстве случаев **Shift** не должны использоваться без второй модификатора, поскольку уже ее нажатие вызывает большинство буквенно-цифровых клавиш ввода буквы верхнего регистра или символ.

   Ключ виртуальной коды позволяют специальные ключи, у которых нет символов, связанных с ними, например, функциональные клавиши доступа и **Backspace** ключ. Дополнительные сведения см. в разделе [коды виртуальных ключ](https://docs.microsoft.com/windows/desktop/inputdev/virtual-key-codes).

   Чтобы сделать команду доступной в Visual Studio редактора, задайте `editor` атрибут `guidVSStd97`.

   Чтобы сделать команду доступной только в пользовательском редакторе, задайте `editor` атрибут имя настраиваемого редактора, созданное [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] шаблона пакета при создании пакета VSPackage, который включает в себя настраиваемого редактора. Значение имени, см. `<Symbols>` раздел `<GuidSymbol>` узел которого `name` атрибута заканчивается на "`editorfactory`.» Это имя настраиваемого редактора.

## <a name="example"></a>Пример
 В этом примере выполняется привязка сочетания клавиш **Ctrl**+**Alt**+**C** в команду с именем `cmdidMyCommand` в пакете с именем `MyPackage`.

```
<CommandTable>
. . .
<Commands>
. . .
</Commands>
<KeyBindings>
  <KeyBinding guid="guidMyPackageCmdSet" id="cmdidMyCommand"
      key1="C" mod1="CONTROL" mod2="ALT" editor="guidVSStd97" />
</KeyBindings>
. . .
</CommandTable>
```

## <a name="example"></a>Пример
 В этом примере выполняется привязка сочетания клавиш **Ctrl**+**B** в команду с именем `cmdidBold` в проект с именем `TestEditor`. Команда доступна только в пользовательском редакторе, а не в других редакторах.

```xml
<KeyBinding guid="guidVSStd97" id="cmdidBold" editor="guidTestEditorEditorFactory" key1="B" mod1="Control" />
```

## <a name="see-also"></a>См. также
- [Расширение меню и команд](../extensibility/extending-menus-and-commands.md)