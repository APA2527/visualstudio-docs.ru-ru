---
title: Создание пользовательских шаблонов проектов и элементов (ru) Документы Майкрософт
ms.date: 3/16/2019
ms.topic: conceptual
ms.assetid: 586da5dc-f678-402b-afd0-0332959fd7a6
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: ae404004f2660048ef7581a661d8f785495ed95a
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80739452"
---
# <a name="create-custom-project-and-item-templates"></a>Создание пользовательских шаблонов проектов и элементов

Visual Studio SDK включает в себя шаблоны проектов, которые создают пользовательский шаблон проекта и шаблон пользовательских элементов. Эти шаблоны включают некоторые общие замены параметров, и построить как почтовые файлы. Они не развертываются автоматически, и они не доступны в экспериментальном экземпляре. Необходимо скопировать сгенерированный файл застежки-молнии в каталог шаблона пользователя.

Шаблоны создания шаблонов позволяют включать шаблоны в более крупные расширения. Это позволяет реализовать управление версиями в исходных файлах и создать группу шаблонных проектов в один пакет VSIX.

Вы также можете настроить шаблон для установки пакетов NuGet. Для получения дополнительной [информации см.](/nuget/visual-studio-extensibility/visual-studio-templates)

Для основных сценариев создания шаблонов следует использовать мастер-шаблон **экспорта,** который выводит на сжатый файл. Для получения дополнительной [информации](../ide/creating-project-and-item-templates.md)о создании базового шаблона см.

> [!NOTE]
> Начиная с Visual Studio 2017, сканирование пользовательских шаблонов проектов и элементов больше не будет выполняться. Вместо этого расширение должно предоставить файлы манифеста шаблонов, описывающие расположение этих шаблонов. Вы можете использовать Visual Studio 2017 для обновления расширений VSIX. При развертывании расширения с помощью MSI необходимо создавать файлы манифеста шаблона вручную. Для получения дополнительной информации [см.](../extensibility/upgrading-custom-project-and-item-templates-for-visual-studio-2017.md) Схема манифеста шаблона задокументирована в [ссылке на схему Visual Studio.](../extensibility/visual-studio-template-manifest-schema-reference.md)

## <a name="create-a-project-template"></a>Создание шаблона проекта

1. Создайте проект Template Project. Шаблон проекта можно найти в диалоге **нового проекта,** испоиском «шаблона проекта» и выбором либо версии C- или Visual Basic.

     Шаблон генерирует файл класса, значок, файл *.vstemplate,* отображаемый файл проекта *projectTemplate.vbproj* или *ProjectTemplate.csproj,* а также некоторые файлы, которые обычно генерируются другими типами проекта, такими *файлом resources.resx,* файлом *AssemblyInfo* и файлом *.settings.* Каждый файл кода содержит общие замены параметров, где это уместно.

![Выбор шаблона проекта](media/project-template-selection.png)

2. Добавляйте и удаляйте элементы из проекта по мере необходимости для проекта. Не удаляйте отсылку к файлу проекта, файлу *AssemblyInfo* или файлу *.vstemplate.*

3. Обновление файла *.vstemplate,* чтобы отразить любые дополнения и удаления. Элемент [проекта](../extensibility/project-element-visual-studio-templates.md) должен содержать элемент [ProjectItem](../extensibility/projectitem-element-visual-studio-item-templates.md) для каждого файла, который должен быть включен в шаблон.

4. Изменяйте файлы кода и другой контент, находящийся в пользователи, и добавьте соответствующие замены параметров.

5. Изменение генерируемого содержимого по мере необходимости.

6. Создайте проект.

     Visual Studio создает файл *.zip,* содержащий ваш шаблон. Он не развернут, и он не доступен в экспериментальном экземпляре.

## <a name="create-an-item-template"></a>Создание шаблона элемента

1. Создайте проект шаблона элементов.

     Шаблон генерирует файл класса, значок, файл *.vstemplate* и файл *AssemblyInfo.* Файл класса содержит некоторые общие замены параметров.

2. Добавляйте и удаляйте элементы из проекта по мере необходимости для проекта.

3. Обновление файла *.vstemplate,* чтобы отразить любые дополнения и удаления. Элемент [проекта](../extensibility/project-element-visual-studio-templates.md) должен содержать элемент [ProjectItem](../extensibility/projectitem-element-visual-studio-item-templates.md) для каждого файла, который должен быть включен в шаблон.

4. Изменяйте файлы кода и другой контент, находящийся в пользователи, и добавьте соответствующие замены параметров.

5. Изменение генерируемого содержимого по мере необходимости.

6. Создайте проект.

     Visual Studio создает сжатый файл, содержащий ваш шаблон. Он не развернут, и он не доступен в экспериментальном экземпляре.

## <a name="deployment"></a>Развертывание

### <a name="to-deploy-the-project-or-item-template"></a>Развертывание шаблона проекта или элемента

1. Создайте проект VSIX. Для получения дополнительной [VSIX project template](../extensibility/vsix-project-template.md)информации см.

2. Закудь проект VSIX в качестве стартап-проекта. В **Solution Explorer**выберите узло проекта VSIX, щелкните правой кнопкой мыши и выберите **Set в качестве запуска проекта.**

3. Установите проект шаблона проекта в качестве актива проекта VSIX. Откройте файл *.vsixmanifest.* Перейти к вкладке **Активы** и нажмите **Новый**.

    1. Установите поле **типа** на **Microsoft.VisualStudio.ProjectTemplate** или **Microsoft.VisualStudio.ItemTemplate**.

    2. Для источника выберите проект A в текущем варианте **решения,** а затем выберите проект, содержащий шаблон.

4. Создайте решение и нажмите **F5.** Появляется экспериментальный экземпляр.

5. Для проекта шаблона проекта вы должны увидеть шаблон проекта, перечисленный в диалоге **Нового проекта** **(File** > **New** > **Project),** в visual C или Visual Basic node. Для проекта шаблона элементов следует увидеть шаблон элемента, указанный в диалоге **Add New Item.** Для просмотра диалога **Добавить новый элемент** из **Solution Explorer**выберите узла проекта и нажмите **Добавить** > **новый элемент).**

## <a name="see-also"></a>См. также

- [Ссылка на шаблон Visual Studio](../ide/creating-project-and-item-templates.md)
- [Пакеты NuGet в шаблонах Visual Studio](/nuget/visual-studio-extensibility/visual-studio-templates)
