---
title: Добавление иконок в команды меню Документы Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- icons [Visual Studio], adding to toolbars
- toolbars [Visual Studio], adding icons to commands
- commands [Visual Studio], adding icons
ms.assetid: 362a0c7e-5729-4297-a83f-1aba1a37fd44
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: f4b71f981472451766f526cf62e975e571cf46da
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80740152"
---
# <a name="add-icons-to-menu-commands"></a>Добавление значков в команды меню
Команды могут отображаться как в меню, так и в панели инструментов. На панели инструментов обычно команда отображается только с иконой (для экономии места), в то время как в меню обычно появляется команда как с иконой, так и с текстом.

 Значки шириной 16 пикселей и высотой 16 пикселей могут быть либо 8-битной глубиной цвета (256 цветов), либо 32-битной глубиной цвета (истинный цвет). 32-битные цветные иконки являются предпочтительными. Значки обычно расположены в одном горизонтальном ряду в одной битовой карте, хотя разрешено несколько битовых карт. Эта бит-карта объявлена в файле *.vsct* вместе с отдельными иконками, доступными в битной карте. Более подробная информация приводиткккккк к [элементу Bitmaps.](../extensibility/bitmaps-element.md)

## <a name="add-an-icon-to-a-command"></a>Добавление значка в команду
 Следующая процедура предполагает, что у вас есть существующий проект VSPackage с командой меню. Чтобы узнать, как это сделать, [см.](../extensibility/creating-an-extension-with-a-menu-command.md)

1. Создайте битную карту с глубиной цвета 32-битной. Значок всегда 16 х 16, так что эта бит-карта должна быть 16 пикселей высотой и кратным 16 пикселей в ширину.

     Каждый значок помещается на бит-карту рядом друг с другом в одном ряду. Используйте альфа-канал, чтобы указать места прозрачности в каждой иконке.

     Если вы используете 8-битную глубину `RGB(255,0,255)`цвета, используйте пурпурный, как прозрачность. Тем не менее, 32-битные цветные значки являются предпочтительными.

2. Копируйте файл значка в *каталоге ресурсов* в проекте VSPackage. В **Solution Explorer**добавьте значок в проект. (Выберите **ресурсы,** и в контекстном меню нажмите **Добавить,** затем **существующий элемент**, и выберите файл значка.)

3. Откройте файл *.vsct* в редакторе.

4. Добавьте `GuidSymbol` элемент с именем **testIcon**. Создайте GUID **(Инструменты** > **Создать GUID**, затем выберите формат `value` **реестра** и нажмите **Копия**) и вставьте его в атрибут. Результат должен выглядеть следующим образом:

    ```xml
    <!-- Create your own GUID -->
    <GuidSymbol name="testIcon" value="{00000000-0000-0000-0000-0000}">
    ```

5. Добавьте `<IDSymbol>` для иконы. Атрибут `name` является идентификатором `value` значка, и указывает его положение на полосе, если таковые имеется. Если есть только один значок, добавьте 1. Результат должен выглядеть следующим образом:

    ```xml
    <!-- Create your own GUID -->
    <GuidSymbol name="testIcon" value="{00000000-0000-0000-0000-0000}">
        <IDSymbol name="testIcon1" value="1" />
    </GuidSymbol>
    ```

6. Создайте `<Bitmap>` в `<Bitmaps>` разделе *файла .vsct* для представления битовой карты, содержащей значки.

    - Установите `guid` значение к имени `<GuidSymbol>` элемента, созданного на предыдущем этапе.

    - Установите `href` значение относительного пути файла bitmap (в данном случае **Ресурсы\\<имя\>значка.**

    - Установите `usedList` значение IDSymbol, созданный ранее. Этот атрибут определяет список запятой, которые будут использоваться в VSPackage. Иконки, не вlist, исключаются из компиляции формы.

         Блок Bitmap должен выглядеть следующим образом:

        ```xml
        <Bitmap guid="testIcon" href="Resources\<icon file name>" usedList="testIcon1"/>
        ```

7. В существующем `<Button>` элементе `Icon` установите элемент в значения GUIDSymbol и IDSymbol, созданные ранее. Вот пример элемента кнопки с этими значениями:

    ```xml
    <Button guid="guidAddIconCmdSet" id="cmdidMyCommand" priority="0x0100" type="Button">
        <Parent guid="guidAddIconCmdSet" id="MyMenuGroup" />
        <Icon guid="testIcon" id="testIcon1" />
        <Strings>
            <ButtonText>My Command name</ButtonText>
        </Strings>
    </Button>
    ```

8. Проверьте значок. Выполните сборку решения и запустите отладку. В экспериментальном примере найдите команду. Он должен показать значок, который вы добавили.

## <a name="see-also"></a>См. также
- [Расширение меню и команд](../extensibility/extending-menus-and-commands.md)
- [Ссылка на схему VSCT XML](../extensibility/vsct-xml-schema-reference.md)
