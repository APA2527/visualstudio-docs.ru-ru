---
title: Элемент меню | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- VSCT XML schema elements, Menus
- Menus element (VSCT XML schema)
ms.assetid: ce0560f3-b4c9-4ab2-a99c-d4e10f37b9e0
author: madskristensen
ms.author: madsk
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: c789eae4b7435ae6d1ed648804d78ab9b478aef9
ms.sourcegitcommit: 40d612240dc5bea418cd27fdacdf85ea177e2df3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66311837"
---
# <a name="menu-element"></a>Элемент меню
Определяет один элемент меню. Это шесть видов меню: Контекстное меню, MenuController, MenuControllerLatched, инструментов и ToolWindowToolbar.

## <a name="syntax"></a>Синтаксис

```xml
<Menu guid="guidMyCommandSet" id="MyCommand" priority="0x100" type="button">
  <Parent>... </Parent>
  <CommandFlag>... </CommandFlag>
  <Strings>... </Strings>
</Menu>
```

## <a name="attributes-and-elements"></a>Элементы и атрибуты
 В следующих разделах описаны атрибуты, дочерние и родительские элементы.

### <a name="attributes"></a>Атрибуты

|Атрибут|Описание|
|---------------|-----------------|
|guid|Обязательный. Идентификатор GUID идентификатора GUID и идентификатора команды.|
|id|Обязательный. Идентификатор GUID и идентификатора идентификатор команды.|
|priority|Необязательный параметр. Числовое значение, указывающее относительное положение меню в группе меню.|
|ToolbarPriorityInBand|Необязательный параметр. Числовое значение, указывающее относительное положение панели инструментов в полосе, если окно закреплено.|
|type|Необязательный параметр. Перечислимое значение, указывающее тип элемента.<br /><br /> Если не указано, по умолчанию используется тип меню.<br /><br /> Контекст<br /> Контекстное меню, которое отображается, когда пользователь щелкает правой кнопкой мыши окно. Контекстное меню имеет следующие характеристики:<br /><br /> -Не использует **родительского** и **приоритет** поля, когда меню должно отображаться как контекстное меню.<br />-Может использоваться как подменю, а также в виде контекстного меню. В этом случае оба **идентификатор группы** и **приоритет** учитываются поля.<br />— Это не всегда доступен.<br /><br /> Контекстное меню отображается только в том случае, когда выполняются следующие условия:<br /><br /> -Отображается окна, на котором она размещена.<br />-Обработчик мыши в VSPackage обнаруживает правой кнопкой мыши в окне, а затем вызывает метод, который обрабатывает команду.<br />-В контекстном меню, отображаемых при вызове <xref:Microsoft.VisualStudio.Shell.Interop.IOleComponentUIManager.ShowContextMenu%2A> метод (рекомендуемый подход) или <xref:Microsoft.VisualStudio.Shell.Interop.IVsUIShell.ShowContextMenu%2A> метод.<br /><br /> Меню<br /> Предоставляет раскрывающегося меню. Раскрывающееся меню имеет следующие характеристики:<br /><br /> -Отношениях родительского элемента в его определение.<br />— Должен иметь родительскую группу или CommandPlacement в группу.<br />— Может быть в подменю в любой другой вид меню.<br />-Автоматически отображаются всякий раз, когда отображается его родительском меню.<br />— Не требуется реализация любого кода VSPackage, чтобы сделать их отображения.<br /><br /> MenuController<br /> Предоставляет разворачивающуюся кнопку раскрывающегося меню, которое обычно используется в панели инструментов. MenuController меню имеет следующие характеристики:<br /><br /> — Должен содержаться в другом меню через родительский или CommandPlacement.<br />-Отношениях родительского элемента в его определение.<br />— Может к какой-либо меню в качестве родительского.<br />-Автоматически становятся доступными каждый раз, когда отображается его родительском меню.<br />— Не требуется программную поддержку для отображения меню.<br /><br /> Команды в меню кнопки отображается на кнопке меню. Команда отображается имеет одно из следующих характеристик:<br /><br /> — Это последняя команда, которая используется, если команда выполняется по-прежнему отображаться и включен.<br />-Это первая отображается команда.<br /><br /> MenuControllerLatched<br /> Предоставляет разворачивающуюся кнопку раскрывающееся меню, для которого можно указать команду выбранным по умолчанию, помечая команды, как заблокирована.<br /><br /> Защелки команда — это команда, помеченное в меню как выбранный, как правило, отображая флажок. Команды могут помечаться как заблокирована, если он имеет OLECMDF_LATCHED флаг на нем в реализацию `QueryStatus` метод <xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget> интерфейс. MenuControllerLatched меню имеет следующие характеристики:<br /><br /> — Должен содержаться в другом меню через родительскую группу или CommandPlacement.<br />-Отношениях родительского элемента в его определение.<br />— Может к какой-либо меню в качестве родительского.<br />-Доступны всякий раз, когда отображается его родительском меню.<br />— Не требуется программную поддержку для отображения меню.<br /><br /> Команды в меню кнопки отображается на кнопке меню. Команда отображается имеет одно из следующих характеристик:<br /><br /> -Это первая команда отображается, она блокируется.<br />-Это первая отображается команда.<br /><br /> Toolbar<br /> Предоставляет панель инструментов. Панель инструментов имеет следующие характеристики:<br /><br /> -Пропускать родительского элемента в его определение.<br />-Не удается установить подменю любой из групп, даже используя CommandPlacement.<br />— Может отображаться всегда, щелкнув **панелей инструментов** на **представление** меню.<br />— Можно отобразить с помощью [VisibilityItem](../extensibility/visibilityitem-element.md).<br />— Не требуется код для его создания. Например о том, как создать панель инструментов, см. в разделе [добавить панель инструментов](../extensibility/adding-a-toolbar.md).<br /><br /> ToolWindowToolbar<br /> Предоставляет панель инструментов, которая присоединяется к конкретному окну инструмента, так же, как панель инструментов подключен к среде разработки.<br /><br /> -Пропускать родительского элемента в его определение.<br />-Не удается установить подменю любой из групп, даже используя CommandPlacement.<br />— Отображается только в том случае, если окно инструментов, на котором размещена панель инструментов отображается и VSPackage явно добавляет панели инструментов окна инструментов. Обычно это делается, при создании окна инструментов, получив свойство узла панели инструментов (представленные как <xref:Microsoft.VisualStudio.Shell.Interop.IVsToolWindowToolbarHost> интерфейс) из фрейм окна инструментов, а затем вызвав <xref:Microsoft.VisualStudio.Shell.Interop.IVsToolWindowToolbarHost.AddToolbar%2A> метод.|
|Условие|Необязательный параметр. См. в разделе [условные атрибуты](../extensibility/vsct-xml-schema-conditional-attributes.md).|

### <a name="child-elements"></a>Дочерние элементы

|Элемент|Описание|
|-------------|-----------------|
|Родительский|Необязательный параметр. Родительский элемент данного элемента меню.|
|CommandFlag|Обязательный. См. в разделе [элемент commandflag](../extensibility/command-flag-element.md). Ниже приведены допустимые значения CommandFlag для меню.<br /><br /> -   **AlwaysCreate**<br />-   **DefaultDocked**<br />-   **DefaultInvisible** -этот флаг не влияет на отображение панели инструментов.<br />-   **DontCache**<br />-   **DynamicVisibility** -этот флаг не влияет на отображение панели инструментов.<br />-   **IconAndText**<br />-   **NoCustomize**<br />-   **NotInTBList**<br />-   **NoToolbarClose**<br />-   **TextChanges**<br />-   **TextIsAnchorCommand**|
|Строки|Обязательный. См. в разделе [элемент Strings](../extensibility/strings-element.md). Дочерние `ButtonText` должен быть определен элемент.|
|Комментарий|Дополнительный комментарий.|

### <a name="parent-elements"></a>Родительские элементы

|Элемент|Описание|
|-------------|-----------------|
|[Элемент меню](../extensibility/menus-element.md)|Определяет все меню, которые реализует VSPackage.|

## <a name="example"></a>Пример

```
<Menu guid="cmdGuidWidgetCommands" id="menuIDEditWidget"
  priority="0x0002" type="Menu">
  <Parent guid="cmdSetGuidWidgetCommands" id="groupIDFileEdit">
    <CommandFlag>AlwaysCreate</CommandFlag>
    <Strings>
      <ButtonText>Edit Widget</ButtonText>
    </Strings>
    </Parent>
</Menu>
```

## <a name="see-also"></a>См. также
- [Файлы таблицы команд Visual Studio (vsct)](../extensibility/internals/visual-studio-command-table-dot-vsct-files.md)