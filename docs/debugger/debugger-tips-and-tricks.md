---
title: Советы и рекомендации в отладчике
description: Дополнительные сведения о некоторых малоизвестных возможности, поддерживаемые отладчиком Visual Studio
ms.custom: seodec18
ms.date: 06/15/2018
ms.topic: conceptual
helpviewer_keywords:
- stepping
- debugging [Visual Studio], execution control
- execution, controlling in debugger
ms.assetid: 5262d8b1-2648-429e-85d5-90fcaadfb362
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8b4c763ff31c6c62a177c77f8886f1de305a5170
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62853120"
---
# <a name="learn-productivity-tips-and-tricks-for-the-debugger-in-visual-studio"></a>Дополнительные советы по повышению производительности и рекомендации для отладчика в Visual Studio

Прочитайте эту статью, чтобы получить несколько советов и рекомендаций по повышению производительности отладчика Visual Studio. Основные возможности отладчика описаны в статье [Знакомство с отладчиком Visual Studio](../debugger/debugger-feature-tour.md). В этом разделе мы рассмотрим некоторые темы, которые не включены в обзор возможностей.

## <a name="pin-data-tips"></a>Закрепляйте подсказки по данным

Если вы часто используете всплывающие подсказки по данным во время отладки, вы можете закрепить их для переменной, чтобы обеспечить быстрый доступ. Переменная остается закрепленной даже после перезапуска. Чтобы прикрепить подсказку по данным, щелкните значок закрепления при наведении на него. Вы можете закрепить несколько переменных.

![Закрепление подсказке](../debugger/media/dbg-tips-data-tips-pinned.png "PinningDataTip")

## <a name="edit-your-code-and-continue-debugging-c-vb-c"></a>Изменяйте код и продолжайте отладку (C#, VB, C++)

В большинстве языков, поддерживаемых Visual Studio, можно изменять код в ходе сеанса отладки и затем продолжить отладку. Чтобы использовать эту функцию, щелкните мышью в коде, когда отладка приостановлена, внесите изменения и нажмите клавишу **F5**, **F10**, или **F11** чтобы продолжить отладку.

![Изменить и продолжить отладку](../debugger/media/dbg-tips-edit-and-continue.gif "EditAndContinue")

Дополнительные сведения об использовании данной функции и ее ограничениях см. в статье[Изменение кода и продолжение отладки в Visual Studio (C#, VB, C++)](../debugger/edit-and-continue.md).

## <a name="debug-issues-that-are-hard-to-reproduce"></a>Отладка проблем, которые трудно воспроизвести

Если повторное создание определенного состояния в приложении является трудоемким или занимает много времени, рассмотрите возможность использования условной точки останова. Вы можете использовать [условные точки останова](../debugger/using-breakpoints.md#BKMK_Specify_a_breakpoint_condition_using_a_code_expression) и фильтры точки останова, чтобы избежать прерывания выполнения приложения, пока приложение не достигнет требуемого состояния (например, состояния, в котором переменная хранит неверные данные). Вы можете задать условия, используя выражения, фильтры, счетчики числа попаданий и т. д.

#### <a name="to-create-a-conditional-breakpoint"></a>Чтобы создать условную точку останова

1. Щелкните правой кнопкой мыши значок точки останова (красный кружок) и выберите **условия**.

2. В окне **параметры точки останова** введите выражение.

    ![Условную точку останова](../debugger/media/dbg-multithreaded-conditional-breakpoint.png "ConditionalBreakpoint")

3. Если вы заинтересованы в другом типе условия, выберите **фильтр** вместо **условное выражение** в диалоговом окне **параметры точки останова**, а затем следуйте советам для фильтра.

## <a name="configure-the-data-to-show-in-the-debugger"></a>Настройка данных для отображения в отладчике

Для C#, Visual Basic и C++ (C++только выполняет код), можно указать отладчику, какую информацию для демонстрации использования [DebuggerDisplay](../debugger/using-the-debuggerdisplay-attribute.md) атрибута. Для C++ кода, можно сделать же using [визуализации Natvis](create-custom-views-of-native-objects.md).

## <a name="change-the-execution-flow"></a>Изменение потока выполнения

Когда отладчик приостановлен на некоторой строке кода, используйте мышь для перемещения желтой стрелки-указателя, расположенной слева. Переместите желтую стрелку-указатель в другое место в пути выполнения. Для продолжения выполнения приложения используйте F5 или команды для шага отладчика.

![Переместите указатель выполнения](../debugger/media/dbg-tour-move-the-execution-pointer.gif "переместить указатель выполнения")

Изменяя поток выполнения, можно решать множество задач, например тестировать различные пути выполнения кода или повторно выполнять код без перезапуска отладчика.

> [!WARNING]
> Как правило, при работе с этой функцией необходимо соблюдать осторожность — вы увидите соответствующее предупреждение во всплывающей подсказке. Могут отображаться и другие предупреждения. Перемещая указатель, невозможно вернуть приложение в предыдущее состояние приложения.

## <a name="track-an-out-of-scope-object-c-visual-basic"></a>Отслеживать объект вне области (C#, Visual Basic)

Легко просматривать переменные, используя окна отладчика, такие как **Watch** окна. Тем не менее, тогда, когда переменная выходит за пределы области в **Watch** окно, вы можете заметить, что он выделен серым. В некоторых сценариях приложения, его значение переменной может изменяться, даже когда переменная выходит из области действия, и вы можете увидеть, как он тесно (например, переменная может получить сборщиком мусора). Вы можете отслеживать переменной, создав для него идентификатор объекта **Watch** окна.

#### <a name="to-create-an-object-id"></a>Чтобы создать идентификатор объекта

1. Установите точку останова рядом с переменной, которые необходимо отслеживать.

2. Запустите отладчик (**F5**) и заканчивается в точке останова.

3. Найдите переменную в **"Локальные"** окна (**Отладка > Windows > "Локальные"**), щелкните переменную правой кнопкой мыши и выберите **создать идентификатор объекта**.

    ![Создать идентификатор объекта](../debugger/media/dbg-tips-watch-create-object-id.png "CreateObjectID")

4. В окне **$** вы должны увидеть символ **Локальные** . Эта переменная содержит идентификатор объекта.

5. Щелкните правой кнопкой мыши переменную идентификатор объекта и выберите **Добавить контрольное значение**.

Дополнительные сведения см. в разделе [создать идентификатор объекта](../debugger/watch-and-quickwatch-windows.md#bkmk_objectIds).

## <a name="view-return-values-for-functions"></a>Просмотр возвращаемых значений для функций

Чтобы просмотреть возвращаемые значения для функций, рассмотрим функции, которые отображаются в **"Видимые"** окна, хотя при пошаговой отладке кода. Чтобы увидеть возвращаемое значение функции, убедитесь, что функции, которые вас интересуют уже выполнена (нажмите клавишу **F10** один раз, если в настоящее время остановлены при вызове функции). Если окно закрыто, используйте **Отладка > Windows > видимые** открыть **"Видимые"** окно.

![Видимые окно](../debugger/media/dbg-tips-autos-window.png "AutosWindow")

Кроме того, можно ввести функций в **Интерпретация** окно для просмотра возвращаемых значений. (Откройте его с помощью **Отладка > Windows > Интерпретация**.)

![Окно "Интерпретация"](../debugger/media/dbg-tips-immediate-window.png "ImmediateWindow")

Можно также использовать [псевдопеременные](../debugger/pseudovariables.md) в **Watch** и **Интерпретация** окна, такие как `$ReturnValue`.

## <a name="string_visualizer"></a>Проверьте строки в средстве визуализации

При работе со строками, может быть полезно просмотреть весь форматируемой строки. Чтобы просмотреть обычного текста, JSON, HTML или XML-строку, щелкните значок лупы ![VisualizerIcon](../debugger/media/dbg-tips-visualizer-icon.png "значок визуализатор") при наведении указателя переменная, содержащая строковое значение.

![Открыть визуализатор строки](../debugger/media/dbg-tips-string-visualizers.png "OpenStringVisualizer")

Визуализатор строки может помочь выявить ли строка имеет неправильный формат, в зависимости от типа строки. Например, пустой **значение** поле указывает строка не распознаваемый тип визуализатора. Дополнительные сведения см. в разделе [диалоговое окно визуализатора строки](../debugger/string-visualizer-dialog-box.md).

![Визуализатор строки JSON](../debugger/media/dbg-tips-string-visualizer-json.png "JSONStringVisualizer")

Для нескольких других типов например объектами DataSet и DataTable, которые отображаются в окнах отладчика также можно открыть встроенные визуализатора.

## <a name="break-into-code-on-handled-exceptions"></a>Приостановка выполнения кода на обработанные исключения

Отладчик прерывает выполнение кода при возникновении необработанных исключений. Тем не менее, обработанных исключений (например, исключений, возникающих в рамках `try/catch` блок) также может быть источником ошибок и может потребоваться изучить, если они получены. Можно настроить отладчик на прерывание в код для обработанных исключений, а также путем настройки параметров в **параметры исключений** диалоговое окно. Открыть это диалоговое окно, выбрав **Отладка > Windows > параметры исключений**.

**Параметры исключений** диалоговое окно позволяет указать отладчику Приостановка выполнения кода при конкретных исключениях. На следующем рисунке, отладчик прерывает выполнение кода каждый раз, когда `System.NullReferenceException` происходит. Дополнительные сведения см. в разделе [Управление исключениями](../debugger/managing-exceptions-with-the-debugger.md).

![Диалоговое окно параметров исключений](../debugger/media/dbg-tips-exception-settings.png "ExceptionSettingsDialogBox")

## <a name="debug-deadlocks-and-race-conditions"></a>Отладка взаимоблокировки и конфликты

Если требуется отладить возможных проблемах, которые являются общими для многопоточных приложений, часто полезно просмотреть расположение потоков во время отладки. Это можно сделать с помощью **Показать потоки в исходном коде** кнопки.

#### <a name="to-show-threads-in-your-source-code"></a>Чтобы показать потоки в исходном коде

1. Во время отладки, нажмите кнопку **Показать потоки в исходном коде** кнопку ![Показать потоки в исходном коде](../debugger/media/dbg-multithreaded-show-threads.png "ThreadMarker") в **Отладка** панели инструментов.

2. Посмотрите на переплет в левой части окна. В этой строке, вы увидите *маркер потока* значок ![маркер потока](../debugger/media/dbg-thread-marker.png "ThreadMarker") , похож на 2 тряпичных нити. маркер потока указывает, что некий поток остановлен в этом месте.

    Обратите внимание на то, что маркер потока может быть частично скрыт с помощью точки останова.

3. Наведите указатель мыши на маркер потока. Появится подсказка. Подсказка сообщает имя и идентификационный номер каждого остановившегося тут потока.

    Вы также можете просмотреть расположение потоков в [окна "Параллельные стеки"](../debugger/get-started-debugging-multithreaded-apps.md).

## <a name="examine-payloads-for-web-services-and-network-resources-uwp"></a>Изучить полезные данные веб-служб и сетевых ресурсов (UWP)

В приложениях универсальной платформы Windows, можно анализировать сетевых операциях, выполняемых с помощью `Windows.Web.Http` API. Это средство можно использовать для отладки веб-служб и сетевых ресурсов. Чтобы использовать это средство, выберите **Отладка > Profiler производительности**. Выберите **сети**, а затем выберите **запустить**. В приложении выполните нужные действия, где используется `Windows.Web.Http`, а затем щелкните **Остановка сбора**, чтобы создать отчет.

![Средство профилирования — использование сети](../profiling/media/prof-tour-network-usage.png "NetworkUsageProfTool")

Выберите операцию в представлении "Сводка", чтобы просмотреть более подробные сведения.

![Подробные сведения в средстве](../profiling/media/prof-tour-network-usage-details.png "DetailedViewNetworkUsage")

Дополнительные сведения см. в разделе [Использование сети](../profiling/network-usage.md).

## <a name="modules_window"></a> Более подробно ознакомиться с как отладчик подключается к приложению (C#, C++, Visual Basic, F#)

Чтобы присоединить к выполняемому приложению, отладчик загружает файлы символов (PDB), созданные для таким же номером сборки приложение, которое вы пытаетесь отладить. В некоторых сценариях может пригодиться немного знаний файлов символов. Можно изучить, как Visual Studio загружает файлы символов, с помощью **модули** окна.

Откройте **модули** окна во время отладки, выбрав **Отладка > Windows > модули**. **Модули** окно может сообщить, какие модули отладчика, рассматривая как пользовательский код или [ *мой код*](../debugger/just-my-code.md)и символом, идет загрузка состояния для модуля. В большинстве случаев отладчик автоматически находит файлы символов для пользовательского кода, но если вам требуется возможность шаг с заходом (Отладка) код .NET framework, системного кода или кода сторонних библиотеки, для получения файлы правильный символов требуется дополнительных действий.

![Просмотр сведений о символах в окно "Модули"](../debugger/media/dbg-tips-modules-window.png "ViewSymbolInformation")

Вы можете загрузить символьные данные непосредственно из **модули** окно, щелкните правой кнопкой мыши и выбрав **загрузить символы**.

В некоторых случаях разработчики приложений Поставляйте приложения без соответствующие файлы символов (чтобы уменьшить занимаемое место), но сохранить копию соответствующий символ файлах сборки таким образом, чтобы их можно было отлаживать выпущенной версии.

Чтобы узнать, как отладчик классифицируют код как пользовательский код, см. в разделе [Just My Code](../debugger/just-my-code.md). Дополнительные сведения о файлах символов, см. в разделе [Указание файлов символов (.pdb) и исходных файлов в отладчике Visual Studio](specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).

## <a name="learn-more"></a>Дополнительные сведения

Дополнительные советы и приемы работы и более подробные сведения см. в статье эти сообщения в блогах:

- [7 менее известные взлома для отладки в Visual Studio](https://devblogs.microsoft.com/visualstudio/7-lesser-known-hacks-for-debugging-in-visual-studio/)
- [7 Скрытые жемчужины в Visual Studio](https://devblogs.microsoft.com/visualstudio/7-hidden-gems-in-visual-studio-2017/)

## <a name="see-also"></a>См. также
[Сочетания клавиш](../ide/tips-and-tricks-for-visual-studio.md)
