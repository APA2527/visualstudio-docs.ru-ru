---
title: Запуск сеанса отладки для приложения UWP | Документация Майкрософт
ms.custom: seodec18
ms.date: 11/20/2018
ms.topic: conceptual
f1_keywords:
- VC.Project.IVCAppHostRemoteDebugPageObject.MachineName
- VC.Project.IVCAppHostRemoteDebugPageObject.BreakpointBehavior
- VC.Project.IVCAppHostLocalDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostTetheredDebugPageObject.DebuggerType
- VC.Project.IVCAppHostLocalDebugPageObject.BreakpointBehavior
- VC.Project.IVCAppHostRemoteDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostRemoteDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostLocalDebugPageObject.DebuggerType
- VC.Project.IVCAppHostSimulatorDebugPageObject.DebuggerType
- ImmersiveProjects.Properties.Debug
- VC.Project.IVCAppHostTetheredDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostSimulatorDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostSimulatorDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostLocalDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostLocalDebugPageObject.AllowLocalNetworkLoopback
- AppPackage.Properties.Debug
- VC.Project.IVCAppHostRemoteDebugPageObject.Authentication
- VC.Project.IVCAppHostRemoteDebugPageObject.DebuggerType
- VC.Project.IVCAppHostSimulatorDebugPageObject.BreakpointBehavior
- vs.debug.installedapppackagelauncher
- vs.debug.error.wwahost_scriptdebuggingdisabled
dev_langs:
- CSharp
- VB
- FSharp
- C++
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- uwp
ms.openlocfilehash: c4504dda362c8a50f33168a12839e894a14316d7
ms.sourcegitcommit: 485ffaedb1ade71490f11cf05962add1718945cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2019
ms.locfileid: "72436015"
---
# <a name="start-a-debugging-session-for-a-uwp-app"></a>Запуск сеанса отладки для приложения UWP

В этой статье описывается, как запустить сеанс отладки Visual Studio для приложения универсальная платформа Windows (UWP). Приложения UWP могут быть написаны на XAML C++и, XAML C#и/Visual Basic. Чтобы начать отладку приложения UWP, настройте сеанс отладки и выберите способ запуска приложения.

::: moniker range=">=vs-2019"
> [!NOTE]
> Начиная с Visual Studio 2019, приложения UWP для HTML и JavaScript больше не поддерживаются.
::: moniker-end
::: moniker range="vs-2017"
В Visual Studio 2017 большинство команд и параметров, приведенных в этой статье, также применимо к приложениям UWP для HTML и JavaScript. Когда команды различаются в управляемых приложениях и C++ , приложения JavaScript обычно аналогичны командам для C++ приложений UWP.
::: moniker-end

## <a name="BKMK_The_easy_way_to_start_debugging"></a>Запуск отладки с панели инструментов Visual Studio

Самым простым способом настройки и запуска отладки является стандартная панель инструментов Visual Studio.

![Отладка с панели инструментов](../debugger/media/vsrun_select_target_device.png)

1. В раскрывающемся списке **Конфигурация** на панели инструментов **Стандартная** выберите **Отладка**.

1. В раскрывающемся списке **платформа** выберите целевую платформу для сборки.

1. В раскрывающемся списке рядом с зеленой стрелкой выберите целевой объект отладки. Вы можете выбрать локальный компьютер, устройство с прямым подключением, локальный симулятор Visual Studio, удаленное устройство или эмулятор.

1. Чтобы начать отладку, выберите зеленую стрелку **начала** на панели инструментов или выберите **Отладка**  > **начать отладку**или нажмите клавишу **F5**.

   Visual Studio создает и запускает приложение с прикрепленным отладчиком.

Отладка продолжится до достижения точки останова, приостановки выполнения вручную, возникновения необработанного исключения или завершения работы приложения.

### <a name="BKMK_Choose_the_deployment_target"></a>Параметры целевого объекта развертывания

Цель отладки можно задать на панели инструментов Visual Studio или на странице свойств Отладка проекта. Выберите один из следующих вариантов.

|||
|-|-|
|**Локальный компьютер**|Отладка приложения в текущем сеансе на локальном компьютере.|
|**Имитатор**|Отладка приложения в симуляторе Visual Studio для приложений UWP. Симулятор — это окно рабочего стола, моделирующее функции устройств, такие как сенсорные жесты и вращение устройств, которые могут отсутствовать на локальном компьютере. Параметр симулятор доступен только в том случае, если **Минимальная версия целевой платформы** приложения меньше или равна операционной системе на локальном компьютере. Дополнительные сведения см. [в статье запуск приложений UWP в симуляторе](../debugger/run-windows-store-apps-in-the-simulator.md).|
|**Удаленный компьютер**|Отладка приложения на устройстве, подключенном к локальному компьютеру по сети или через Ethernet-кабель. На удаленном устройстве должна быть установлена и запущена Инструменты удаленной отладки для Visual Studio. Дополнительные сведения см. [в статье запуск приложений UWP на удаленном компьютере](../debugger/run-windows-store-apps-on-a-remote-machine.md).|
|**Устройство**|Отладка приложения на устройстве, подключенном к USB. Устройство должно быть разблокировано разработчиком и иметь разблокированный экран.|
|**Эмулятор мобильного устройства**|Загрузите эмулятор, указанный в имени эмулятора, разверните приложение и начните отладку. Эмуляторы доступны только на компьютерах с поддержкой Hyper-V.|

## <a name="BKMK_Open_the_debugging_property_page_for_the_project"></a>Настройка отладки на странице свойств проекта

Чтобы настроить дополнительные параметры отладки, используйте страницу свойств Отладка проекта.

**Чтобы открыть свойства отладки, выполните следующие действия.**

1. В **Обозреватель решений**выберите проект, а затем щелкните значок **свойства** или щелкните правой кнопкой мыши проект и выберите пункт **Свойства**.

1. В левой части панели « **Свойства** »:

   - Для C# приложений и Visual Basic выберите **Отладка**.

     ![C#и Visual Basic Страница свойств отладки проекта](../debugger/media/dbg_csvb_debugpropertypage.png)

   - Для C++ приложений выберите **Свойства конфигурации**  > **Отладка**.

     ![C++Страница свойств "Отладка приложения UWP"](../debugger/media/dbg_cpp_debugpropertypage.png)

### <a name="BKMK_Choose_the_debugger_to_use"></a> Выбор отладчика

Для C# и Visual Basic приложений Visual Studio по умолчанию выполняет деотладку управляемого кода. Можно выбрать отладку других или дополнительных типов кода. Можно также задать значения **типа отладчика** для всех фоновых задач, которые являются частью проекта.

В C++ приложениях Visual Studio по умолчанию выполняет деотладку машинного кода. Можно выбрать отладку конкретного типа кода вместо или в дополнение к машинному коду.

**Чтобы указать типы кода для отладки, выполните следующие действия.**

- Для C# и Visual Basic приложений выберите один из следующих отладчиков в раскрывающихся списках Тип **приложения** и **тип фонового процесса** в разделе **Тип отладчика** на странице свойств **Отладка** .

- Для C++ приложений выберите один из следующих отладчиков из раскрывающегося списка **Тип отладчика** на странице свойств **Отладка** .

|||
|-|-|
|**Только управляемый код**|Отладка управляемого кода в приложении. Код JavaScript и машинный код C/C++ игнорируются.|
|**Только машинный код**|Отладка машинного кода C/C++ в приложении. Управляемый код и код JavaScript игнорируются.|
|**Смешанный (управляемый и машинный)**|Отладка машинного кода C/C++ и управляемого кода в приложении. Код JavaScript игнорируется. В C++ проектах этот параметр называется **управляемым и машинным кодом**.|
|**Сценарий**|Отладка кода JavaScript в приложении. Управляемый код и машинный код игнорируются.|
|**Машинный код со скриптом**|Отладка машинногоC++ кода C/Code и JavaScript в приложении. Управляемый код игнорируется. Доступно только C++ в проектах или фоновых задачах.|
|**Только GPU (C++ AMP)**|Отладка машинного кода C++, который выполняется в графическом процессоре (GPU). Доступно только C++ в проектах.|

### <a name="BKMK__Optional__Disable_network_loopbacks"></a>Отключить замыкания сети (необязательно)

 В целях безопасности приложение UWP, устанавливаемое стандартным способом, не может выполнять сетевые вызовы к устройству, на котором оно установлено. Visual Studio по умолчанию исключают развернутые приложения из этого правила, поэтому вы можете протестировать процедуры связи на одном компьютере. Перед освобождением приложения следует протестировать приложение без исключения.

**Удаление исключения из правила сетевого замыкания на себя:**

- Для C# и Visual Basic приложений снимите флажок **Разрешить замыкание локальной сети** в разделе **Параметры запуска** на странице свойств **Отладка** .

- Для C++ приложений выберите **нет** в раскрывающемся списке **Разрешить локальную сеть замыкания на себя** на странице свойств **Отладка** .

### <a name="BKMK__Optional__Reinstall_the_app_when_you_start_debugging"></a>Переустановите приложение при запуске отладки (необязательно)
 Чтобы диагностировать проблемы с установкой приложения C# или Visual Basic, выберите **удалить, а затем переустановите пакет** на странице свойств **Отладка** . Этот параметр позволяет повторно создать исходную установку при запуске отладки. Этот параметр недоступен C++ для проектов.

### <a name="BKMK__Optional__Disable_authentication_requirement_to_start_the_remote_debugger"></a>Настройка параметров проверки подлинности для удаленной отладки

По умолчанию при выборе **удаленного компьютера** в качестве целевого объекта развертывания необходимо указать учетные данные Windows для запуска удаленного отладчика. Требования к проверке подлинности можно изменить.

**Универсальный (незашифрованный)** режим проверки подлинности предназначен для устройств IOT, Xbox и HoloLens, а также для создателя обновлений или более поздних версий на компьютерах с Windows 10.

**Чтобы изменить метод проверки подлинности, выполните следующие действия.**

- Для C# и Visual Basic приложений на странице свойств **Отладка** выберите **Удаленный компьютер** в качестве **целевого устройства**. Затем выберите **нет** или **универсальный (незашифрованный протокол)** для **режима проверки подлинности**.

- Для C++ параметра приложения выберите **Удаленный компьютер** в разделе **отладчик для запуска** на странице свойств **Отладка** . Затем выберите **без проверки подлинности** или **универсальный (незашифрованный протокол)** для **типа проверки подлинности**.

> [!CAUTION]
> При запуске удаленного отладчика в режимах **None** и **Universal (незашифрованных протоколов)** отсутствует сетевая безопасность. Выбирайте эти режимы только в доверенных сетях, которые не подвергаются риску вредоносного кода или злонамеренного трафика.

## <a name="BKMK_Start_the_debugging_session"></a>Параметры начала отладки

Если выбрать **отладка**  > **начать отладку** или нажать клавишу **F5**, Visual Studio запустит приложение с присоединенным отладчиком. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

### <a name="BKMK_Start_debugging__F5__but_delay_the_app_start"></a>Начать отладку, но отложить запуск приложения

По умолчанию Visual Studio запускает приложение немедленно при запуске отладки. Можно также настроить приложение для запуска в режиме отладки, но запустить приложение вне отладчика. Например, может потребоваться отладка запуска приложения из меню " **Пуск** " Windows или Отладка фонового процесса в приложении. При выборе этого параметра приложение запускается в отладчике при запуске.

**Отключение автоматического запуска приложения:**

- Для C# и Visual Basic приложений выберите не **запускать, но отлаживать мой код при запуске** в разделе **Параметры запуска** на странице свойств **Отладка** .

- Для C++ приложений выберите **нет** в раскрывающемся списке **запустить приложение** на странице свойств **Отладка** .

Дополнительные сведения об отладке фоновых задач см. в разделе [триггеры приостановки, возобновления и фоновых событий для приложений UWP](../debugger/how-to-trigger-suspend-resume-and-background-events-for-windows-store-apps-in-visual-studio.md).

### <a name="BKMK_Start_an_installed_app_in_the_debugger"></a>Отладка установленного или работающего приложения UWP

Вы можете использовать **отладочный пакет приложения** для отладки приложения UWP, которое уже установлено или выполняется на локальном или удаленном устройстве. Приложение могло быть установлено из Microsoft Store или не может быть проектом Visual Studio. Например, приложение может иметь пользовательскую систему сборки, которая не использует Visual Studio.

Вы можете запустить установленное приложение немедленно или настроить его для запуска в отладчике при запуске с другим методом. Дополнительные сведения см. в разделе [триггеры приостановки, возобновления и фоновых событий для приложений UWP](../debugger/how-to-trigger-suspend-resume-and-background-events-for-windows-store-apps-in-visual-studio.md).

Чтобы запустить установленное или работающее приложение UWP в отладчике, выберите **отладка**  > **другие целевые объекты отладки**  > **Отладка установленного пакета приложения**. Дополнительные инструкции см. в разделе [Отладка установленного пакета приложения](../debugger/debug-installed-app-package.md).

### <a name="BKMK_Attach_the_debugger_to_a_running_app_"></a>Подключение отладчика к выполняющемуся приложению Windows 8. x

Чтобы подключить отладчик к приложению [!INCLUDE[win8_appname_long](../debugger/includes/win8_appname_long_md.md)] , нужно воспользоваться диспетчером отлаживаемых пакетов и настроить приложение на выполнение в режиме отладки. Диспетчер отлаживаемых пакетов устанавливается вместе с Инструменты удаленной отладки для Visual Studio.

1. Установите Инструменты удаленной отладки для Visual Studio на устройстве, где установлено приложение. Дополнительные сведения см. [в разделе Установка средств удаленной установки](../debugger/remote-debugging.md).

1. На **начальном** экране Windows найдите и запустите **Диспетчер отлаживаемых пакетов**.

   Отобразится окно PowerShell, настроенное для работы с командлетами AppxDebug.

1. Укажите идентификатор Полноеимяпакета приложения.

   1. Чтобы просмотреть список, содержащий Полноеимяпакета всех приложений, введите `Get-AppxPackage` в командной строке PowerShell.

   1. В командной строке PowerShell введите `Enable-AppxDebug <PackageFullName>`, где \<PackageFullName > — идентификатор Полноеимяпакета приложения.

1. Выберите **Отладка** > **Присоединение к процессу**.

1. В диалоговом окне **Присоединение к процессу** укажите удаленное устройство в поле **цель подключения** .

   Можно ввести имя устройства, выбрать его из раскрывающегося списка в поле **цель подключения** или нажать кнопку **найти** , чтобы найти устройство в диалоговом окне **Удаленные соединения** .

1. Чтобы указать тип кода, который необходимо отладить, рядом с полем **присоединить к** выберите **выбрать**.

1. В диалоговом окне **Выбор типа кода** выберите один из следующих полей:
   - **Автоматически определять тип отлаживаемого кода**или
   - Выполните **отладку этих типов кода**, а затем выберите один или несколько типов кода из списка.

1. В списке **Доступные процессы** выберите процесс приложения для отладки.

1. Выберите **присоединить**.

 Visual Studio подключает отладчик к процессу. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

::: moniker range="vs-2017"
> [!NOTE]
> Приложения JavaScript выполняются в экземпляре процесса *wwahost.exe*. Если выполняется несколько приложений JavaScript, необходимо знать числовой идентификатор процесса (PID) процесса *wwahost. exe* приложения, который будет присоединен к нему.
>
> Самый простой способ присоединиться к приложению JavaScript — закрыть все остальные приложения JavaScript. Кроме того, можно отметить идентификатор процесса выполнения процессов *wwahost. exe* в диспетчере задач Windows перед запуском приложения. При запуске приложения его PID *wwahost. exe* будет отличаться от ранее записанного.
::: moniker-end

## <a name="see-also"></a>См. также

- [Отладка приложений в Visual Studio](../debugger/debugging-windows-store-and-windows-universal-apps.md)