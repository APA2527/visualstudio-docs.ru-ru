---
title: Отладка во время разработки | Документация Майкрософт
ms.custom: ''
ms.date: 01/10/2019
ms.topic: conceptual
dev_langs:
- VB
helpviewer_keywords:
- debugging [Visual Studio], design-time
- breakpoints, design-time debugging
- Immediate window, design-time debugging
- design-time debugging
ms.assetid: 35bfdd2c-6f60-4be1-ba9d-55fce70ee4d8
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8bc5d08e8b0ae71acb846e1e863e24e8b8def0ee
ms.sourcegitcommit: d20ce855461c240ac5eee0fcfe373f166b4a04a9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2020
ms.locfileid: "84183565"
---
# <a name="debug-at-design-time-in-visual-studio-c-ccli-visual-basic-f"></a>Отладка во время разработки в Visual Studio (C#, C++/CLI, Visual Basic, F#)

Для отладки кода во время разработки, а не во время выполнения приложения можно воспользоваться окном **Интерпретация**.

Для отладки выделенного кода XAML приложения из конструктора XAML, например сценариев декларативной привязки к данным, можно использовать команду **Отладка** > **Присоединить к процессу**.

## <a name="use-the-immediate-window"></a>Использование окна "Интерпретация"

Окно **Интерпретация** в Visual Studio можно использовать для выполнения функции или подпрограммы без запуска приложения. Если в функции или подпрограмме есть точка останова, Visual Studio прервет выполнение в этой точке. При этом можно использовать окна отладчика для просмотра состояния программы. Эта возможность называется *отладкой времени разработки*.

Этот пример предназначен для Visual Basic. Окно **Интерпретация** можно также использовать во время разработки в приложениях C#, F# и C++/CLI.

1. Вставьте следующий код в пустое консольное приложение Visual Basic.

   ```vb
   Module Module1

       Sub Main()
           MySub()
       End Sub

       Function MyFunction() As Decimal
           Static i As Integer
           i = i + 1
           Return i
       End Function

       Sub MySub()
           MyFunction()

       End Sub
   End Module
   ```

1. Установите точку останова на строке **Конец функции**.

1. Откройте окно **Интерпретация**, выбрав **Отладка** > **Окна** > **Интерпретация**. В окне введите `?MyFunction`, а затем нажмите клавишу **ВВОД**.

   Срабатывает точка останова, и **MyFunction** в окне **Локальные** получает значение **1**. Вы можете просмотреть стек вызовов и другие окна отладки, пока приложение находится в режиме приостановки выполнения.

1. На панели инструментов Visual Studio нажмите кнопку **Сохранить**. Приложение завершается, и в окне **Интерпретация** возвращается значение **1**. Все еще должен быть активен режим конструктора.

1. Введите `?MyFunction` в окне **Интерпретация** еще раз и нажмите клавишу **ВВОД**. Срабатывает точка остановка, и **MyFunction** в окне **Локальные** получает значение **2**.

1. Не нажимая кнопку **Продолжить**, введите `?MySub()` в окне **Интерпретация**, а затем нажмите клавишу **ВВОД**. Срабатывает точка останова, и **MyFunction** в окне **Локальные** получает значение **3**. Вы можете проверить состояние приложения, пока приложение находится в режиме приостановки выполнения.

1. Выберите **Continue** (Продолжить). Снова срабатывает точка останова, и теперь **MyFunction** в окне **Локальные** получает значение **2**. В окне **Интерпретация** возвращается **Выражение вычислено, но оно не имеет значения**.

1. Еще раз нажмите кнопку **Продолжить**. Приложение завершается, и в окне **Интерпретация** возвращается значение **2**. Все еще должен быть активен режим конструктора.

1. Чтобы очистить содержимое окна **Интерпретация**, щелкните правой кнопкой мыши в окне и выберите команду **Очистить все**.

## <a name="debug-a-custom-xaml-control-at-design-time-by-attaching-to-xaml-designer"></a>Отладка пользовательского элемента управления XAML во время разработки путем присоединения к конструктору XAML

1. Откройте решение или проект в Visual Studio.

1. Выполните сборку решения или проекта.

1. Откройте страницу XAML, содержащую пользовательский элемент управления, который требуется отладить.

   В проектах UWP, предназначенных для сборки Windows 16299 или более поздней версии, этот шаг запускает процесс *UwpSurface.exe*. В проектах WPF, предназначенных для сборки Windows 16299 или более поздней версии, на этом шаге запускается процесс *WpfSurface.exe*. В версиях WPF или UWP, предшествующих версии сборки Windows 16299, этот шаг запускает процесс *XDesProc.exe*. 

1. Откройте еще один экземпляр Visual Studio. Не открывайте решение или проект во втором экземпляре.

1. Во втором экземпляре Visual Studio откройте меню **Отладка** и выберите **Присоединить к процессу...** .

1. В зависимости от типа проекта (см. предыдущие шаги) выберите процесс *UwpSurface.exe*, *WpfSurface.exe* или *XDesProc.exe* в списке доступных процессов.

1. В диалоговом окне **Присоединение к процессу** в поле **Присоединить к** выберите нужный тип кода для пользовательского элемента управления, который требуется отладить.

   Если пользовательский элемент управления был написан на языке .NET, выберите соответствующий тип кода .NET, например **Управляемый (CoreCLR)** . Если пользовательский элемент управления был написан в C++, выберите **Собственный**.

1. Присоедините второй экземпляр Visual Studio, нажав кнопку **Присоединить**.

1. Во втором экземпляре Visual Studio откройте файлы кода, связанные с пользовательским элементом управления, который требуется отладить. Откройте только файлы, а не все решение или проект.

1. Установите необходимые точки останова в ранее открытых файлах.

1. В первом экземпляре Visual Studio закройте страницу XAML, содержащую пользовательский элемент управления, который необходимо отладить (та же страница, которая была открыта на предыдущих шагах).

1. В первом экземпляре Visual Studio откройте страницу XAML, закрытую на предыдущем шаге. Отладчик остановится на первой точке останова, заданной во втором экземпляре Visual Studio.

1. Выполните отладку кода во втором экземпляре Visual Studio.

## <a name="see-also"></a>См. также
- [Первое знакомство с отладчиком](../debugger/debugger-feature-tour.md)
- [Безопасность отладчика](../debugger/debugger-security.md)