---
title: JIT-компилятора отладка и оптимизация | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- debugging [Visual Studio], optimized code
- optimized code, debugging
ms.assetid: 19bfabf3-1a2e-49dc-8819-a813982e86fd
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 7346b6fd8fbd483021437638f9e134ead88a0b93
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62846327"
---
# <a name="jit-optimization-and-debugging"></a>JIT-отладка и оптимизация
**Принципы оптимизации работы в .NET:** Если вы пытаетесь отладить код, проще при что код является **не** оптимизированных для операций. Это обусловлено тем, когда код оптимизирован, компилятор и среда выполнения внесите изменения порожденного кода ЦП, что он выполняется быстрее, но имеет менее прямое сопоставление для исходного кода. Это означает, что отладчики часто не даст значение локальных переменных и пошаговое выполнение кода, и точки останова не может работать должным образом.

Обычно конфигурации построения выпуска создает оптимизированный код и не поддерживает конфигурацию отладочной сборки. `Optimize` Свойство MSBuild определяет, указывают ли компилятор оптимизировать код.

В экосистеме .NET, код включен из источника для инструкции ЦП в два этапа: сначала C# компилятор преобразует введенный текст в промежуточный двоичный форму с названием MSIL и записывает это на DLL-файлы. Позже среда выполнения .NET преобразует этот MSIL инструкции ЦП. Оба этих действия можно оптимизировать лишь в некоторой степени, но более глубокие оптимизации выполняет второй этап выполняется средой выполнения .NET.

**Параметр «Отключить JIT-оптимизацию при загрузке модуля (только управляемый код)»:** Отладчик обеспечивает вариант, который определяет, что происходит при загрузке библиотеки DLL, который компилируется с включенными оптимизациями внутри целевого процесса. Если этот флажок не установлен (состояние по умолчанию), а затем, когда среда выполнения .NET компилирует код MSIL в код ЦП, покидающие включенными оптимизациями. Если флажок установлен, отладчик запросов, что оптимизация отключена.

Для поиска **Отключить JIT-оптимизацию при загрузке модуля (только управляемый код)** выберите **средства** > **параметры**, а затем выберите  **Общие** странице в разделе **Отладка** узла.

**Когда вы установите этот флажок:** Установите этот флажок, после загрузки библиотеки DLL из другого источника, например пакет nuget, и вы хотите отладить код в эту библиотеку DLL. В порядке, чтобы это работало необходимо также найти файл символов (.pdb) для этой библиотеки DLL.

Если вы заинтересованы только в отладке кода, в которой вы выполняете локально, лучше не устанавливайте этот флажок, а в некоторых случаях включение этого параметра значительно замедлит работу отладку. Существует две причины, замедлять работу:

* Оптимизированный код выполняется быстрее. Если вы дезактивируете оптимизации для большого количества кода, влияние на производительность можно добавить до.
* При наличии только мой код, отладчик не даже попробуйте и загрузить символы для библиотек DLL, которые оптимизированы. Поиск символов может занять много времени.

**Ограничения этого параметра:** Существуют две ситуации, где этот параметр будет **не** работать:

1. В ситуациях, где для присоединения отладчика к уже запущенному процессу этот параметр не повлияет на модули, которые уже были загружены во время отладчик был подключен.
2. Этот параметр не влияет на библиотеки DLL, которые были предварительно скомпилированы (называемые также технология Ngen) в машинный код. Тем не менее использование предварительно скомпилированного кода можно отключить, запустив процесс со средой, присваиваемого переменной «COMPlus_ZapDisable» "1".

## <a name="see-also"></a>См. также
- [Отладка управляемого кода](../debugger/debugging-managed-code.md)
- [Навигация по коду с помощью отладчика](../debugger/navigating-through-code-with-the-debugger.md)
- [Подключение к выполняющимся процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)
- [Процесс управляемого выполнения](/dotnet/standard/managed-execution-process)
