---
title: Просмотр событий с помощью IntelliTrace | Документация Майкрософт
description: Узнайте, как использовать IntelliTrace в Visual Studio Enterprise для сбора данных об определенных событиях, категориях событий и отдельных вызовах функций.
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: e1c9c91a-0009-4c4e-9b4f-c9ab3a6022a7
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 8adaf62d7a9995bb5219d340e0e9a9999055c7a1
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99884082"
---
# <a name="view-events-with-intellitrace-in-visual-studio-enterprise-c-visual-basic"></a>Просмотр событий с помощью IntelliTrace в Visual Studio Enterprise (C#, Visual Basic)

IntelliTrace можно использовать для сбора сведений о конкретных событиях или категориях событий, а также об отдельных вызовах функций в дополнение к событиям. Процедура приведена ниже.

IntelliTrace можно использовать в выпуске Visual Studio Enterprise, но не в выпусках Professional или Community.

## <a name="configure-intellitrace"></a><a name="GettingStarted"></a> Настройка IntelliTrace

Вы можете попробовать выполнить отладку только с помощью событий IntelliTrace. События IntelliTrace — это события отладчика, исключения, события .NET Framework и другие системные события. До начала отладки следует включить или отключить определенные события в зависимости от того, должно ли их записывать средство IntelliTrace. Дополнительные сведения см. в статье о [функциях IntelliTrace](../debugger/intellitrace-features.md).

- Включите событие IntelliTrace для доступа к файлам. Перейдите на страницу **Сервис > Параметры > IntelliTrace > События IntelliTrace** и разверните категорию **Файл**. Установите флажок напротив категории событий **Файл** . Будут проверены все события, связанные с файлами (доступ, закрытие, удаление).

## <a name="create-your-app"></a>Создание приложения

1. Создайте консольное приложение C#. В файле Program.cs добавьте следующую инструкцию `using` :

    ```csharp
    using System.IO;
    ```

2. Создайте <xref:System.IO.FileStream> в методе Main, выполните его считывание, закройте его и удалите файл. Добавьте еще одну строку, чтобы задать точку останова:

    ```csharp
    static void Main(string[] args)
    {
        FileStream fs = File.Create("WordSearchInputs.txt");
        fs.ReadByte();
        fs.Close();
        File.Delete("WordSearchInputs.txt");

        Console.WriteLine("done");
    }
    ```

3. Задайте точку останова в `Console.WriteLine("done");`

## <a name="start-debugging-and-view-intellitrace-events"></a>Запуск отладки и просмотр событий IntelliTrace

1. Запустите отладку обычным образом. (Нажмите клавишу **F5** или щелкните **Отладка | Начать отладку**.)

    > [!TIP]
    > Не закрывайте окна **Локальные** и **Видимые** при отладке, чтобы просматривать и записывать отображаемые в них значения.

2. Выполнение прекратится в точке останова. Если вы не видите окно **Средства диагностики**, щелкните **Отладка > Windows > События IntelliTrace**.

    В окне **Средства диагностики** найдите вкладку **События** (должны появиться три вкладки: **События**, **Использование памяти** и **Использование ЦП**). На вкладке **События** показан хронологический список событий, заканчивающийся последним событием перед завершением выполнения отладчика. Должно иметься событие **Доступ к WordSearchInputs.txt**.

    Приведенный ниже снимок экрана сделан в Visual Studio 2015 с обновлением 1.

    ![Снимок экрана: окно кода Visual Studio. Выполнение остановлено в точке останова, а на вкладке "События" в окне "Средства диагностики" перечислены события.](../debugger/media/intellitrace-update1.png)

3. Выберите событие и просмотрите подробности о нем.

    Приведенный ниже снимок экрана сделан в Visual Studio 2015 с обновлением 1.

    ![Снимок экрана: вкладка "События" в окне "Средства диагностики" Visual Studio. Событие выбрано и развернуто для отображения сведений.](../debugger/media/intellitraceupdate1-singleevent.png)

    Вы можете щелкнуть ссылку пути, чтобы открыть файл. Если полный путь недоступен, откроется диалоговое окно **Открыть файл** .

    Щелкните **Активировать отладку с ведением журнала**, чтобы задать в контексте отладчика время, когда было собрано указанное событие, после чего в окнах **Стек вызовов**, **Локальные** и других отобразятся данные журнала. Если исходный код доступен, Visual Studio перемещает указатель на соответствующий код в окне источника, чтобы вы могли его изучить.

    Приведенный ниже снимок экрана сделан в Visual Studio 2015 с обновлением 1.

    ![Снимок экрана: окно кода Visual Studio. Выполнение остановлено в точке останова, выбрано событие, и выделена соответствующая строка кода.](../debugger/media/historicaldebugging-update1.png)

4. Если ошибка не найдена, попробуйте изучить другие события, которые предположительно ее вызвали. Вы также можете просмотреть сведения о вызове записи IntelliTrace и выполнить вызовы функций по шагам.

## <a name="next-steps"></a>Следующие шаги

Вы можете использовать некоторые дополнительные функции IntelliTrace с исторической отладкой:

- Дополнительные сведения о просмотре моментальных снимков см. в разделе [Проверка предыдущих состояний приложения с помощью IntelliTrace](../debugger/view-historical-application-state.md).
- Сведения о проверке переменных и навигации по коду см. в статье [Проверка приложения с помощью исторической отладки](../debugger/historical-debugging-inspect-app.md).
