---
title: Навигация по коду с отладчиком Документы Майкрософт
ms.custom: seodec18
ms.date: 11/12/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.execution
helpviewer_keywords:
- stepping
- debugging [Visual Studio], execution control
- execution, controlling in debugger
ms.assetid: 759072ba-4aaa-447e-8e51-0dd1456fe896
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 6dfffdf0c12ea2a8f14769f26bb40a3943579248
ms.sourcegitcommit: 95f26af1da51d4c83ae78adcb7372b32364d8a2b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79301095"
---
# <a name="navigate-through-code-with-the-visual-studio-debugger"></a>Перейдите через код с отладчиком Visual Studio

Отладка Visual Studio поможет вам перемещаться по коду, чтобы проверить состояние приложения и показать его поток выполнения. Вы можете использовать ярлыки клавиатуры, отладки команд, моменты разрыва и другие функции, чтобы быстро добраться до кода, который вы хотите изучить. Знакомство с командами навигации и ярлыками отладчика позволяет быстрее и проще находить и решать проблемы с приложениями.  Если это первый раз, когда вы пытались отладить код, вы можете прочитать [отладка для абсолютных новичков](../debugger/debugging-absolute-beginners.md) и [методов и инструментов отладки,](../debugger/write-better-code-with-visual-studio.md) прежде чем перейти к этой статье.

## <a name="get-into-break-mode"></a>Попасть в "режим перерыва"

В *режиме break*выполнение приложения приостановлено, в то время как функции, переменные и объекты остаются в памяти. После того, как отладчик находится в режиме перерыва, вы можете перемещаться по коду. Наиболее распространенные способы быстро попасть в режим перерыва – это:

- Начните шаг за код, нажав **На F10** или **F11.** Это позволяет быстро найти точку входа в приложение, а затем продолжить нажатие команды шага для навигации по коду.

- [Запуск в определенное место или функцию,](#BKMK_Break_into_code_by_using_breakpoints_or_Break_All)например, установив [точку разрыва](using-breakpoints.md) и запуск приложения.

   Например, из редактора кода в Visual Studio можно использовать команду **Run to Cursor,** чтобы запустить приложение, отладить приложение и перейти в режим перерыва, затем **F11** для навигации по коду.

   ![Бегите к курсору и шаг в код](../debugger/media/navigate-code-code-stepping.gif "Бегите к курсору и шаг в код")

После перерыва можно использовать различные команды для навигации по коду. Находясь в режиме перерыва, можно изучить значения переменных для поиска нарушений или ошибок. Для некоторых типов проектов можно также внести коррективы в приложение, находясь в режиме перерыва.

Большинство окон отладчиков, таких как **Модули** и окна **Watch,** доступны только в то время, когда отладчик подключен к приложению. Некоторые функции отладчика, такие как просмотр переменных значений в окне **Locals** или оценка выражений в окне **Watch,** доступны только при приостановке отладчика (т.е. в режиме перерыва).

> [!NOTE]
> Если вы взломаете код, который не имеет источника или символа *(.pdb*) файлы загружены, отладчик отображает **Исходные файлы не найдено** или **символы не найдено** страницы, которые могут помочь вам найти и загрузить файлы. Смотрите [Символ «Указать» (.pdb) и исходные файлы.](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md) Если вы не можете загрузить файлы символа или исходного кода, вы все равно можете отладить инструкции по сборке в окне **разборки.**

## <a name="step-through-code"></a>Пошаговое прохождение кода

Команды шага отладчика помогут вам проверить состояние приложения или узнать больше о потоке выполнения.

### <a name="step-into-code-line-by-line"></a><a name="BKMK_Step_into__over__or_out_of_the_code"></a>Шаг в строку кода за строкой

Чтобы остановить сярприза на каждой выписке во время отладки, используйте **Debug** > **Step Into**или нажмите **F11.**

Отладчик проходит через инструкции кода, а не физические строки. Например, предложение `if` может быть записано в одной строке:

  ```csharp
  int x = 42;
  string s = "Not answered";
  if( int x == 42) s = "Answered!";
  ```

  ```vb
  Dim x As Integer = 42
  Dim s As String = "Not answered"
  If x = 42 Then s = "Answered!"
  ```

Однако, когда вы входите в эту строку, отладчик рассматривает состояние как один шаг, а последствие как другой. В предыдущем примере условие верно.

При вызове вложенных функций команда **Шаг с заходом** позволяет попасть в самую глубокую вложенную функцию. Например, если вы используете **Step Into** на вызове, как, `Func1(Func2())`отладчик шаги в функцию. `Func2`

>[!TIP]
>При выполнении каждой строки кода можно нависть над переменными, чтобы увидеть их значения, или использовать окна [Locals](autos-and-locals-windows.md) и [Watch](watch-and-quickwatch-windows.md) для наблюдения за изменением значений. Вы также можете визуально проследить [стек вызовов](how-to-use-the-call-stack-window.md) при входе в функции. (Только для Visual Studio Enterprise см. [методы карты в стеке вызовов во время отладки).](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md)

### <a name="step-through-code-and-skip-some-functions"></a><a name="BKMK_Step_over_Step_out"></a>Шаг через код и пропустить некоторые функции

Вы можете не заботиться о функции во время отладки, или вы знаете, что она работает, как хорошо проверенный код библиотеки. Вы можете использовать следующие команды, чтобы пропустить код во время шага кода. Функции по-прежнему выполняются, но отладчик пропускает их.

|Команда клавиатуры|Команда меню «Отладка»|Описание|
|----------------------|------------------|-----------------|
|**F10**|**Шаг с обходом**|Если текущая строка содержит вызов функции, **Step Over** запускает код, а затем приостанавливает выполнение на первой строке кода после возвращения вызываемых функций.|
|**Сдвиг**+**F11**|**Шаг вне**|**Step Out** продолжает работу кода и приостанавливает выполнение при возврате текущей функции. Отладчик пропускает текущую функцию.|

## <a name="run-to-a-specific-location-or-function"></a><a name="BKMK_Break_into_code_by_using_breakpoints_or_Break_All"></a>Запуск в определенное место или функцию

Вы можете предпочесть работать непосредственно в определенном месте или функции, когда вы точно знаете, какой код вы хотите проверить, или вы знаете, где вы хотите начать отладку.

### <a name="run-to-a-breakpoint-in-code"></a>Запуск к точке разрыва в коде

Чтобы установить простую точку разрыва в коде, щелкните крайний левый край рядом с строкой кода, где вы хотите приостановить выполнение. Вы также можете выбрать линию и нажмите **F9,** выберите **Debug** > **Toggle Breakpoint,** или нажмите правой кнопкой мыши и выберите **Breakpoint** > **Insert Breakpoint.** Точка разрыва отображается как красная точка в левом крае рядом с строкой кода. Отладчик приостанавливает выполнение непосредственно перед выполнением строки.

![Установка точки разрыва](../debugger/media/dbg_basics_setbreakpoint.png "Установка точки останова")

Точки останова в Visual Studio предоставляют широкий набор дополнительных функций, таких как условные точки останова и точки трассировки. Для получения подробной информации [см.](../debugger/using-breakpoints.md)

### <a name="run-to-a-function-breakpoint"></a>Запуск к точке разрыва функции

Вы можете сказать отладчику работать до тех пор, пока он не достигнет заданной функции. Можно задать функцию по имени или выбрать ее из стека вызовов.

**Указать точку разрыва функции по имени**

1. Выберите **отображение** > новой**точки** **разрыва** > 

1. В диалоге **New Function Breakpoint** введите название функции и выберите ее язык.

   ![Новая поле диалога "Точка разрыва функций"](../debugger/media/dbg_execution_newbreakpoint.png "Новая точка разрыва функции")

1. Нажмите кнопку **ОК**.

Если функция перегружена или находится в более чем одном пространстве имен, вы можете выбрать тот, который вы хотите в окне **Breakpoints.**

![Перезагруженные точки разрыва функции](../debugger/media/dbg_execution_overloadedbreakpoints.png "Перезагруженные точки разрыва функции")

**Выбрать точку разрыва функции из стека вызовов**

1. Во время отладки откройте окно **Call Stack,** выбрав **стек** > **вызова****Windows.** > 

1. В окне **Call Stack** щелкните функцию и выберите Run **To Cursor**или нажмите **Ctrl**+**F10.**

Чтобы визуально проследить стек вызовов, см. [методы карты в стеке вызовов во время отладки.](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md)

### <a name="run-to-a-cursor-location"></a>Запуск в место курсора

Чтобы запустить в место лежаки, в исходном коде или окне **Call Stack,** выберите строку, на которая вы хотите взломать, нажмите правой кнопкой мыши и выберите **Run To Cursor,** или нажмите **Ctrl**+**F10.** Выбор **Run To Cursor** подован установлению временной точки разрыва.

### <a name="run-to-click"></a>Выполнение до щелкнутого

При приостановке в отладчике можно навести намелье над заявлением в исходном коде или окне **разборки,** а также выбрать **выполнение Run, чтобы здесь** зеленый значок стрелки. Использование **Run to Click** устраняет необходимость установки временной точки разрыва.

![Выполнение до щелкнутого](../debugger/media/dbg-run-to-click.png "Выполнение до щелкнутого")

> [!NOTE]
> **Запуск нажмите** доступен, начиная [!include[vs_dev15](../misc/includes/vs_dev15_md.md)]с .

### <a name="manually-break-into-code"></a>Приостановка выполнения кода вручную

Чтобы взломать следующую доступную строку кода в запущенном приложении, выберите **Debug** > **Break All**или нажмите **Ctrl**+**Alt**+**Break.**

## <a name="move-the-pointer-to-change-the-execution-flow"></a><a name="BKMK_Set_the_next_statement_to_execute"></a>Переместите указатель для изменения потока выполнения

В то время как отладчик приостанавливается, желтая наконечник стрелы в крае исходного кода или окно **разборки** отмечает расположение следующего оператора, которое будет выполнено. Вы можете изменить следующее утверждение для выполнения, переместив эту наконечник стрелы. Вы можете пропустить часть кода или вернуться к предыдущей строке. Перемещение указателя полезно для таких ситуаций, как пропуск раздела кода, содержащего известную ошибку.

 ![Перемещение указателя](../debugger/media/dbg_basics_example3.gif "Перемещение указателя")

Чтобы изменить следующую выписку, отладчик должен находиться в режиме перерыва. В исходном коде или окне **разборки** перетащите желтую наконечник стрелки на другую линию или нажмите на кнопку «Следующая линия», которая выполнить, и выберите **Set Next Statement.**

Счетчик программы перепрыгивает непосредственно на новое место, и инструкции между старыми и новыми точками выполнения не выполняются. Однако, если переместить точку выполнения назад, промежуточные инструкции не будут отменены.

>[!CAUTION]
>- Перемещение следующего оператора на другую функцию или область обычно приводит к повреждению стека вызова, вызывая ошибку времени выполнения или исключение. При попытке перемещения следующего оператора в другую область, отладчик открывает диалоговое окно с предупреждением и предоставляет возможность отменить операцию.
>- В Visual Basic нельзя переместить следующий оператор на другую область или функцию.
>- Если при использовании машинного кода C++ включены проверки времени выполнения, установка следующего оператора может вызвать исключение, когда выполнение достигнет конца метода.
>- При включенной операции "Изменить и продолжить" команда **Задать следующий оператор** завершится неудачей, если вы внесете изменения, которые операция "Изменить и продолжить" не сможет немедленно применить. Например, это может произойти, если были внесены изменения внутри блока catch. Когда это происходит, сообщение об ошибке сообщает вам, что операция не поддерживается.
>- В управляемом коде невозможно переместить следующую выписку, если:
>   - Следующий оператор находится в методе, отличном от метода текущего оператора.
>   - Отладка была начата просто в времени отладки.
>   - Стек вызова раскручивается.
>   - Вызвано исключение System.StackOverflowException или System.Threading.ThreadAbortException.

## <a name="debug-non-user-code"></a><a name="BKMK_Restrict_stepping_to_Just_My_Code"></a>Отожение непользовательского кода

По умолчанию отладчик пытается отладить только код приложения, включив настройку под названием *Just My Code.* Для получения более подробной информации о том, как эта функция работает для различных типов проектов и языков, и как вы можете настроить его, [см.](../debugger/just-my-code.md)

Чтобы посмотреть на код фреймворка, сторонний библиотечный код или системные вызовы во время отладки, можно отключить Just My Code. В **инструменты** (или **отключать**) > **параметры** > **отладки**, очистить **Включить просто мой код** флажок. При отключении просто гомокода в окнах отладчика появляется код, не являющиеся пользователями, и отладчик может войти в непользовательский код.

> [!NOTE]
> Режим "Только мой код" не поддерживается для проектов устройств.

### <a name="debug-system-code"></a>Код системы отладки

Если вы загрузили символы отладки для системного кода Майкрософт и отключили Just My Code, вы можете войти в системный вызов так же, как вы можете любой другой вызов.

Для загрузки символов Майкрософт [см.](specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md#configure-symbol-locations-and-loading-options)

**Для загрузки символов для определенного компонента системы:**

1. Во время отладки откройте окно **модулей,** выбрав**модули****Windows** >  **Debug** > или нажав **на Ctrl**+**Alt**+**U.**

1. В окне **модулей** можно учесть, какие модули имеют символы, загруженные в столбец **"Статус символа".** Нажмите на модуль, для которого необходимо загрузить символы, и выберите **символы нагрузки.**

## <a name="step-into-properties-and-operators-in-managed-code"></a><a name="BKMK_Step_into_properties_and_operators_in_managed_code"></a> Шаг с заходом в свойства и операторы в управляемом коде
 По умолчанию отладчик обходит свойства и операторы при пошаговом выполнении в управляемом коде. В большинстве случаев это делает отладку более удобной и эффективной. Для включения в свойства или операторов выберите**Параметры** **отогиота.** >  На странице **Debugging** > **General** очистите шаг над свойствами и только **операторами (управляемыми)** флажком.

## <a name="see-also"></a>См. также раздел
- [Что такое отладка?](../debugger/what-is-debugging.md)
- [Методы и инструменты отладки](../debugger/write-better-code-with-visual-studio.md)
- [Первый взгляд на отладку](../debugger/debugger-feature-tour.md)
