---
title: Присоединение к процессу, выполняющемуся в контейнере Docker
description: Сведения об отладке приложения, выполняющегося в контейнере Docker, с помощью Visual Studio
ms.date: 11/11/2020
ms.topic: conceptual
helpviewer_keywords:
- debugging, linux Docker container
- debugging, Docker container
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: '>= vs-2019'
ms.workload:
- multiple
ms.openlocfilehash: 4f39d4ecd69b726c1d549d723fadd324b1edd722
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99857933"
---
# <a name="attach-to-a-process-running-on-a-docker-container"></a>Присоединение к процессу, выполняющемуся в контейнере Docker 

В Visual Studio можно выполнять отладку приложений, выполняющихся в контейнере Docker для Windows или в контейнере Docker в среде .NET Core для Linux.

## <a name="attach-to-a-process-running-on-a-linux-docker-container"></a> Присоединение к процессу, выполняющемуся в контейнере Docker в Linux

Вы можете подключить отладчик Visual Studio к процессу, выполняемому в контейнере Docker .NET Core в Linux на локальном или удаленном компьютере, используя диалоговое окно **Подключение к процессу**.

> [!IMPORTANT]
> Чтобы использовать эту функцию, необходимо установить рабочую нагрузку "Кроссплатформенная разработка .NET Core" и иметь локальный доступ к исходному коду.

**Присоединение к процессу, выполняющемуся в контейнере Docker в Linux**

1. В Visual Studio выберите **Отладка > Подключить к процессу** (или нажмите клавиши CTRL + ALT + P), чтобы открыть диалоговое окно **Подключение к процессу**.

![Снимок экрана: диалоговое окно "Подключить к процессу" в Visual Studio, отображающее тип соединения для Docker (контейнера Linux).](../debugger/media/attach-process-menu.png "Attach_To_Process_Menu")

2. Для параметра **Тип подключения** выберите **Docker (контейнер Linux)** .
3. Нажмите **Найти...** , чтобы задать **Целевой объект подключения** в диалоговом окне **Выбор контейнера Docker**.

    Процесс контейнера Docker можно отлаживать как локально, так и удаленно.

    **Локальная отладка процесса контейнера Docker**
    1. Для параметра **Узел Docker CLI** выберите значение **Локальный компьютер**.
    1. Выберите из списка контейнер, к которому нужно подключиться, и нажмите **ОК**.

    ![Меню выбора контейнера Docker](../debugger/media/select-docker-container.png "Select_Docker_Container_Menu")

    **B. Удаленная отладка процесса контейнера Docker**

    > [!NOTE]
    > Существует два варианта удаленного подключения к выполняющемуся процессу в контейнере Docker. Первый способ, использование SSH, — идеальный вариант, если на локальном компьютере не установлены средства Docker.  Если средства Docker установлены локально и у вас есть управляющая программа Docker, настроенная на прием удаленных запросов, попробуйте второй вариант с помощью управляющей программы Docker.

    1. ***Подключение к удаленному компьютеру по протоколу SSH***
        1. Нажмите **Добавить...** , чтобы подключиться к удаленной системе.<br/>
        ![Подключение к удаленной системе](../debugger/media/connect-remote-system.png "Подключение к удаленной системе")
        1. Выберите запущенный контейнер для подключения после успешного подключения к SSH или управляющей программе и нажмите кнопку **ОК**.

    1. ***Назначение целевого объекта удаленному контейнеру, выполняющему процесс, с помощью управляющей программы [Docker](https://docs.docker.com/engine/reference/commandline/dockerd/)***
        1. Укажите адрес управляющей программы (т. е. с помощью TCP, IP и т. д.) в разделе **Узел Docker (необязательно)** и щелкните ссылку "Обновить".
        1. Выберите запущенный контейнер для присоединения после успешного подключения к управляющей программе и нажмите кнопку **ОК**.

4. Выберите соответствующий процесс контейнера из списка **Доступные процессы**, а затем выберите **Присоединить**, чтобы начать отладку процесса контейнера C# в Visual Studio.

    ![Снимок экрана: диалоговое окно "Подключить к процессу" в Visual Studio. Для параметра "Тип соединения" установлено значение "Docker" (контейнер Linux), а также выбран процесс dotnet.](../debugger/media/docker-attach-complete.png "Меню присоединения Docker в Linux")

## <a name="attach-to-a-process-running-on-a-windows-docker-container"></a> Присоединение к процессу, выполняющемуся в контейнере Docker в Windows

Вы можете подключить отладчик Visual Studio к процессу, выполняемому в контейнере Docker в Windows на локальном компьютере, используя диалоговое окно **Подключение к процессу**.

> [!IMPORTANT]
> Чтобы использовать эту функцию с процессом .NET Core, необходимо установить рабочую нагрузку "Кроссплатформенная разработка .NET Core" и иметь локальный доступ к исходному коду.

**Присоединение к процессу, выполняющемуся в контейнере Docker в Windows**

1. В Visual Studio выберите **Отладка > Подключить к процессу** (или нажмите клавиши **CTRL + ALT + P**), чтобы открыть диалоговое окно **Подключение к процессу**.

   ![Снимок экрана: диалоговое окно "Подключить к процессу" в Visual Studio, отображающее тип соединения для Docker (контейнера Windows).](../debugger/media/attach-process-menu-docker-windows.png "Attach_To_Process_Menu")

2. Для параметра **Тип подключения** выберите **Docker (контейнер Windows)** .
3. Нажмите **Найти...** , чтобы задать **Целевой объект подключения** с помощью диалогового окна **Выбор контейнера Docker**.

    > [!IMPORTANT]
    > Целевой процесс должен иметь ту же архитектуру процессора, что и контейнер Docker в Windows, в котором он выполняется.

   Возможность назначения целевого объекта удаленному контейнеру с помощью SSH в настоящее время недоступна. Выполнить это можно только с помощью управляющей программы Docker.

    ***Назначение целевого объекта удаленному контейнеру, выполняющему процесс, с помощью управляющей программы [Docker](https://docs.docker.com/engine/reference/commandline/dockerd/)***
    1. Укажите адрес управляющей программы (т. е. с помощью TCP, IP и т. д.) в разделе **Узел Docker (необязательно)** и щелкните ссылку "Обновить".

    1. Выберите запущенный контейнер для присоединения после успешного подключения к управляющей программе и нажмите кнопку "ОК".

4. Выберите соответствующий процесс контейнера из списка **Доступные процессы**, а затем выберите **Присоединить**, чтобы начать отладку процесса контейнера C#.

    ![Снимок экрана: диалоговое окно "Подключить к процессу" в Visual Studio. Для параметра "Тип соединения" установлено значение "Docker" (контейнер Windows), а также выбран процесс dotnet.](../debugger/media/docker-attach-complete-windows.png "Меню присоединения Docker в Windows")

5. Выберите соответствующий процесс контейнера из списка доступных процессов, а затем выберите **Присоединить**, чтобы начать отладку процесса контейнера C#.