---
title: Проекты Debug DLL Документы Майкрософт
ms.date: 11/06/2018
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- debugging DLLs
- templates, debugging DLLs
- DLLs, debugging
- debugging [Visual Studio], DLLs
ms.assetid: 433cab30-d191-460b-96f7-90d2530ca243
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 898eb0eb1489d83e97ec9f0a5b38b475bda0199d
ms.sourcegitcommit: 95f26af1da51d4c83ae78adcb7372b32364d8a2b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79301167"
---
# <a name="debug-dlls-in-visual-studio-c-c-visual-basic-f"></a>Debug DLLs в визуальной студии (СЗ, СЗ, Visual Basic, F)

DLL (библиотека динамических ссылк) — это библиотека, содержащая код и данные, которые могут использоваться более чем одним приложением. Вы можете использовать Visual Studio для создания, сборки, настройки и отладки DLLs.

## <a name="create-a-dll"></a>Создание DLL

Следующие шаблоны проекта Visual Studio могут создавать DLL:

- СЗ, Visual Basic или Библиотека класса F
- Библиотека управления формами визуальных форм Windows (WCF)
- Библиотека динамических ссылк (DLL)

Для получения дополнительной [информации](../debugger/mfc-debugging-techniques.md)см.

Отладка библиотеки WCF аналогична отладке библиотеки классов. Для получения подробной информации [см.](/dotnet/framework/winforms/controls/index)

Обычно вы звоните в DLL из другого проекта. При отладке проекта вызова, в зависимости от конфигурации DLL, вы можете войти в код DLL и отладить его.

## <a name="dll-debug-configuration"></a><a name="vxtskdebuggingdllprojectschangingdefaultconfigurations"></a>Конфигурация DLL debug

При использовании шаблона проекта Visual Studio [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] для создания приложения автоматически создается необходимые настройки для конфигураций сборки отгонов и выпусков. При необходимости можно изменить эти настройки. Дополнительные сведения см. в следующих статьях:

- [Настройки проекта для конфигурации отливки СЗ](../debugger/project-settings-for-a-cpp-debug-configuration.md)
- [Настройки проекта для конфигураций отладки C](../debugger/project-settings-for-csharp-debug-configurations.md)
- [Настройки проекта для конфигурации отладки Visual Basic](../debugger/project-settings-for-a-visual-basic-debug-configuration.md)
- [Как: Установить конфигурации отожения и выпуска](../debugger/how-to-set-debug-and-release-configurations.md)

### <a name="set-c-debuggableattribute"></a>Набор Отошибок атрибутов от «СЕ»

Для того, чтобы отладчик прикреплён к DLL, `DebuggableAttribute`код C's должен излучать .

**Для `DebuggableAttribute`установки:**

1. Выберите проект C'DLL в **Solution Explorer** и выберите значок **Свойства** или нажмите на проект вправо и выберите **Свойства.**

1. В панели **свойств,** под**отладкой** **Linker,** > выберите **Да (/ASSEMBLYDEBUG)** для **отладки сборки.**

Для получения дополнительной информации [см./ ASSEMBLYDEBUG](/cpp/build/reference/assemblydebug-add-debuggableattribute).

### <a name="set-cc-dll-file-locations"></a><a name="vxtskdebuggingdllprojectsexternal"></a>Набор местоположений файлов C/C'DLL

Чтобы отладить внешний DLL, проект вызова должен быть в состоянии найти DLL, его [файл .pdb,](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)и любые другие файлы DLL требует. Можно создать задачу создания пользовательского метода для копирования этих файлов в * \<папку проекта>* папку вывода Debug, или вы можете скопировать файлы там вручную.

Для проектов C/C,» можно установить места заголовка и файла LIB на страницах свойств проекта, вместо того, чтобы копировать их в папку вывода.

**Для настройки местоположения заголовков C/C и LIB:**

1. Выберите проект C/C'DLL в **Solution Explorer** и выберите значок **«Свойства»** или нажмите на проект вправо и выберите **Свойства.**

1. В верхней части панели **Свойств,** под **конфигурацией,** выберите **все конфигурации.**

1. В соответствии с**общими** > **каталогами включения** **C/C'** > укажите папку с файлами заголовка.

1. В**общих** > **каталогах**дополнительных библиотек **Linker** > указано папку с файлами LIB.

1. В**приведении дополнительных зависимостей** **Linker** > **Input** > укажите полный путь и имя файла для файлов LIB.

1. Нажмите кнопку **ОК**.

Для получения более подробной информации [Windows C++ property page reference](/cpp/build/reference/property-pages-visual-cpp)о настройках проекта СЗ см.

## <a name="build-a-debug-version"></a><a name="vxtskdebuggingdllprojectsbuildingadebugversion"></a>Создайте версию Debug

Не забудьте создать версию DLL Debug перед началом отладки. Чтобы отладить DLL, вызывающее приложение должно быть в состоянии найти свой [файл .pdb](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md) и любые другие файлы, необходимые DLL.

Можно создать задачу создания пользовательского метода для копирования файлов DLL в * \<папку вызова проекта>* папку вывода Debug, или вы можете скопировать файлы там вручную.

Убедитесь в том, чтобы вызвать DLL в его правильном месте. Это может показаться очевидным, но если вызываемый приложение находит и загружает другую копию DLL, отладчик никогда не попадет в установленные точки разрыва.

## <a name="debug-a-dll"></a><a name="vxtskdebuggingdllprojectswaystodebugthedll"></a>Отладить DLL

Вы не можете запустить DLL напрямую. Он должен вызываться приложением, обычно файлом *.exe.* Для получения дополнительной информации, [см.](/cpp/ide/creating-and-managing-visual-cpp-projects)

Чтобы отладить DLL, можно [начать отладку от вызывающего приложения](#vxtskdebuggingdllprojectsthecallingapplication)или [отладить проект DLL,](how-to-debug-from-a-dll-project.md) указав его вызывающее приложение. Вы также можете использовать [окно](#vxtskdebuggingdllprojectstheimmediatewindow) немедленного отладки для оценки функций или методов DLL во время проектирования, без использования вызываемого приложения.

Для получения дополнительной информации смотрите [первый взгляд на отладчик](../debugger/debugger-feature-tour.md).

### <a name="start-debugging-from-the-calling-app"></a><a name="vxtskdebuggingdllprojectsthecallingapplication"></a>Начало отладки из вызывающего приложения

Приложение, которое вызывает DLL может быть:

- Приложение из [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] проекта в том же или другом решении от DLL.
- Существующее приложение, которое уже развернуто и работает на тестовом или производственном компьютере.
- Программа расположена в Интернете и доступна по URL–адресу.
- Веб-приложение с веб-страницей, которая встраивает DLL.

Отладить DLL из вызываемого приложения можно:

- Откройте проект для вызывающего приложения и начните отладку, выбрав > **отладку отладки отладки** **отеков**или нажатия **F5.**

  или диспетчер конфигурации служб

- Прикрепите к приложению, которое уже развернуто и работает на тестовом или производственном компьютере. Используйте этот метод для DLLs на веб-сайтах или в веб-приложениях. Для получения дополнительной информации [см. Как: Прикрепите к запущенному процессу.](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)

Перед тем, как начать отладку вызывающего приложения, установите точку разрыва в DLL. Смотрите [Использование брейк-пойнтов](../debugger/using-breakpoints.md). При поражении точки разрыва DLL можно пройти через код, наблюдая за действием на каждой строке. Для получения дополнительной информации [см.](../debugger/navigating-through-code-with-the-debugger.md)

Во время отладки можно использовать окно **модулей** для проверки DLLs и *файлов .exe,* загружаемых приложением. Чтобы открыть окно **модулей** во время отладки, выберите > **модули** > **Windows** **Windows.** Для получения дополнительной [информации см.](../debugger/how-to-use-the-modules-window.md)

### <a name="use-the-immediate-window"></a><a name="vxtskdebuggingdllprojectstheimmediatewindow"></a>Используйте немедленное окно

Вы можете использовать **немедленное** окно для оценки функций или методов DLL во время проектирования. **Немедленное** окно играет роль вызываемого приложения.

>[!NOTE]
>Вы можете использовать **немедленное** окно во время проектирования с большинством типов проектов. Он не поддерживается для веб-проектов или скриптов.

Например, для тестирования `Test` метода, названного в классе: `Class1`

1. С открытием проекта DLL откройте **немедленное** окно, выбрав **Немедленное**нажатие > **Windows** > **Или** нажав **Ctrl**+**Alt**+**I.**

1. Мгновенное объект типа, `Class1` введя следующий код C'в окне **Немедленного** и нажав **Enter**. Этот управляемый код работает для C и Visual Basic с соответствующими изменениями синтаксиса:

   ```csharp
   Class1 obj = new Class1();
   ```

   В C# все имена должны быть указаны полностью. Любые методы или переменные должны находиться в текущей области и контексте, когда служба языка пытается оценить выражение.

1. Предположим, что `Test` принимает один параметр `int` , вычислим `Test` с помощью окна **Интерпретация** :

   ```csharp
   ?obj.Test(10);
   ```

   Результат печатает **сяритоге** в окне Немедленно.

1. Можно продолжить отладку `Test`, установив в нем точку останова, а затем снова вычислив эту функцию.

   Точка разрыва будет хит, и вы `Test`можете пройти . После выполнения `Test`, отладчик вернется в режим разработки.

## <a name="mixed-mode-debugging"></a><a name="vxtskdebuggingdllprojectsmixedmodedebugging"></a>Отладка смешанного режима

Вы можете написать приложение вызова для DLL в управляемом или родном коде. Если ваше родное приложение вызывает управляемый DLL и вы хотите отладить оба, вы можете включить как управляемых, так и нативных отладчиков в свойствапроекта. Точный процесс зависит от того, хотите ли вы начать отладку от проекта DLL или проекта вызывающего приложения. Для получения дополнительной информации [см. Как: Отладить в смешанном режиме](../debugger/how-to-debug-in-mixed-mode.md).

Вы также можете отладить родной DLL из управляемого проекта вызова. Для получения дополнительной информации [см. Как отладить управляемый и родной код](how-to-debug-managed-and-native-code.md).

## <a name="see-also"></a>См. также раздел
- [Отладка управляемого кода](../debugger/debugging-managed-code.md)
- [Подготовка к отладке проектов СЗ](../debugger/debugging-preparation-visual-cpp-project-types.md)
- [Типы проектов C#, F# и Visual Basic](../debugger/debugging-preparation-csharp-f-hash-and-visual-basic-project-types.md)
- [Настройки проекта для конфигурации «Дебуг» СЗ](../debugger/project-settings-for-a-cpp-debug-configuration.md)
- [Параметры проекта для конфигураций отладки C#](../debugger/project-settings-for-csharp-debug-configurations.md)
- [Параметры проекта для конфигурации отладки Visual Basic](../debugger/project-settings-for-a-visual-basic-debug-configuration.md)
- [Безопасность отладчика](../debugger/debugger-security.md)
