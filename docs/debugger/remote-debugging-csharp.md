---
title: Удаленная отладка C# или проект Visual Basic | Документация Майкрософт
ms.custom:
- remotedebugging"=
- seodec18
ms.date: 08/14/2018
ms.topic: conceptual
dev_langs:
- C++
- FSharp
- CSharp
- JScript
- VB
helpviewer_keywords:
- remote debugging, setup
ms.assetid: a9753fbb-e7f4-47f0-9dbe-9de90c6c8457
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- dotnet
ms.openlocfilehash: 4c646f8f6dc228d42d6efb5ec44f3ec19a53a551
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63408536"
---
# <a name="remote-debugging-a-c-or-visual-basic-project-in-visual-studio"></a>Удаленная отладка проекта C# или Visual Basic в Visual Studio
Для отладки приложения Visual Studio, который был развернут на другом компьютере, установки и запуска инструментов удаленной отладки на компьютере, на котором развертывается приложение, настройте проект для подключения к удаленному компьютеру из Visual Studio и затем запустите приложение.

![Компоненты удаленной отладки](../debugger/media/remote-debugger-client-apps.png "Remote_debugger_components")

Сведения об удаленной отладке универсальных приложениях Windows (UWP), см. в разделе [отлаживать установленный пакет приложения](debug-installed-app-package.md).

## <a name="requirements"></a>Требования

Удаленный отладчик поддерживается на Windows 7 и более поздних (не телефон) и версии Windows Server, начиная с пакета обновления 2 для Windows Server 2008. Полный список требований см. в разделе [требования](../debugger/remote-debugging.md#requirements_msvsmon).

> [!NOTE]
> Отладка между двумя компьютерами, подключенными через прокси-сервер не поддерживается. Отладка в различных странах высокой задержкой или низкой пропускной способностью, таких как удаленный доступ к Интернету, или через Интернет не рекомендуется и может произойти сбой или неприемлемо медленно.

## <a name="download-and-install-the-remote-tools"></a>Скачивание и установка инструментов удаленной отладки

[!INCLUDE [remote-debugger-download](../debugger/includes/remote-debugger-download.md)]

> [!TIP]
> В некоторых сценариях может быть наиболее эффективным для запуска удаленного отладчика из общей папки. Дополнительные сведения см. в разделе [запуск удаленного отладчика из общей папки](../debugger/remote-debugging.md#fileshare_msvsmon).

## <a name="BKMK_setup"></a> Установка удаленного отладчика

[!INCLUDE [remote-debugger-configuration](../debugger/includes/remote-debugger-configuration.md)]

> [!NOTE]
> Если требуется добавить разрешения для дополнительных пользователей, изменение режима проверки подлинности, или номер порта удаленного отладчика, см. в разделе [Настройка удаленного отладчика](../debugger/remote-debugging.md#configure_msvsmon).

## <a name="remote_csharp"></a> Удаленная отладка проекта
Отладчик не может развертывать классические приложения Visual C# и Visual Basic на удаленном компьютере, но вы все же можете выполнять их удаленную отладку описанным ниже образом. В следующей процедуре предполагается, что вы хотите выполнить его отладку на компьютере с именем **MJO DL**, как показано на следующем рисунке.

1. Создайте проект WPF с именем **MyWpf**.

2. Установите точку останова в легкодоступном месте кода.

    Например, ее можно установить в обработчике кнопки. Для этого откройте файл MainWindow.xaml и добавьте элемент управления Button с панели инструментов, а затем дважды щелкните кнопку, чтобы открыть ее обработчик.

3. В обозревателе решений щелкните правой кнопкой мыши проект и выберите **свойства**.

4. На странице **Свойства** откройте вкладку **Отладка**.

    ![RemoteDebuggerCSharp](../debugger/media/remotedebuggercsharp.png "RemoteDebuggerCSharp")

5. Убедитесь, что текстовое поле **Рабочий каталог** пустое.

6. Выберите **использовать удаленный компьютер**и тип **yourmachinename:port** в текстовом поле. (Номер порта отображается в окне удаленного отладчика. Номер порта увеличивает значение 2 в каждой версии Visual Studio).

    В этом примере используйте следующую команду:
    ::: moniker range=">=vs-2019"
    **MJO-DL:4024** на 2019 г. Visual Studio
    ::: moniker-end
    ::: moniker range="vs-2017"
    **MJO-DL:4022** на Visual Studio 2017
    ::: moniker-end

7. Убедитесь в том, что параметр **Разрешить отладку машинного кода** не выбран.

8. Выполните построение проекта.

9. Создайте на удаленном компьютере папку с тем же путем, что и у папки **Debug** на компьютере с Visual Studio: **\<исходный путь>\MyWPF\MyWPF\bin\Debug**.

10. Скопируйте исполняемый файл, сборку которого вы только что выполнили, с компьютера с Visual Studio в созданную на удаленном компьютере папку.

    > [!CAUTION]
    > Не следует вносить изменения в код или перестроения (или необходимо повторить этот шаг). Исполняемый файл, скопированный на удаленный компьютер, должен в точности совпадать с локальным исходным кодом и символами.

    Можно скопировать в проект вручную, использовать Xcopy, Robocopy, Powershell или другие параметры.

11. Убедитесь, что удаленный отладчик запущен на целевом компьютере (если это не так, найдите **удаленный отладчик** в **запустить** меню). В окне удаленного отладчика выглядит следующим образом.

     ![RemoteDebuggerWindow](../debugger/media/remotedebuggerwindow.png "RemoteDebuggerWindow")

12. В Visual Studio начните отладку (выберите **Отладка > Начать отладку** или нажмите клавишу **F5**).

13. При появлении запроса введите сетевые учетные данные для подключения к удаленному компьютеру.

     Необходимые учетные данные зависят от конфигурации безопасности вашей сети. Например на компьютере домена, можно ввести имя домена и пароль. На компьютере не входящих в домен, можно ввести имя компьютера и имя учетной записи пользователя, например <strong>MJO-DL\name@something.com</strong>, а также правильный пароль.

     Главное окно приложения WPF должно быть открыто на удаленном компьютере.

14. При необходимости предпринимать действия для достигнута точка останова. Она должна быть активна. Если она неактивна, символы для приложения не загрузились. Повторите попытку и, если это не поможет, получить сведения о загрузке символов и устранении связанных с ними в [основные сведения о файлах символов и Visual Studio параметры символов](https://devblogs.microsoft.com/devops/understanding-symbol-files-and-visual-studios-symbol-settings/).

15. На компьютере с Visual Studio вы должны увидеть, что выполнение остановилось в точке останова.

    Если у вас есть все файлы не кода, которые должны использоваться приложением, необходимо включить их в проект Visual Studio. Создайте папку проекта для дополнительных файлов (в **обозревателе решений** выберите **Добавить > Новая папка**). Затем добавьте файлы в папку (в **обозревателе решений** выберите **Добавить > Существующий элемент**, а затем файлы). На странице **Свойства** для каждого файла задайте для свойства **Копировать в выходной каталог** значение **Всегда копировать**.

## <a name="set-up-debugging-with-remote-symbols"></a>Настройка отладки с удаленными символами

[!INCLUDE [remote-debugger-symbols](../debugger/includes/remote-debugger-symbols.md)]

## <a name="see-also"></a>См. также
- [Отладка в Visual Studio](../debugger/index.md)
- [Первое знакомство с отладчиком](../debugger/debugger-feature-tour.md)
- [Настройка брандмауэра Windows для удаленной отладки](../debugger/configure-the-windows-firewall-for-remote-debugging.md)
- [Назначение портов удаленного отладчика](../debugger/remote-debugger-port-assignments.md)
- [Удаленная отладка ASP.NET на удаленном компьютере IIS](../debugger/remote-debugging-aspnet-on-a-remote-iis-computer.md)
- [Ошибки удаленной отладки и их устранение](../debugger/remote-debugging-errors-and-troubleshooting.md)