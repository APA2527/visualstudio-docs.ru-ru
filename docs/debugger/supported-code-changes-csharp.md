---
title: Поддерживаемые изменения кода (C# и Visual Basic) | Документация Майкрософт
ms.date: 10/11/2018
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- Edit and Continue [C#], supported code changes
- Edit and Continue [Visual Basic], supported code changes
ms.assetid: c7a48ea9-5a7f-4328-a9d7-f0e76fac399d
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- dotnet
ms.openlocfilehash: c5f54a2b50447125b0abffd8cc62ba9c2a1d2b37
ms.sourcegitcommit: 4dfe098ac0df294aad63e6b384d6575980798ca3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2019
ms.locfileid: "70887784"
---
# <a name="supported-code-changes-c-and-visual-basic"></a>Поддерживаемые изменения кода (C# и Visual Basic)
Операция "Изменить и продолжить" обрабатывает большинство типов изменений, вносимых в код внутри тела метода. Однако большинство изменений за пределами тела метода и некоторые изменения в теле метода во время отладки применены быть не могут. Чтобы такие неподдерживаемые изменения вступили в силу, необходимо остановить отладку и заново запустить ее для обновленной версии кода.

## <a name="supported-changes-to-code"></a>Поддерживаемые изменения в коде

В следующей таблице показаны изменения, которые могут быть внесены C# в и Visual Basic код во время сеанса отладки без перезапуска сеанса.

|Элемент языка/компонент|Поддерживаемая операция изменения|Ограничения|
|-|-|-|
|Типы|Добавление методов, полей, конструкторов, et|[Да](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|
|Итераторы|Добавить или изменить|Нет|
|выражения async/await|Добавить или изменить|[Да](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|
|Динамические объекты|Добавить или изменить|Нет|
|лямбда-выражения|Добавить или изменить|[Да](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|
|Выражения LINQ|Добавить или изменить|[То же, что и лямбда-выражения](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|

> [!NOTE]
> Новые функции языка, такие как интерполяция строк и условные операторы null, обычно поддерживаются функцией "изменить и продолжить". Наиболее актуальные сведения см. на странице с [поддерживаемыми изменениями для ENC](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits) .

## <a name="unsupported-changes-to-code"></a>Неподдерживаемые изменения в коде
 Следующие изменения не могут быть применены C# к и Visual Basic коду во время сеанса отладки:

- Изменения в текущем или любом другом активном операторе.

     К активным операторам относятся любые операторы внутри функций из стека вызовов, которые были вызваны для перехода к текущему оператору.

     Текущий оператор выделяется в окне исходного кода желтым фоном. Остальные активные операторы выделяются затенением и доступны только для чтения. Эти используемые по умолчанию цвета можно изменить в диалоговом окне **Параметры**.

- В следующей таблице показаны неподдерживаемые изменения кода по элементам языка.

|Элемент языка/компонент|Неподдерживаемая операция изменения|
|-|-|
|Все элементы кода|Переименование|
|Пространства имен|Add|
|Пространства имен, типы, члены|Оператор delete|
|Универсальные шаблоны|Добавить или изменить|
|Интерфейсы|Изменить|
|Типы|Добавление абстрактного или виртуального члена, Добавление переопределения (см. [Подробности](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits))|
|Типы|Добавить деструктор|
|Участники|Изменение члена, ссылающегося на внедренный тип взаимодействия|
|Участники|Изменение статического члена после того, как он уже получил доступ путем выполнения кода|
|Члены (Visual Basic)|Изменение члена с помощью оператора On Error или Resume|
|Члены (Visual Basic)|Изменение элемента, содержащего предложение запроса LINQ, Group By, простое JOIN или Group Join|
|Методы|Изменение сигнатур|
|Методы|Сделать абстрактный метод неабстрактным, добавив тело метода|
|Методы|Удалить тело метода|
|Атрибуты|Добавить или изменить|
|События или свойства|Изменение параметра типа, базового типа, типа делегата или возвращаемого типа |
|Операторы или индексаторы|Изменение параметра типа, базового типа, типа делегата или возвращаемого типа |
|catch - блоки|Изменить, если он содержит активный оператор|
|блоки try-catch-finally|Изменить, если он содержит активный оператор|
|использование операторов|Add|
|асинхронные методы/лямбда-выражения|Изменение асинхронного метода или лямбда-выражения в проекте, ориентированном на .NET Framework 4 и ниже (см. [Подробности](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits))|
|Итераторы|Изменение итератора в проекте, ориентированном на .NET Framework 4 и ниже (см. [Подробности](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits))|

## <a name="unsafe-code"></a>Небезопасный код
 В отношении изменений небезопасного кода действуют те же ограничения, что и для безопасного кода, а также следующее дополнительное ограничение: Режим "изменить и продолжить" не поддерживает изменения в ненадежном коде, который выходит из метода, `stackalloc` содержащего оператор.

## <a name="unsupported-app-scenarios"></a>Неподдерживаемые сценарии приложений

Неподдерживаемые приложения и платформы включают ASP.NET 5, Silverlight 5 и Windows 8.1.

> [!NOTE]
> Поддерживаемые приложения включают в себя UWP в Windows 10, а также приложения для x86 и x64, предназначенные для .NET Framework 4,6 или более поздних версий (.NET Framework является только версией для настольных компьютеров).

## <a name="unsupported-scenarios"></a>Неподдерживаемые сценарии
 Режим "Изменить и продолжить" не доступен при следующих скриптах отладки:

- отладка в смешанном режиме (машинный код/управляемый код);

- отладка SQL;

- отладка дампа Dr. Watson;

- отладка вложенного приложения времени выполнения;

- Отладка приложения с помощью присоединения к процессу (**отладка > присоединить к процессу**) вместо запуска приложения с помощью команды **запустить** из меню **Отладка** .

- отладка оптимизированного кода;

- отладка старой версии кода после того, как новую версию не удалось собрать из-за ошибок сборки.

## <a name="see-also"></a>См. также
- [Режим "Изменить и продолжить" (Visual C#)](../debugger/edit-and-continue-visual-csharp.md)
- [Практическое руководство. Использование режима "Изменить и продолжить" (C#)](../debugger/how-to-use-edit-and-continue-csharp.md)