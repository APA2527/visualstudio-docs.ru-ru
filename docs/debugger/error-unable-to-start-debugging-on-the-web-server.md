---
title: 'Ошибка: не удается запустить отладку на веб-сервере | Документация Майкрософт'
ms.date: 05/23/2018
ms.topic: troubleshooting
f1_keywords:
- vs.debug.error.http
- vwd.nonadmin.error.
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- IIS, debugging DLLs
- debugger, Web application errors
- unable to start debugging error
- security [debugger], Web applications
- debugging [Visual Studio], errors
- HTTP servers, debugging error
- security settings, checking for default Web sites
- errors [debugger], unable to start debugging
- debugging ASP.NET Web applications, unable to start debugging error
- remote debugging, errors
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 706a20a00792e7c67b39535322fbd2530f2a2ad3
ms.sourcegitcommit: 8a96a65676fd7a2a03b0803d7eceae65f3fa142b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2019
ms.locfileid: "72588996"
---
# <a name="error-unable-to-start-debugging-on-the-web-server"></a>Ошибка. Не удается запустить отладку на веб-сервере

При попытке отладки приложения ASP.NET, работающего на веб-сервере, может появиться следующее сообщение об ошибке: `Unable to start debugging on the Web server`.

Часто эта ошибка возникает из-за ошибки или изменения конфигурации, требующего обновления пулов приложений, сброса IIS или и того и другого. Чтобы сбросить IIS, откройте командную строку с повышенными привилегиями и введите `iisreset`.

## <a name="specificerrors"></a>Что такое подробное сообщение об ошибке?

@No__t_0 сообщение является универсальным. Как правило, в строку ошибки входит более конкретное сообщение, которое может помочь определить причину проблемы или выполнить поиск более точного исправления. Ниже приведены некоторые из наиболее распространенных сообщений об ошибках, добавляемых к основному сообщению об ошибке.

- [IIS не содержит веб-сайт, соответствующий URL-адресу запуска](#IISlist)
- [Веб-сервер настроен неправильно](#web_server_config)
- [Не удалось подключиться к серверу](#unabletoconnect)
- [Веб-сервер не ответил своевременно](#webservertimeout)
- [Вероятно, монитор удаленной отладки Microsoft Visual Studio (msvsmon.exe) не запущен на удаленном компьютере](#msvsmon)
- [Удаленный сервер вернул ошибку](#server_error)
- [Не удалось запустить отладку ASP.NET](#aspnet)
- [Отладчику не удается подключиться к удаленному компьютеру](#cannot_connect)
- [Сведения об общих ошибках конфигурации см. в справке. Под управлением веб-страницы вне отладчика может предоставить дополнительные сведения.](#see_help)

## <a name="IISlist"></a>IIS не содержит веб-сайт, соответствующий URL-адресу запуска

- Перезапустите Visual Studio от имени администратора и повторите отладку. (Некоторые сценарии отладки ASP.NET требуют повышенных привилегий.)

    Можно настроить Visual Studio так, чтобы всегда запускаться от имени администратора, щелкнув правой кнопкой мыши значок ярлыка Visual Studio, выбрав пункт **свойства > дополнительно**и выбрав пункт всегда запускать от имени администратора.

## <a name="web_server_config"></a> Веб-сервер настроен неправильно

- См. [ошибку: веб-сервер настроен неправильно](../debugger/error-the-web-server-is-not-configured-correctly.md).

## <a name="unabletoconnect"></a>Не удалось подключиться к серверу

- Вы используете Visual Studio и веб-сервер на одном компьютере и выполняете отладку с помощью **F5** (вместо **присоединения к процессу**)? Откройте свойства проекта и убедитесь, что проект настроен для подключения к правильному веб-серверу и URL-адрес запуска. (Откройте **свойства > серверы и свойства веб->** **> отладки** в зависимости от типа проекта. Для проекта веб-форм откройте **страницы свойств > параметры запуска > сервере**.)

- В противном случае перезапустите пул приложений, а затем выполните сброс служб IIS. Дополнительные сведения см. [в разделе Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="webservertimeout"></a>Веб-сервер не ответил своевременно

- Сбросьте IIS и повторите отладку. К процессу IIS может быть подключено несколько экземпляров отладчика. Сброс завершает их работу. Дополнительные сведения см. [в разделе Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="msvsmon"></a> Вероятно, монитор удаленной отладки Microsoft Visual Studio (msvsmon.exe) не запущен на удаленном компьютере

- Если выполняется отладка на удаленном компьютере, убедитесь, что [установлен и работает удаленный отладчик](../debugger/remote-debugging.md). Если в сообщении упоминается брандмауэр, убедитесь, что открыты [правильные порты в брандмауэре](../debugger/remote-debugger-port-assignments.md) , особенно если используется брандмауэр стороннего производителя.
- Если вы используете файл HOSTs, убедитесь, что он настроен правильно. Например, если отладка выполняется с помощью **клавиши F5** (вместо **присоединения к процессу**), то файл hosts должен включать тот же URL-адрес проекта, что и в свойствах проекта, **свойства > серверы веб->** или **Свойства > отладки**, в зависимости от Тип проекта.

## <a name="server_error"></a>Удаленный сервер вернул ошибку

Проверьте [файл журнала IIS](https://support.microsoft.com/help/943891/the-http-status-code-in-iis-7-0--iis-7-5--and-iis-8-0) на наличие подкодов ошибок, а затем дополнительную информацию и эту [запись блога](https://blogs.iis.net/tomkmvp/troubleshoot-a-403)IIS 7.

Кроме того, ниже приведены некоторые распространенные коды ошибок и некоторые рекомендации.
- (403) Запрещено. Эта ошибка может быть вызвана многими причинами, поэтому проверьте файл журнала и параметры безопасности IIS для веб-сайта. Убедитесь, что файл Web. config сервера включает `debug=true` в элемент compilation. Убедитесь, что папка веб-приложения имеет необходимые разрешения и конфигурация пула приложений верна (пароль может быть изменен). См. раздел [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck). Если эти параметры уже верны и отладка выполняется локально, также убедитесь, что вы подключаетесь к правильному типу сервера и URL-адресу (в **свойствах > серверы веб->** или **Свойства > отладки**в зависимости от типа проекта).
- (503) Сервер недоступен. Возможно, пул приложений был остановлен из-за ошибки или изменения конфигурации. Перезапустите пул приложений.
- (404) Не найдено. Убедитесь, что для пула приложений настроена правильная версия ASP.NET.

## <a name="aspnet"></a>Не удалось запустить отладку ASP.NET

- Перезапустите пул приложений и сбросьте IIS. Дополнительные сведения см. [в разделе Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).
- При выполнении перезаписи URL-адресов протестируйте базовый файл Web. config без перезаписи URL-адресов. См. **Примечание** о модуле переопределения URL-адресов в разделе [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="cannot_connect"></a>Отладчику не удается подключиться к удаленному компьютеру

Если отладка выполняется локально, откройте свойства проекта в Visual Studio и убедитесь, что проект настроен для подключения к правильному веб-серверу и URL-адресу. (Откройте **свойства > серверы и свойства веб->** **> отладки** в зависимости от типа проекта.)

Эта ошибка может возникнуть при локальной отладке, поскольку Visual Studio является 32-битным приложением, поэтому для отладки 64-разрядных приложений используется 64-разрядная версия удаленного отладчика. Проверьте пул приложений в IIS и убедитесь, что для параметра **разрешить 32-разрядные приложения** задано значение `true`, ПЕРЕЗАПУСТИТЕ службы IIS и повторите попытку.

Кроме того, если вы используете файл HOSTs, убедитесь, что он настроен правильно. Например, файл HOSTs должен включать тот же URL-адрес проекта, что и в свойствах проекта, **свойства > серверы веб->** или **Свойства > отладки**в зависимости от типа проекта.

## <a name="see_help"></a> Сведения об общих ошибках конфигурации см. в справке. Запуск веб-страницы за пределами отладчика может предоставить дополнительные сведения.

- Вы используете Visual Studio и веб-сервер на одном компьютере? Откройте свойства проекта и убедитесь, что проект настроен для подключения к правильному веб-серверу и URL-адрес запуска. (Откройте **свойства > серверы и свойства веб->** **> отладки** в зависимости от типа проекта.)

- Если это не сработает или вы выполняете отладку удаленно, выполните действия, описанные в разделе [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="vxtbshttpservererrorsthingstocheck"></a>Проверка конфигурации IIS

После выполнения описанных здесь шагов для устранения проблемы и перед повторной попыткой отладки может также потребоваться сброс IIS. Это можно сделать, открыв командную строку с повышенными привилегиями и введя `iisreset`.

* Закройте и перезапустите пулы приложений IIS, а затем повторите попытку.

    Возможно, пул приложений был остановлен в результате ошибки. Кроме того, для другого изменения конфигурации может потребоваться перезапустить пул приложений.

    > [!NOTE]
    > Если пул приложений останавливается, может потребоваться удалить модуль переопределения URL-адресов с помощью панели управления. Его можно переустановить с помощью установщика веб-платформы (установщик). Эта проблема может возникать после значительного обновления системы.

* Проверьте конфигурацию пула приложений, исправьте ее при необходимости и повторите попытку.

    Пул приложений может быть настроен для версии ASP.NET, которая не соответствует проекту Visual Studio. Обновите версию ASP.NET в пуле приложений и перезапустите ее. Подробные сведения см. в статье [IIS 8,0 с использованием ASP.NET 3,5 и ASP.NET 4,5](/iis/get-started/whats-new-in-iis-8/iis-80-using-aspnet-35-and-aspnet-45).

    Кроме того, если учетные данные пароля изменились, может потребоваться обновить их в пуле приложений или на веб-сайте.  В пуле приложений обновите учетные данные в **дополнительных параметрах > модель процессов > удостоверение**. Для веб-сайта обновите учетные данные в области **Основные параметры > подключиться как.** ... Перезапустите пул приложений.

* Убедитесь, что папка веб-приложения имеет нужные разрешения.

    Убедитесь, что вы предоставляете IIS_IUSRS, IUSR или конкретный пользователь, связанный с правами на чтение и выполнение [пула приложений](/iis/manage/configuring-security/application-pool-identities) для папки веб-приложения. Устраните проблему и перезапустите пул приложений.

* Убедитесь, что на сервере IIS установлена правильная версия ASP.NET.

    Эта проблема может быть вызвана несовпадением версий ASP.NET в службах IIS и проекта Visual Studio. Может потребоваться задать версию платформы в файле Web. config. Чтобы установить ASP.NET на IIS, используйте [установщик веб-платформы](https://www.microsoft.com/web/downloads/platform.aspx). См. также раздел [IIS 8,0 с использованием ASP.NET 3,5 и ASP.NET 4,5](/iis/get-started/whats-new-in-iis-8/iis-80-using-aspnet-35-and-aspnet-45) или, для ASP.NET Core [размещение в Windows со службами IIS](https://docs.asp.net/en/latest/publishing/iis.html).

* Устраните ошибки проверки подлинности, если используется только IP-адрес

     По умолчанию предполагается, что IP-адреса являются частью Интернет-зоны, и проверка подлинности NTLM для них не выполняется. Если веб-сайт настроен в службах IIS для обязательной проверки подлинности, эта проверка подлинности завершается ошибкой. Чтобы устранить эту проблему, можно указать имя удаленного компьютера вместо IP-адреса.

## <a name="other-causes"></a>Другие причины

Если конфигурация IIS не вызывает проблемы, попробуйте выполнить следующие действия.

- Перезапустите Visual Studio с правами администратора и повторите попытку.

    Некоторые сценарии отладки ASP.NET, такие как использование веб-развертывание требуют повышенных привилегий для Visual Studio.

- Если выполняется несколько экземпляров Visual Studio, повторно откройте проект в одном экземпляре Visual Studio (с правами администратора) и повторите попытку.

- Если вы используете файл HOSTs с локальными адресами, попробуйте использовать петлевой адрес вместо IP-адреса компьютера.

    Если вы не используете локальные адреса, убедитесь, что файл HOSTs содержит тот же URL-адрес проекта, что и в свойствах проекта, **свойства > серверы веб->** или **Свойства > отладки**в зависимости от типа проекта.

## <a name="more-troubleshooting-steps"></a>Дополнительные действия по устранению неполадок

* Откройте страницу localhost в браузере на сервере.

     Если службы IIS не установлены правильно, должны отобразиться ошибки при вводе `http://localhost` в браузере.

     Дополнительные сведения о развертывании служб IIS см. в статьях [iis 8,0 с использованием ASP.NET 3,5 и ASP.NET 4,5](/iis/get-started/whats-new-in-iis-8/iis-80-using-aspnet-35-and-aspnet-45) и, для ASP.NET Core, для [размещения в Windows со службами IIS](https://docs.asp.net/en/latest/publishing/iis.html).

* Создайте базовое приложение ASP.NET на сервере (или используйте базовый файл Web. config).

    Если вы не можете заставить приложение работать с отладчиком, попробуйте создать базовое приложение ASP.NET локально на сервере и попытайтесь выполнить отладку базового приложения. (Может потребоваться использовать шаблон MVC ASP.NET по умолчанию.) Если вы можете выполнить отладку базового приложения, это может помочь в определении различий между двумя конфигурациями. Найдите различия в параметрах в файле Web. config, например правила переопределения URL-адресов.

## <a name="see-also"></a>См. также раздел
- [Отладка веб-приложений: ошибки и устранение неполадок](../debugger/debugging-web-applications-errors-and-troubleshooting.md)
