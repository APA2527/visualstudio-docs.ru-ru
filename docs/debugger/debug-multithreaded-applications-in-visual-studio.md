---
title: Отладка многопоточных приложений | Документация Майкрософт
ms.custom: seodec18
ms.date: 11/06/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.gputthreads
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- threading [Visual Studio], debugging
- debugging [Visual Studio], high-performance computing
- debugging [Visual Studio], multithreaded
- multithreaded debugging
- high-performance debugging
ms.assetid: 9d175bc2-1d95-4c47-9bc3-9755af968a9c
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 668e95c340348eeb1fa509622aa44d99b65b6efc
ms.sourcegitcommit: 485ffaedb1ade71490f11cf05962add1718945cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2019
ms.locfileid: "72431803"
---
# <a name="debug-multithreaded-applications-in-visual-studio"></a>Отладка многопоточных приложений в Visual Studio
Поток — это последовательность инструкций, до которой операционная система предоставляет процессорное время. Каждый процесс, выполняющийся в операционной системе, состоит по крайней мере из одного потока. Процессы, имеющие более одного потока, называются многопоточными.

Компьютеры с несколькими процессорами, многоядерными процессорами или процессами Hyper-Threading могут выполнять несколько одновременных потоков. Параллельная обработка с использованием многих потоков может значительно повысить производительность программы, но она также может усложнить отладку, так как вы отслеживаете много потоков.

Многопоточность может привести к новым типам потенциальных ошибок. Например, двум или более потокам может потребоваться доступ к одному и тому же ресурсу, но только один поток за раз может безопасно получить доступ к ресурсу. Для обеспечения доступа к ресурсу в любой момент времени необходим некоторый способ взаимного исключения. Если взаимное исключение реализовано неверно, оно может создать условие *взаимоблокировки* , в котором не будет выполняться ни один поток. Взаимоблокировки часто являются сложной проблемой для отладки.

## <a name="tools-for-debugging-multithreaded-apps"></a>Средства для отладки многопоточных приложений

Visual Studio предоставляет различные средства для отладки многопоточных приложений.

- Для потоков основное средство отладки потоков — это окно **потоков** , маркеры потоков в окнах исходного кода, окно **параллельных стеков** , окно **параллельных значений** и панель инструментов **место отладки** . Дополнительные сведения о **потоков** окна и **место отладки** инструментов см. в разделе [Пошаговое руководство: Отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md). Сведения об использовании **параллельных стеков** и окон с **параллельным просмотром** см. в статье Приступая к [отладке многопоточного приложения](../debugger/get-started-debugging-multithreaded-apps.md). В обоих разделах показано, как использовать маркеры потоков.

- Для кода, использующего [библиотеку параллельных задач (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl) или [Среда выполнения с параллелизмом](/cpp/parallel/concrt/concurrency-runtime/), основные средства для отладки — это окно **параллельных стеков** , окно **параллельных значений** и окно **задачи** , которое также поддерживает Скриптов. Чтобы приступить к работе, см. раздел Пошаговое [руководство. Отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md) и [Пошаговое руководство. Отладка приложения C++ amp](/cpp/parallel/amp/walkthrough-debugging-a-cpp-amp-application).

- Для отладки потоков на GPU основным средством является окно **потоков GPU** . См. раздел [как использовать окно "потоки GPU"](../debugger/how-to-use-the-gpu-threads-window.md).

- Для процессов основными средствами являются диалоговые окна **Присоединение к процессу** , окно **Процессы** и панель инструментов **место отладки** .

Visual Studio также предоставляет эффективные точки останова и точки трассировки, которые могут быть полезны при отладке многопоточных приложений. Используйте условия и фильтры точки останова для размещения точек останова в отдельных потоках. Точки трассировки позволяют отслеживать выполнение программы без нарушения работы для изучения таких проблем, как взаимоблокировки. Дополнительные сведения см. в разделе [действия точек останова и точки трассировки](../debugger/using-breakpoints.md#BKMK_Print_to_the_Output_window_with_tracepoints).

Отладка многопоточного приложения, которое имеет пользовательский интерфейс, может быть особенно сложной. Вы можете запустить приложение на другом компьютере и использовать удаленную отладку. Дополнительные сведения см. в разделе [Удаленная отладка](../debugger/remote-debugging.md).

## <a name="articles-about-debugging-multithreaded-apps"></a>Статьи об отладке многопоточных приложений

 [Приступая к отладке многопоточного приложения](../debugger/get-started-debugging-multithreaded-apps.md)

Обзор функций отладки потоков, выделяя функции в окне **Параллельные стеки** и в окне **контроль параллельных** данных.

 [Средства для отладки потоков и процессов](../debugger/debug-threads-and-processes.md)

Содержит список функций средств для отладки потоков и процессов.

 [Отладка нескольких процессов](../debugger/debug-multiple-processes.md)

Поясняет принципы отладки нескольких процессов.

 [Пошаговое руководство. Отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md).

Пошаговое руководство, в котором показано, как использовать окно " **потоки** " и панель инструментов " **место отладки** ".

 [Пошаговое руководство. Отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md)

Пошаговое руководство, в котором показано, как использовать окна **параллельных стеков** и **задач** .

 [Практическое руководство. Переключение на другой поток при отладке](../debugger/how-to-switch-to-another-thread-while-debugging.md)

Несколько способов переключить контекст отладки на другой поток.

 [Практическое руководство. Установка и снятие отметки для потока](../debugger/how-to-flag-and-unflag-threads.md)

Пометка флагом потоков, которым нужно уделить особое внимание на время отладки.

 [Практическое руководство. Отладка в высокопроизводительном кластере](../debugger/how-to-debug-on-a-high-performance-cluster.md)

Методы отладки приложения, запущенного на высокопроизводительном кластере.

 [Советы по отладке потоков в машинном коде](../debugger/tips-for-debugging-threads-in-native-code.md)

Простые методы, которые могут быть полезны для отладки потока машинного кода.

 [Практическое руководство. Установка имени потока в машинном коде](../debugger/how-to-set-a-thread-name-in-native-code.md)

Дайте потоку имя, которое будет отображаться в окне **Потоки**.

 [Практическое руководство. Установка имени потока в управляемом коде](../debugger/how-to-set-a-thread-name-in-managed-code.md)

Дайте потоку имя, которое будет отображаться в окне **Потоки**.

## <a name="see-also"></a>См. также

- [Использование точек останова](../debugger/using-breakpoints.md)
- [Работа с потоками](/dotnet/standard/threading/index)
- [Многопоточность в компонентах](https://msdn.microsoft.com/Library/2fc31e68-fb71-4544-b654-0ce720478779)
- [Поддержка многопоточности для старого кода](/cpp/parallel/multithreading-support-for-older-code-visual-cpp)
- [Отладка потоков и процессов](../debugger/debug-threads-and-processes.md)
- [Удаленная отладка](../debugger/remote-debugging.md)