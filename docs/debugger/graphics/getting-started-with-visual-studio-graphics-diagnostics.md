---
title: Приступая к работе с диагностикой графики | Документация Майкрософт
ms.custom: seodec18
ms.date: 05/26/2017
ms.topic: conceptual
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 4fc7dd207a525eaed12db1b2e45e7720d96ee8b6
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63388702"
---
# <a name="getting-started-with-visual-studio-graphics-diagnostics"></a>Начало работы с диагностикой графики Visual Studio
В этом разделе вы подготовитесь к первому использованию диагностики графики, а затем запишите кадры из приложения Direct3D и проверите их в анализаторе графики.

## <a name="requirements"></a>Требования
 Чтобы использовать диагностику графики в Visual Studio, необходимо использовать Visual Studio Enterprise, Visual Studio Professional или Visual Studio Community.  Эта функция не содержат другие выпуски, включая Visual Studio Code.

 [!INCLUDE[downloadvs](../includes/downloadvs_md.md)]

### <a name="windows-10-prerequisites"></a>Необходимые компоненты для Windows 10
 Необязательный компонент Windows *Графические инструменты* предоставляет инфраструктуру записи и воспроизведения, которая необходима для диагностики графики в Windows 10.

 Сведения об установке графических инструментов см. в разделе [Установка графических инструментов для Windows 10](#InstallGraphicsTools).

## <a name="InstallGraphicsTools"></a> Установка графических инструментов для Windows 10
 В Windows 10 инфраструктура диагностики графики предоставляется дополнительным компонентом Windows, который называется *Графические инструменты*. Данный компонент необходим для записи и воспроизведения графической информации в Windows 10 независимо от того, производится ли запись для приложения, настроенного на предыдущую версию Windows, и какую версию Direct3D оно использует. Вы можете установить компонент графических инструментов заранее; в противном случае он будет установлен по требованию при первом запуске сеанса диагностики графики из Visual Studio.

#### <a name="to-install-graphics-tools-for-windows-10"></a>Установка графических инструментов для Windows 10

1. В поле поиска введите **программы и компоненты** и откройте **приложения и возможности** параметры.

2. В правой части **приложения и возможности** диалоговом окне выберите **управление дополнительными компонентами** (в разделе **приложения и возможности**).

   Отображается диалоговое окно **Управление дополнительными компонентами**.

3. В диалоговом окне **Управление дополнительными компонентами** выберите элемент **Добавить компонент**. Появится список дополнительных компонентов, которые можно установить.

4. Выберите **Графические инструменты** в списке компонентов, а затем нажмите кнопку **Установить**.

   Компонент графических инструментов также устанавливается автоматически при установке пакета SDK для Windows 10.

> [!TIP]
> Дополнительный компонент графических инструментов Windows 10 предоставляет упрощенные возможности записи и воспроизведения, например программу командной строки для захвата **dxcap.exe**, которые можно использовать в сценариях поддержки, тестирования и диагностики на компьютерах, где не установлены инструменты разработчика. Дополнительные сведения — в разделе [Программа командной строки для захвата](command-line-capture-tool.md).

## <a name="using-graphics-diagnostics-for-the-first-time"></a>Использование диагностики графики в первый раз
 Теперь, когда у вас есть все необходимое, можно приступать к использованию диагностики графики. Выполните следующие действия.

### <a name="1---create-a-direct3d-app"></a>1 Создание приложения Direct3D
 Если у вас уже есть собственное приложение Direct3D для изучения диагностики графики, отлично! В противном случае используйте одно из следующих:

- **Приложение DirectX 11 (универсальные Windows)** или **приложение DirectX 12 (универсальной Windows)** шаблоны проектов для Windows 10.
- [Образцом Direct3D 12 UAP](https://code.msdn.microsoft.com/Direct3D-12-UAP-Sample-ecb1779f) для Windows 10.

  Прежде чем продолжить убедитесь, что можете выполнить сборку приложения.

### <a name="2---start-a-graphics-diagnostics-session"></a>2 Запуск сеанса диагностики графики
 Теперь все готово для запуска первого сеанса диагностики графики. В Visual Studio в главном меню выберите **отладка, графика, начать отладку графики**, или просто нажмите **Alt + F5**. При этом ваше приложение запускается в режиме диагностики графики и отображаются окна сеанса диагностики в Visual Studio.

> [!IMPORTANT]
> Если приложение запускается в Windows 10 и еще не был установлен дополнительный компонент графических инструментов, вам будет предложено сделать это. Необходимо установить этот компонент, прежде чем можно будет использовать диагностику графики в Windows 10.

### <a name="3---capture-frames"></a>3 Запись кадров
 Вы можете записывать кадры сразу после запуска приложения.

#### <a name="to-capture-single-frames"></a>Запись отдельных кадров

- В Visual Studio на панели инструментов графики или в окне сеанса диагностики нажмите кнопку **Записать кадр**. Или, если ваше приложение имеет фокус, просто нажмите клавиши **Print Screen** на клавиатуре.

#### <a name="to-capture-a-sequence-of-frames"></a>Запись последовательности кадров

- В Visual Studio в окне сеанса диагностики установите для параметра **Захватываемые кадры** число кадров для записи в последовательности, а затем запишите последовательность с помощью любого из методов, описанных выше для отдельных кадров.

   Чтобы снова записывать отдельные кадры, задайте для параметра **Захватываемые кадры** значение *1*.

  После завершения записи кадров просто выйдите из приложения или нажмите кнопку **Остановить** на панели графики или в окне сеанса диагностики.

### <a name="4---examine-captured-frames-in-the-graphics-analyzer"></a>4. Проверка записанных кадров в анализаторе графики
 Теперь все готово для анализа полученных кадров. Чтобы начать анализ кадра, выберите номер соответствующего кадра в окне сеанса диагностики. При этом кадр открывается в **анализаторе графики**, где можно использовать инструменты диагностики графики, чтобы проанализировать использование Direct3D приложением для отслеживания проблем отрисовки, или применить инструмент **Анализ кадра**, чтобы получить представление о производительности приложения.

 Если вы выбрали неверный кадр в окне сеанса диагностики или вы хотите проанализировать другой кадр, можно выбрать новый кадр в анализаторе графики. На вкладке **Целевой объект отрисовки** окна журнала графики в области образа цели отрисовки разверните **Список кадров** и выберите другой кадр для изучения.

 Дополнительные сведения о том, как совместное использование инструментов анализа графики, см. в разделе [примеры](graphics-diagnostics-examples.md).

## <a name="see-also"></a>См. также
- [Графика Direct3D 12](/windows/desktop/direct3d12/direct3d-12-graphics)