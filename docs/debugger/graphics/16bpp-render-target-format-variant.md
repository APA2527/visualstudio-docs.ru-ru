---
title: Вариант формата отображения глубиной цвета 16 бит | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 24b22ad9-5ad0-4161-809a-9b518eb924bf
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 94775b717a3095d54d3fa52e3d2a5325dc3d21c5
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62896427"
---
# <a name="16-bpp-render-target-format-variant"></a>16 бит отрисовки вариант формата
Для всех целевых объектов отрисовки и буферов фона задается формат пикселей DXGI_FORMAT_B5G6R5_UNORM.

## <a name="interpretation"></a>Интерпретация
 Целевой объект отрисовки или буфера фона обычно используется в формат 32 bpp (32 бита на пиксель), например B8G8R8A8_UNORM. форматы 32 bpp может использовать большой объем памяти, пропускной способности. Так как формат B5G6R5_UNORM имеет размер 32 bpp форматы формат 16 бит, с его помощью можно уменьшить нагрузку на пропускную способность памяти, но за счет снижения точности цветовоспроизведения.

 Если этот вариант дает значительный прирост производительности, это с большой вероятностью указывает на то, что приложение потребляет слишком много пропускной способности памяти. Позволяет получить значительного выигрыша в производительности, особенно в том случае, если кадре бы значительное количество перекрытий и альфа смешения.

Формат целевого объекта отрисовки 16 бит можно уменьшить памяти аппаратного контроллера управления с использованием ресурсов, когда у приложения есть следующие условия:
- Не требует высокой точности цветовоспроизведения.
- Не требует наличия альфа-канала.
- Нет ofent плавных градиентов (которые подвержены чередования артефактов в снижения точности цветовоспроизведения).

Другие стратегии для снижения пропускной способности памяти, включают:
- Уменьшите количество перекрытий и альфа смешения.
- Уменьшите размеры буфера кадров.
- Уменьшите размеры текстурными ресурсами.
- Уменьшите число сжатия текстур ресурсов.

Как обычно, необходимо учитывать потери в плане качества изображения, связанные с этими оптимизациями.

Приложения, которые являются частью цепочки буферов имеют задний буфер формат (DXGI_FORMAT_B5G6R5_UNORM), который не поддерживает 16 бит. Эти цепочек буферов, созданных с помощью `D3D11CreateDeviceAndSwapChain` или `IDXGIFactory::CreateSwapChain`. Чтобы обойти это ограничение, выполните следующие действия:
1. Создать целевой объект отрисовки формата B5G6R5_UNORM с помощью `CreateTexture2D` и подготовки к этому объекту.
2. Скопируйте целевой объект отрисовки в буфера фона цепочки буферов, нарисовав полноэкранный квадрант с целевым объектом отрисовки качестве исходной текстуры.
3. Вызовите Present для цепочки буферов.

   Если эта стратегия сохраняет большую пропускную способность, чем потребляется при копировании целевого объекта отрисовки для буфера фона цепочки буферов, повышается производительность отрисовки.

   Архитектуры GPU, использующие методы отрисовки можно увидеть значительные преимущества в производительности с помощью формата буфера кадров 16 бит. Это улучшение — так как большая часть буфера кадров может поместиться в буферном кэше локального кадров каждой плитки. Архитектуры с плиточной отрисовкой иногда встречаются в GPU для мобильных телефонов и планшетов. За пределами этого сегмента они практически не применяются.

## <a name="remarks"></a>Примечания
 Формат целевого объекта отрисовки DXGI_FORMAT_B5G6R5_UNORM устанавливается при каждом вызове метода `ID3D11Device::CreateTexture2D`, который создает целевой объект отрисовки. В частности, формат переопределяется, когда объект D3D11_TEXTURE2D_DESC, передаваемый в параметре pDesc, описывает целевой объект отрисовки, то есть:

- Для члена BindFlags установлен флаг D3D11_BIND_REDNER_TARGET.

- Для члена BindFlags снят флаг D3D11_BIND_DEPTH_STENCIL.

- Для члена Usage установлен флаг D3D11_USAGE_DEFAULT.

## <a name="restrictions-and-limitations"></a>Ограничения
 Так как формат B5G6R5 не имеет альфа-канала, альфа-содержимое не сохраняется при использовании этого варианта. Если приложение требует наличия альфа-канала в целевом объекте отрисовки, можно переключиться на формат B5G6R5.

## <a name="example"></a>Пример
 **16 бит формат целевого объекта отрисовки** можно воспроизвести для целевых объектов отрисовки, созданных с помощью `CreateTexture2D` с помощью следующего кода:

```cpp
D3D11_TEXTURE2D_DESC target_description;

target_description.BindFlags = D3D11_BIND_RENDER_TARGET;
target_description.Format = DXGI_FORMAT_B5G6R5_UNORM;
d3d_device->CreateTexture2D(&target_description, nullptr, &render_target);
```
