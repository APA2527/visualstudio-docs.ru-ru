---
title: Вариант формата целевого объекта прорисовки однобуферной | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 24b22ad9-5ad0-4161-809a-9b518eb924bf
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8a63261a4ef8a6304bec8c2bdde1d9ec9113405e
ms.sourcegitcommit: 8530d15aa72fe058ee3a3b4714c36b8638f8b494
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/19/2019
ms.locfileid: "74188592"
---
# <a name="16-bpp-render-target-format-variant"></a>Вариант формата целевого объекта прорисовки 16 бит
Для всех целевых объектов отрисовки и буферов фона задается формат пикселей DXGI_FORMAT_B5G6R5_UNORM.

## <a name="interpretation"></a>Интерпретация
 Целевой объект прорисовки или задний буфер обычно использует формат 32 бит/с (32 бит на пиксель), например B8G8R8A8_UNORM. 32-в некоторых форматах может использоваться большой объем пропускной способности памяти. Так как формат B5G6R5_UNORM представляет собой 16-бит в формате размером в 32 бит/с, его использование может снизить нагрузку на полосу пропускания памяти, но за счет снижения точности цвета.

 Если этот вариант дает значительный прирост производительности, это с большой вероятностью указывает на то, что приложение потребляет слишком много пропускной способности памяти. Можно значительно повысить производительность, особенно если профилированный кадр имеет значительный объем перерисовки или альфа-смешение.

Формат целевого объекта прорисовки размером 16 бит позволяет сократить объем памяти при использовании в приложении следующих условий.
- Не требует воспроизведения цвета высокого качества.
- Альфа-канал не требуется.
- Зачастую не имеют гладких градиентов (которые уязвимы для артефактов с чередованием при снижении точности цвета).

Ниже приведены другие стратегии уменьшения пропускной способности памяти.
- Уменьшите объем перерисовки или альфа-смешение.
- Уменьшите размеры буфера кадров.
- Уменьшите размеры текстурных ресурсов.
- Уменьшите степень сжатия текстурных ресурсов.

Как обычно, необходимо учитывать потери в плане качества изображения, связанные с этими оптимизациями.

Приложения, которые являются частью цепочки буферов, имеют формат заднего буфера (DXGI_FORMAT_B5G6R5_UNORM), который не поддерживает 16 бит/с. Эти цепочки подкачки создаются с помощью `D3D11CreateDeviceAndSwapChain` или `IDXGIFactory::CreateSwapChain`. Чтобы обойти это ограничение, выполните следующие действия.
1. Создайте целевой объект рендеринга B5G6R5_UNORM, используя `CreateTexture2D` и отрисовывается в этом целевом объекте.
2. Скопируйте целевой объект рендеринга в задний буфер цепочки подкачки путем рисования всего экрана четыре с целью прорисовки в качестве исходной текстуры.
3. Вызов в цепочке буферов.

   Если эта стратегия экономит больше пропускной способности, чем потребляется путем копирования целевого объекта рендеринга в задний буфер цепочки подкачки, производительность отрисовки увеличивается.

   Архитектуры GPU, использующие методы мозаичной визуализации, могут существенно повысить производительность, используя формат буфера кадров 16 бит. Это улучшение связано с тем, что большая часть буфера фрейма может помещаться в кэш-буфер локальной рамки каждого элемента. Архитектуры с плиточной отрисовкой иногда встречаются в GPU для мобильных телефонов и планшетов. За пределами этого сегмента они практически не применяются.

## <a name="remarks"></a>Заметки
 Формат целевого объекта отрисовки DXGI_FORMAT_B5G6R5_UNORM устанавливается при каждом вызове метода `ID3D11Device::CreateTexture2D`, который создает целевой объект отрисовки. В частности, формат переопределяется, когда объект D3D11_TEXTURE2D_DESC, передаваемый в параметре pDesc, описывает целевой объект отрисовки, то есть:

- Для члена BindFlags установлен флаг D3D11_BIND_REDNER_TARGET.

- Для члена BindFlags снят флаг D3D11_BIND_DEPTH_STENCIL.

- Для члена Usage установлен флаг D3D11_USAGE_DEFAULT.

## <a name="restrictions-and-limitations"></a>Ограничения
 Так как формат B5G6R5 не имеет альфа-канала, альфа-содержимое не сохраняется при использовании этого варианта. Если приложение требует наличия альфа-канала в целевом объекте отрисовки, можно переключиться на формат B5G6R5.

## <a name="example"></a>Пример
 Вариант **формата целевого объекта визуализации размером 16 бит** можно воспроизвести для целевых объектов прорисовки, созданных с помощью `CreateTexture2D`, с помощью следующего кода:

```cpp
D3D11_TEXTURE2D_DESC target_description;

target_description.BindFlags = D3D11_BIND_RENDER_TARGET;
target_description.Format = DXGI_FORMAT_B5G6R5_UNORM;
d3d_device->CreateTexture2D(&target_description, nullptr, &render_target);
```
