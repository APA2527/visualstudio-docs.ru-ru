---
title: Проверить значения переменных - окнах "Видимые" и "Локальные" | Документация Майкрософт
ms.custom: seodec18
ms.date: 10/18/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.autos
- vs.debug.locals
helpviewer_keywords:
- debugger, variable windows
- debugging [Visual Studio], variable windows
ms.assetid: bb6291e1-596d-4af0-9f22-5fd713d6b84b
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 60bb98644c1905b030176b28b97575b379bed38d
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62564584"
---
# <a name="inspect-variables-in-the-autos-and-locals-windows"></a>Проверить значения переменных в окнах "Видимые" и "Локальные"

**"Видимые"** и **"Локальные"** windows отображение значений переменных при отладке. Windows доступны только во время сеанса отладки. **"Видимые"** окне отображаются переменные, используемые вокруг текущей точкой останова. **"Локальные"** окне отображаются переменные, определенные в локальной области, которой обычно является текущей функции или метода. Если это в первый раз, которое вы пытались пройти отлаживать код, вы можете прочитать [отладки для начинающих](../debugger/debugging-absolute-beginners.md) и [методик и средств отладки](../debugger/write-better-code-with-visual-studio.md) прежде чем приступить к этой статье.

 **"Видимые"** окно доступно для C#, код Visual Basic, C++ и Python, но не для JavaScript или F#.

Чтобы открыть **"Видимые"** окне во время отладки, выберите **Отладка** > **Windows** > **"Видимые"**, или нажмите сочетание клавиш **Ctrl**+**Alt**+**V** > **объект**.

Чтобы открыть **"Локальные"** окне во время отладки, выберите **Отладка** > **Windows** > **"Локальные"**, или нажмите сочетание клавиш **Alt**+**4**.

> [!NOTE]
> Этот раздел относится к Visual Studio в Windows. Visual Studio для Mac см. в разделе [визуализации данных в Visual Studio для Mac](/visualstudio/mac/data-visualizations).

## <a name="use-the-autos-and-locals-windows"></a>Использование окна "Видимые" и "Локальные"

Массивы и объекты отображаются в **"Видимые"** и **"Локальные"** windows как дерево элементов управления. Щелкните стрелку слева от имени переменной, чтобы развернуть представление для отображения полей и свойств. Ниже приведен пример <xref:System.IO.FileStream?displayProperty=fullName> объекта в **"Локальные"** окна:

![Локальные переменные FileStream](../debugger/media/locals-filestream.png "FileStream \"Локальные\"")

Значение красного в **"Локальные"** или **"Видимые"** окно означает, что значение изменилось после последней оценки. Изменение может быть из предыдущего сеанса отладки, или из-за изменения в окне значение.

По умолчанию в окнах отладчика используется десятичный числовой формат. Чтобы изменить его Шестнадцатеричный вывод, щелкните правой кнопкой мыши в **"Локальные"** или **"Видимые"** и выберите **Шестнадцатеричный вывод**. Это изменение затрагивает все окна отладчика.

## <a name="edit-variable-values-in-the-autos-or-locals-window"></a>Изменить значения переменных в окне "Видимые" и "Локальные"

Для изменения значений большинства переменных в **"Видимые"** или **"Локальные"** windows, дважды щелкните параметр и введите новое значение.

В качестве значения можно ввести выражение, например `a + b`. Отладчик принимает большинство допустимых выражений языка.

При работе с машинным кодом C++ может потребоваться определить контекст имени переменной. Дополнительные сведения см. в разделе [Оператор контекста (C++)](../debugger/context-operator-cpp.md).

>[!CAUTION]
>Убедитесь, что понимаете последствия перед изменением значений и выражений. Ниже приведены некоторые из возможных причин.
>
>- Вычисление некоторых выражений может привести к изменению значения некоторой переменной или иным образом повлиять на состояние программы. Например, вычисление `var1 = ++var2` изменяет значение обоих `var1` и `var2`. Эти выражения — это [побочные эффекты](https://en.wikipedia.org/wiki/Side_effect_\(computer_science\)). Побочные эффекты могут привести к непредвиденным результатам, если вы не знаете о них.
>
>- Изменение значений с плавающей запятой может привести к незначительной погрешности, связанной с преобразованием дробных компонентов из десятичной формы в двоичную. Даже внешне кажущееся безвредным редактирование может привести к изменения некоторых битов в переменной с плавающей запятой.

::: moniker range=">= vs-2019" 
## <a name="search-in-the-autos-or-locals-window"></a>Поиск в окне "Видимые" и "Локальные"

Можно выполнить поиск ключевых слов в имя, значение и тип столбцов **"Видимые"** или **"Локальные"** окна с помощью панели поиска выше каждое окно. Нажмите клавишу ВВОД или выберите одну из стрелок, чтобы выполнить поиск. Чтобы отменить производится поиск, выберите значок «x» в строке поиска.

Используйте кнопки со стрелками влево и вправо (Shift + F3 и F3, соответственно) для перехода между найдено совпадений.

![Поиск в окне "Локальные"](../debugger/media/ee-search-locals.png "поиска в окне \"Локальные\"")

Чтобы сделать поиск более или менее тщательной используйте **глубокого поиска** раскрывающийся список в верхней части **"Видимые"** или **"Локальные"** окно для выбора число уровней вложенности, который необходимо найти в вложенные объекты. 

::: moniker-end

## <a name="change-the-context-for-the-autos-or-locals-window"></a>Изменение контекста окна "Видимые" или "Локальные"

Можно использовать **место отладки** инструментов для выбора нужной функции, потока или процесса, который изменяет контекст для **"Видимые"** и **"Локальные"** windows.

Чтобы включить **место отладки** панели инструментов, щелкните в пустой области панели инструментов и выберите **место отладки** из раскрывающегося списка или выберите **представление**  >   **Панели инструментов** > **место отладки**.

Задайте точку останова и начните отладку. При достижении точки останова выполнение приостанавливается, где можно увидеть расположение в **место отладки** панели инструментов.

![Расположение панели отладки](../debugger/media/debuglocationtoolbar.png "инструментов Место отладки")

## <a name="bkmk_whatvariables"></a> Переменные в окне "Видимые" (C#, C++, Visual Basic, Python)

Других языков программирования отображать различные переменные в **"Видимые"** окна.

- При использовании C# или Visual Basic в окне **Видимые** отображаются все переменные, используемые в текущей или предыдущей строках. Например, в C# или Visual Basic кода, объявите следующие четыре переменные:

   ```csharp
       public static void Main()
       {
          int a, b, c, d;
          a = 1;
          b = 2;
          c = 3;
          d = 4;
       }
   ```

   Установите точку останова на строке `c = 3;`, и запустите отладчик. Когда выполнение приостанавливается, **"Видимые"** окне будут отображаться:

   ![Видимые CSharp](../debugger/media/autos-csharp.png "CSharp \"Видимые\"")

   Значение `c` равно 0, так как строки `c = 3` еще не была выполнена.

- В C++ **"Видимые"** окне отображаются переменные, используемые в по крайней мере в трех строках до текущей строки, где выполнение приостановлено. Например в коде C++ объявили шесть переменных:

   ```C++
       void main() {
           int a, b, c, d, e, f;
           a = 1;
           b = 2;
           c = 3;
           d = 4;
           e = 5;
           f = 6;
       }
   ```

    Установите точку останова на строке `e = 5;` и запустить отладчик. Когда выполнение остановится, **"Видимые"** окне будут отображаться:

    ![Видимые C++](../debugger/media/autos-cplus.png "C++ \"Видимые\"")

    Переменная `e` не инициализирована, так как строки `e = 5` еще не была выполнена.

## <a name="bkmk_returnValue"></a> View return values of method calls
 В коде .NET и C++ можно просматривать возвращаемые значения в **"Видимые"** окно при выполнении шага на или из нее вызов метода. Вызов метода просмотра возвращаемые значения можно использовать, если они не хранятся в локальных переменных. Метод может использоваться в качестве параметра или возвращаемого значения другого метода.

 Например, следующая C# код добавляет возвращаемые значения из двух функций:

```csharp
static void Main(string[] args)
{
    int a, b, c, d;
    a = 1;
    b = 2;
    c = 3;
    d = 4;
    int x = sumVars(a, b) + subtractVars(c, d);
}

private static int sumVars(int i, int j)
{
    return i + j;
}

private static int subtractVars(int i, int j)
{
    return j - i;
}
```

Чтобы просмотреть возвращаемые значения `sumVars()` и `subtractVars()` вызовы методов в окне "Видимые":

1. Установите точку останова на строке `int x = sumVars(a, b) + subtractVars(c, d);` .

1. Начните отладку и, когда выполнение приостанавливается в точке останова, выберите **шаг с обходом** или нажмите клавишу **F10**. Вы должны увидеть следующие возвращаемые значения в **"Видимые"** окна:

  ![Видимые возвращаемое значение C# ](../debugger/media/autosreturnvaluecsharp2.png "\"Видимые\" возвращаемое значениеC#")

## <a name="see-also"></a>См. также

- [Что такое отладка?](../debugger/what-is-debugging.md)
- [Методы и инструменты отладки](../debugger/write-better-code-with-visual-studio.md)
- [Сначала посмотрим, отладка](../debugger/debugger-feature-tour.md)
- [Окна отладчика](../debugger/debugger-windows.md)
