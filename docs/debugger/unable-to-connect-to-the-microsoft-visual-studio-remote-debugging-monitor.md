---
title: Невозможно подключиться к монитору удаленной отладки Microsoft Visual Studio (ru) Документы Майкрософт
ms.date: 04/14/2020
ms.topic: reference
f1_keywords:
- vs.debug.error.remote_debug
- vs.debug.error.firewall.remotemachine
dev_langs:
- CSharp
- VB
- FSharp
- C++
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: d509292bc3c7a909289abf0c73babccfead31532
ms.sourcegitcommit: cc58ca7ceae783b972ca25af69f17c9f92a29fc2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81385398"
---
# <a name="unable-to-connect-to-the-microsoft-visual-studio-remote-debugging-monitor"></a>Unable to Connect to the Microsoft Visual Studio Remote Debugging Monitor
Это сообщение может произойти из-за того, что монитор удаленной отладки не настроен должным образом на удаленной машине или пульт дистанционного управления недоступен из-за проблем с сетью или наличием брандмауэра.

> [!IMPORTANT]
> Если вы считаете, что получили это сообщение из-за ошибки продукта, сообщите [об этой проблеме](../ide/how-to-report-a-problem-with-visual-studio.md) в Visual Studio. Если вам нужна дополнительная помощь, обратитесь к разделу [Talk to Us](../ide/feedback-options.md) , чтобы узнать, как связаться с корпорацией Майкрософт.

## <a name="what-is-the-detailed-error-message"></a><a name="specificerrors"></a>Что такое подробное сообщение об ошибке?

Сообщение `Unable to Connect to the Microsoft Visual Studio Remote Debugging Monitor` является общим. Обычно в строку ошибок включено более конкретное сообщение, которое может помочь вам определить причину проблемы или найти более точное исправление. Вот некоторые из наиболее распространенных сообщений об ошибках, которые прилагаются к основному сообщению об ошибке:

- [Отладчик не может подключиться к удаленному компьютеру. Отладчик не смог разрешить указанное имя компьютера](#cannot_connect)
- [Запрос на подключение был отклонен удаленным отладчиком](#rejected)
- [Недействительный доступ к местоположению памяти](#invalid_access)
- [На удаленном компьютере нет сервера по указанному имени](#no_server)
- [Запрошенное имя было действительным, но данные запрашиваемого типа не были найдены](#valid_name)
- [Визуальная студия дистанционного отладчика на целевом компьютере не может подключиться к этому компьютеру](#cant_connect_back)
- [Доступ отказано](#access_denied)
- [Произошла конкретная ошибка пакета безопасности](#security_package)

## <a name="the-debugger-cannot-connect-to-the-remote-computer-the-debugger-was-unable-to-resolve-the-specified-computer-name"></a><a name="cannot_connect"></a>Отладчик не может подключиться к удаленному компьютеру. Отладчик не смог разрешить указанное имя компьютера

Попробуйте выполнить следующие действия.

1. Убедитесь, что вы вводите действительное имя компьютера и номер порта в поле диалога **«Прикрепить для процесса»** или в свойствах проекта (Для установки свойств см. [эти шаги).](#server_incorrect) Название компьютера должно быть следующим форматом:

    `computername:port`

    > [!NOTE]
    > Номер порта должен соответствовать [номеру порта удаленного отладчика,](../debugger/remote-debugger-port-assignments.md)который *должен работать* на целевой машине.

2. Если имя компьютера не работает, попробуйте ВМЕСТО этого IP-адрес и номер порта.

3. Убедитесь, что версия удаленного отладчика, работая на целевой машине, соответствует вашей версии Visual Studio. Чтобы получить правильную версию удаленного отладчика, [см.](../debugger/remote-debugging.md)

    > [!TIP]
    > Если вы прикрепляете к процессу и успешно подключаетесь, но не видите нужный процесс, выберите **процессы Show из всех флажков пользователей.** Это покажет процессы, если вы подключены к другой учетной записи пользователя.

4. Если эти действия не устраняют эту ошибку, [см. Удаленная машина недоступен.](#dns)

## <a name="connection-request-was-rejected-by-the-remote-debugger"></a><a name="rejected"></a>Запрос на подключение был отклонен удаленным отладчиком

В поле диалога **«Приложить к процессу»** или в свойствах проекта убедитесь, что имя удаленного компьютера и номер порта совпадает с именем и номером порта, указанными в окне удаленного отладчика. Если неправильно, исправить и попробуйте еще раз.

Если эти значения верны и в сообщении упоминается режим **аутентификации Windows,** убедитесь, что удаленный отладчик находится в правильном режиме проверки подлинности **(Инструменты > опции).**

## <a name="the-connection-with-the-remote-endpoint-was-terminated"></a><a name="connection_terminated"></a>Соединение с удаленной конечной точкой было прекращено

Если вы отлажаете приложение Azure App Service, попробуйте использовать команду [Attach Debugger](../debugger/remote-debugging-azure.md#remote_debug_azure_app_service) от Cloud Explorer или Server Explorer вместо **того, чтобы прикрепить к процессу.**

Если вы используете **Прикрепите для обработки** для отладки:

1. В поле диалога **«Приложить к процессу»** или в свойствах проекта убедитесь, что имя удаленного компьютера и номер порта совпадает с именем и номером порта, указанными в окне удаленного отладчика. Если неправильно, исправить и попробуйте еще раз.

2. Проверьте журнал приложения на сервере (Viewer событий на Windows) для получения более подробной информации, чтобы помочь решить проблему.

3. В противном случае попробуйте перезапустить Visual Studio с привилегиями администратора, а затем повторите попытку.

## <a name="invalid-access-to-memory-location"></a><a name="invalid_access"></a>Недействительный доступ к местоположению памяти

Произошла внутренняя ошибка. Перезапустите Visual Studio и повторите попытку.

## <a name="there-is-no-server-by-the-specified-name-running-on-the-remote-computer"></a><a name="no_server"></a>На удаленном компьютере нет сервера по указанному имени

Visual Studio не может подключиться к удаленному отладчику. Это сообщение может произойти по нескольким причинам:

- Удаленный отладчик может работать под другой учетной записью пользователя. Посмотреть [эти шаги](#user_accounts)

- Порт заблокирован на брандмауэре. Убедитесь, что брандмауэр [не блокирует ваш запрос,](#firewall)особенно если вы используете сторонний брандмауэр.

- Удаленная версия отладчика не соответствует Visual Studio. Чтобы получить правильную версию удаленного отладчика, [см.](../debugger/remote-debugging.md)

## <a name="the-requested-name-was-valid-but-no-data-of-the-requested-type-was-found"></a><a name="valid_name"></a>Запрошенное имя было действительным, но данные запрашиваемого типа не были найдены

Удаленный компьютер существует, но Visual Studio не может подключиться к удаленному отладчику. Это сообщение может произойти по нескольким причинам:

- Проблема DNS предотвращает подключение. Смотрите [эти шаги](#dns).

- Удаленный отладчик может работать под другой учетной записью пользователя. Следуйте [этим шагам](#user_accounts).

- Порт заблокирован на брандмауэре. Убедитесь, что брандмауэр [не блокирует ваш запрос,](#firewall)особенно если вы используете сторонний брандмауэр.

- Удаленная версия отладчика не соответствует Visual Studio. Чтобы получить правильную версию удаленного отладчика, [см.](../debugger/remote-debugging.md)

## <a name="the-visual-studio-remote-debugger-on-the-target-computer-cannot-connect-back-to-this-computer"></a><a name="cant_connect_back"></a>Визуальная студия дистанционного отладчика на целевом компьютере не может подключиться к этому компьютеру

Удаленный отладчик может работать под другой учетной записью пользователя. В удаленном отладчике открытые **инструменты > разрешения** на добавление пользователя к разрешениям удаленного отладчика. Для получения дополнительной информации [см.](#user_accounts)

Если в сообщении об ошибке также упоминается брандмауэр, брандмауэр локальной машины может препятствовать связи с удаленного компьютера обратно в Visual Studio. Смотрите [эти шаги](#firewall).

## <a name="access-denied"></a><a name="access_denied"></a>Доступ отказано

Вы можете увидеть эту ошибку, если вы попытаетесь отладить на 64-битном удаленном компьютере с 32-битного компьютера (не поддерживается).

## <a name="a-security-package-specific-error-occurred"></a><a name="security_package"></a>Произошла конкретная ошибка пакета безопасности

Это может быть устаревшей проблемой, характерной для Windows XP и Windows 7. Смотрите эту [информацию](https://stackoverflow.com/questions/4786016/unable-to-connect-to-the-microsoft-remote-debugging-monitor-a-security-package).

## <a name="causes-and-recommendations"></a>Причины и рекомендации

### <a name="the-remote-machine-is-not-reachable"></a><a name="dns"></a> Удаленный компьютер недоступен

Если вы не можете подключиться с помощью удаленного имени компьютера, попробуйте использовать IP-адрес вместо этого. Вы можете `ipconfig` использовать в командной строке на удаленном компьютере, чтобы получить адрес IPv4. Если вы используете файл HOSTS, убедитесь, что он настроен правильно.

Если это не удается, убедитесь, что удаленный компьютер доступен в сети[(пинг](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee624059(v=ws.10)) удаленного компьютера). Удаленная отладка через Интернет не поддерживается, за исключением некоторых сценариев Microsoft Azure.

### <a name="the-server-name-is-incorrect-or-third-party-software-is-interfering-with-the-remote-debugger"></a><a name="server_incorrect"></a>Имя сервера неправильно или стороннее программное обеспечение мешает удаленному отладчику

В Visual Studio посмотрите на свойства проекта и убедитесь, что имя сервера правильное. Смотрите темы для [C и Visual Basic](../debugger/remote-debugging-csharp.md#remote_csharp) и C [.](../debugger/remote-debugging-cpp.md#remote_cplusplus) Для ASP.NET, **открытые свойства / Веб / Серверы** или **Свойства / Отображение в** зависимости от типа проекта.

> [!NOTE]
> При подключении к процессу удаленные настройки в свойствах проекта не используются.

Если имя сервера правильное, ваше антивирусное программное обеспечение или сторонний брандмауэр могут блокировать удаленный отладчик. При локальной отладке это может произойти, потому что Visual Studio — это 32-разрядное приложение, поэтому для отладки 64-битных приложений используется 64-битная версия удаленного отладчика. 32-битные и 64-разрядные процессы общаются с помощью локальной сети на локальном компьютере. Сетевой трафик не отправляется с компьютера, но приложение для обеспечения безопасности от сторонних разработчиков может блокировать обмен данными.

### <a name="the-remote-debugger-is-running-under-a-different-user-account"></a><a name="user_accounts"></a>Удаленный отладчик работает под другой учетной записью пользователя

Удаленный отладчик будет по умолчанию принимать только соединения от пользователя, который запустил удаленный отладчик, и членов группы администраторов. Дополнительные пользователи должны быть явно предоставлены разрешения.

Решить эту проблему можно одним из указанных ниже способов.

- Добавьте пользователя Visual Studio к разрешениям удаленного отладчика (в окне удаленного отладчика выберите **Инструменты > разрешения).**

- На удаленном компьютере перезапустите удаленный отладчик под тем же аккаунтом пользователя и паролем, который вы используете на компьютере Visual Studio.

    > [!NOTE]
    > Если вы работаете удаленный отладчик на удаленном сервере, нажмите правой кнопкой мыши приложение Удаленного отладчика и выберите **Run в качестве администратора** (или, вы можете запустить удаленный отладчик в качестве службы). Если вы не работаете на удаленном сервере, просто запустите его нормально.

- Удаленный отладчик можно запустить из командной строки с параметром **/allow \<имя_пользователя>** параметр: `msvsmon /allow <username@computer>`.

- Кроме того, можно разрешить любому пользователю делать удаленную отладку. В окне удаленного отладчика откройте диалоговое окно **Сервис > Параметры**. Если выбрать   **Без аутентификации**, то затем можно установить флажок **Разрешить отладку любому пользователю**. Тем не менее, вы должны попробовать этот вариант, только если другие варианты неудачу, или если вы находитесь на частной сети.

### <a name="the-firewall-on-the-remote-machine-doesnt-allow-incoming-connections-to-the-remote-debugger"></a><a name="firewall"></a>Брандмауэр на удаленном компьютере не позволяет входящие соединения с удаленным отладчиком
 Брандмауэры на компьютере Visual Studio и на удаленном компьютере нужно настроить так, чтобы разрешить обмен данными между Visual Studio и удаленным отладчиком. Информацию о портах, используемых удаленным отладчиком, см. в разделе [Remote Debugger Port Assignments](../debugger/remote-debugger-port-assignments.md). Информацию о настройке брандмауэра Windows см. в разделе [Configure the Windows Firewall for Remote Debugging](../debugger/configure-the-windows-firewall-for-remote-debugging.md).

### <a name="the-version-of-the-remote-debugger-doesnt-match-the-version-of-visual-studio"></a>Версия удаленного отладчика не соответствует версии Visual Studio.
 Запущенная локально версия Visual Studio должна совпадать с версией монитора удаленной отладки, запущенного на удаленном компьютере. Чтобы устранить эту проблему, скачайте и установите соответствующую версию монитора удаленной отладки. Чтобы получить правильную версию удаленного отладчика, [см.](../debugger/remote-debugging.md)

### <a name="the-local-and-remote-machines-have-different-authentication-modes"></a>На локальном и удаленном компьютерах используются разные режимы аутентификации
 На локальном и удаленном компьютерах должен использоваться один и тот же режим аутентификации. Чтобы устранить эту проблему, настройте на обоих компьютерах один и тот же режим аутентификации. Можно изменить режим проверки подлинности. В окне удаленного отладчика перейдите в диалоговую будку **«Инструменты > варианты».**

 Более подробную информацию о режимах аутентификации см. в статье [Обзор аутентификации Windows](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831472(v=ws.11)).

### <a name="anti-virus-software-is-blocking-the-connections"></a>Антивирусная программа блокирует подключения.
 Антивирусная программа Windows разрешает подключения к удаленному отладчику, но некоторые антивирусные программы сторонних разработчиков могут блокировать их. Чтобы узнать, как разрешить эти подключения, см. документацию по используемой антивирусной программе.

### <a name="network-security-policy-is-blocking-communication-between-the-remote-machine-and-visual-studio"></a>Политика сетевой безопасности блокирует обмен данными между удаленным компьютером и Visual Studio.
 Проверьте, не блокирует ли политика сетевой безопасности обмен данными. Для получения дополнительной информации о [Security policy settings](/windows/device-security/security-policy-settings/security-policy-settings)политике безопасности сети Windows см.

### <a name="the-network-is-too-busy-to-support-remote-debugging"></a>Удаленная отладка невозможна из-за слишком высокой загрузки сети.
 Попробуйте выполнить удаленную отладку в другое время или перепланировать работу в сети на другое время.

## <a name="more-help"></a>Дополнительная справка
 Чтобы получить более удаленную помощь отладчика, откройте страницу справки удаленного отладчика **(Help > использование** в удаленном отладчике).

## <a name="see-also"></a>См. также
- [Дистанционное отладка](../debugger/remote-debugging.md)
