---
title: Удаленная отладка .NET Core в Linux | Документация Майкрософт
ms.date: 02/26/2020
ms.topic: conceptual
helpviewer_keywords:
- remote debugging, linux
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 23bc0fa990a79b1855ec382f42248a0f847c3c9c
ms.sourcegitcommit: 3d64bfb9bf85395357effe054db9a9afaa0be5ea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/29/2020
ms.locfileid: "78200869"
---
# <a name="remote-debug-net-core-on-linux-using-ssh"></a>Удаленная отладка .NET Core в Linux с помощью SSH

Начиная с Visual Studio 2017 можно присоединяться к процессам .NET Core, работающим в Linux по SSH. В этой статье описывается настройка отладки и отладка.

## <a name="prerequisites"></a>Предварительные требования

На компьютере с Visual Studio необходимо установить рабочую нагрузку **ASP.NET и Web Development** или рабочую нагрузку **кросс-платформенное проектирование .NET Core** .

На сервере Linux необходимо установить SSH-сервер, распаковать и установить с помощью либо фигурного, либо wget. Например, в Ubuntu это можно сделать, запустив:

``` cmd
sudo apt-get install openssh-server unzip curl
```

## <a name="build-and-deploy-the-application"></a>Создание и развертывание приложения.

Чтобы подготовить приложение к отладке, выполните следующие действия.

- При построении приложения рассмотрите возможность использования конфигурации отладки. Отладка кода, скомпилированного в розничной торговле (конфигурация выпуска), намного сложнее, чем код, скомпилированный с помощью отладки. Если необходимо использовать конфигурацию выпуска, сначала отключите Только мой код. Чтобы отключить этот параметр, выберите **сервис** > **Параметры** > **Отладка**, а затем снимите флажок **включить только мой код**.

- Убедитесь, что в проекте настроено создание [переносимых PDB](https://github.com/OmniSharp/omnisharp-vscode/wiki/Portable-PDBs) -файлов (это значение по умолчанию), и убедитесь, что пбдс находятся в том же расположении, что и библиотека DLL. Чтобы настроить это в Visual Studio, щелкните проект правой кнопкой мыши и выберите **свойства** > **Сборка** > **дополнительные** **сведения об отладке** > .

Для развертывания приложения перед отладкой можно использовать несколько методов. Например, администратор может сделать следующее:

- Скопируйте источники на целевой компьютер и создайте с ```dotnet build``` на компьютере Linux.

- Создайте приложение в Windows, а затем перенесите артефакты сборки на компьютер Linux. (Артефакты сборки состоят из самого приложения, любых библиотек среды выполнения, от которых он может зависеть, и файла *. Deps. JSON* .)

## <a name="attach-the-debugger"></a>Подключение отладчика

После настройки компьютеров запустите приложение на компьютере Linux, после чего все готово к подключению отладчика.

1. В Visual Studio выберите **отладка** > **присоединить к процессу...** .

1. В списке **тип подключения** выберите **SSH**.

1. Измените **целевой объект подключения** на IP-адрес или имя узла целевого компьютера.

1. Найдите процесс, который вы хотите отладить.

   Код выполняется как в уникальном имени процесса, так и в процессе с именем DotNet. Чтобы найти интересующий вас процесс, проверьте столбец **заголовок** , в котором отображаются аргументы командной строки для процесса.

   В следующем примере показан список процессов с удаленного компьютера Linux по транспорту SSH, отображаемому в диалоговом окне **Присоединение к процессу** .

   ![Подключение к процессу Linux](media/remote-debug-linux-over-ssh-attach.png)

1. Выберите **Присоединиться**.

1. В появившемся диалоговом окне выберите тип кода для отладки. Выберите **управляемый (.NET Core для UNIX)** .

1. Используйте функции отладки Visual Studio для отладки приложения.

   В следующем примере отладчик Visual Studio остановлен в точке останова в коде, выполняющемся на удаленном компьютере Linux.

   ![Попадание в точку останова](media/remote-debug-linux-over-ssh-hit-breakpoint.png)