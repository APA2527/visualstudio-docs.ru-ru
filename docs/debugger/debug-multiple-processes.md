---
title: Отчерепное несколько процессов Документы Майкрософт
ms.date: 11/20/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.programs
- vs.debug.processes.attaching
- vs.debug.activeprogram
- vs.debug.attaching
- vs.debug.attachedprocesses
dev_langs:
- CSharp
- VB
- FSharp
- C++
ms.assetid: bde37134-66af-4273-b02e-05b3370c31ab
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 160e219b6fc2ab314f8d0dd91043c18101f2c3a5
ms.sourcegitcommit: 95f26af1da51d4c83ae78adcb7372b32364d8a2b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79301185"
---
# <a name="debug-multiple-processes-c-visual-basic-c"></a>Отладить несколько процессов (СЗ, Visual Basic, C

Visual Studio может отладить решение, которое имеет несколько процессов. Можно начать и переключаться между процессами, ломать, выполнять и проходить через источник, останавливать отладку и заканчивать или отходить от отдельных процессов.

## <a name="start-debugging-with-multiple-processes"></a>Начало отладки с несколькими процессами

Когда более одного проекта в решении Visual Studio может работать независимо, можно выбрать, какой проект запускает отладчик. Текущий проект запуска отображается жирным шрифтом в **Solution Explorer**.

Чтобы изменить проект запуска, в **Solution Explorer**, правой кнопкой мыши другой проект и выберите **Установить как StartUp проекта**.

Чтобы начать отладку проекта от **Solution Explorer,** не сделав его проектом запуска, нажмите на проект и выберите **Debug** > **Start new instance** или Step into new **instance.**

**Чтобы настроить проект запуска или несколько проектов из решения Properties:**

1. Выберите решение в **Solution Explorer,** а затем выберите значок **Свойства** в панели инструментов, или правой кнопкой мыши решения и выберите **Свойства.**

1. На странице **Свойства** выберите**проект запуска** **Common Properties.** > 

   ![Изменение типа запуска для проекта](../debugger/media/dbg_execution_startmultipleprojects.png "DBG_Execution_StartMultipleProjects")

1. Выберите **текущий выбор,** **Единый проект запуска** и файл проекта, или **несколько проектов запуска.**

   Если вы выберете **несколько проектов запуска,** вы можете изменить заказ запуска и действия, которые необходимо предпринять для каждого проекта: **Start,** **Start без отладки**или **Нет.**

1. Выберите **Apply**, или **OK,** чтобы применить и закрыть диалог.

### <a name="attach-to-a-process"></a><a name="BKMK_Attach_to_a_process"></a> Присоединение к процессу

Отладчик также может *прикрепляться* к приложениям, работающим в процессах за пределами Visual Studio, в том числе на удаленных устройствах. После присоединения к приложению можно использовать отладчик Visual Studio. Функции отладки могут быть ограничены. Это зависит от того, было ли приложение построено с информацией об отладке, есть ли у вас доступ к исходному коду приложения, и отслеживает ли компилятор JIT информацию об отладке.

Для получения дополнительной информации [см.](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)

**Присоединение к выполняющемуся процессу:**

1. С запуском приложения выберите **Прикрепите Debug** > **для обработки.**

   ![Прикрепите к диалоговому окне процесса](../debugger/media/dbg_attachtoprocessdlg.png "Присоединение к процессу - диалоговое окно")

1. В диалоговом окне **присоединения к процессу** выберите процесс из списка **доступных процессов,** а затем выберите **Прикрепить.**

>[!NOTE]
>Отладчик не присоединяется автоматически к дочернему процессу, который запущен отлаживаемым процессом, даже если дочерний проект находится в том же решении. Чтобы отладить процесс ребенка, либо прикрепите к процессу ребенка после его запуска, либо настройте редактор реестра Windows, чтобы начать процесс ребенка в новом экземпляре отладчика.

### <a name="use-the-registry-editor-to-automatically-start-a-process-in-the-debugger"></a><a name="BKMK_Automatically_start_an_process_in_the_debugger"></a>Используйте редактор реестра для автоматического запуска процесса в отладчике

Иногда может потребоваться отладить код запуска для приложения, запущенного другим процессом. К ним относятся службы и действия пользовательской настройки. Вы можете запустить отладчик и автоматически прикрепить к приложению.

1. Запустите редактор реестра Windows, запустив *regedit.exe*.

1. В редакторе реестра перейдите на **HKEY_LOCAL_MACHINE»Software-Microsoft-Windows NT-CurrentVersion /Image-варианты выполнения файлов**.

1. Выберите папку приложения, которое требуется запустить в отладчике.

   Если приложение не включено в список папок ребенка, **параметры выполнения файлов изображения**с правой кнопкой мыши выберите **New** > **Key**и введите имя приложения. Или, право йгните новый ключ в дереве, выберите **Переименовать,** а затем введите имя приложения.

1. Нажмите на новый ключ в дереве и выберите **новое** > **значение строки.**

1. Измените название нового значения с #1 `debugger`нового **значения** на .

1. Правый **щелчком мыши отладчик** и выберите **Modify**.

   ![Диалоговое окно редактирования строки](../debugger/media/dbg_execution_automaticstart_editstringdlg.png "Диалоговое окно редактирования строки")

1. В диалоговом поле **Edit String** введите `vsjitdebugger.exe` в поле **данных Значение,** а затем выберите **OK.**

   ![Запись автоматического запуска отладчика в regedit.exe](../debugger/media/dbg_execution_automaticstart_result.png "Запись автоматического запуска отладчика в regedit.exe")

## <a name="debug-with-multiple-processes"></a><a name="BKMK_Switch_processes__break_and_continue_execution__step_through_source"></a>Отчерепа с несколькими процессами
<a name="BKMK_Configure_the_execution_behavior_of_multiple_processes"></a>

При отладке приложения с несколькими процессами взлом, шагая и продолжающийся отладчик команды влияют на все процессы по умолчанию. Например, когда процесс приостанавливается в точке разрыва, выполнение всех других процессов также приостанавливается. Можно изменить это принимаемое по умолчанию поведение, чтобы обрести больший контроль над целевыми объектами команд выполнения.

**Чтобы изменить, приостанавливаются ли все процессы при перерыве одного процесса:**

- Под **инструментами** (или **отъемом)**> **параметры** > **отладки** > **General,** выберите или очистите **break все процессы, когда один процесс ломает** флажок.

### <a name="break-step-and-continue-commands"></a><a name="BKMK_Break__step__and_continue_commands"></a> Команды прерывания, пошагового выполнения и продолжения выполнения

В следующей таблице описывается поведение команд отладки при **разрыве всех процессов при выборе** или отходе одного процесса, когда один процесс ломает флажок:

|**Команды**|Выбрано|Выбор отменен|
|-|-|-|
|**Отладка**  > **Перерыв Все**|Все процессы приостанавливаются.|Все процессы приостанавливаются.|
|**Ошибка****Продолжить**  > |Все процессы возобновляются.|Все приостановленные процессы возобновляются.|
|**Отлавить** > **шаг в**, шаг **за**, или **выйти**|Во время выполнения шага текущего процесса все процессы выполняются. <br />Затем все процессы приостанавливаются.|Текущий процесс выполняется пошагово. <br />Приостановленные процессы возобновляются. <br />Выполняемые процессы продолжают выполняться.|
|**Отугать** > **шаг в текущий процесс,** шаг над **текущим процессом,** или **шагнуть вне текущий процесс**|Недоступно|Текущий процесс выполняется пошагово.<br />Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|
|Точка **разрыва** окна источника|Все процессы приостанавливаются.|Приостанавливается только процесс окна исходного кода.|
|Окно источника **Запуск курсора**<br />Окно исходного кода должно находиться в текущем процессе.|Все процессы выполняются, а процесс в окне исходного кода выполняется до курсора и приостанавливается.<br />После этого приостанавливаются все остальные процессы.|Процесс в окне исходного кода выполняется до курсора.<br />Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|
|**Процессы** > **процесса разрыва** окон|Недоступно|Выбранный процесс приостанавливается.<br />Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|
|**Процессы** оконного > **продолжить процесс**|Недоступно|Выбранный процесс возобновляется.<br />Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|

### <a name="find-the-source-and-symbol-pdb-files"></a><a name="BKMK_Find_the_source_and_symbol___pdb__files"></a> Поиск исходных файлов и файлов символов (PDB)
Для навигации по исходному коду процесса отладчику необходим доступ к исходным файлам и файлам символов. Дополнительные сведения см. в разделе [Указание файлов символов (PDB) и исходных файлов](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).

Если вы не можете получить доступ к файлам для процесса, вы можете перемещаться с помощью окна **Разборки.** Для получения дополнительной информации [см.](../debugger/how-to-use-the-disassembly-window.md)

### <a name="switch-between-processes"></a><a name="BKMK_Switch_between_processes"></a> Переключение между процессами

При отладке можно прикрепить к нескольким процессам, но в любой момент времени в отладчике активен только один процесс. Активный или *текущий* процесс можно выбрать с помощью панели инструментов **Место отладки** или в окне **Процессы**. Для переключения между процессами оба процесса должны находиться в режиме приостановки выполнения.

**Чтобы установить текущий процесс из панели инструментов определения местоположения:**

1. Чтобы открыть панель инструментов **Debug Location,** выберите **View** > **Toolbars** > **Debug Location.**

1. Во время отладки на панели инструментов **определения местоположения** выберите процесс, который вы хотите установить в текущем процессе из **процесса** отсева.

   ![Переключение между процессами](../debugger/media/dbg_execution_switchbetweenmodules.png "DBG_Execution_SwitchBetweenModules")

**Чтобы установить текущий процесс из окна Процессов:**

1. Чтобы открыть окно **процессов** во время отладки, выберите**процессы** **debug** > **Windows.** > 

1. В окне **процессов** текущий процесс отмечен желтой стрелкой. Дважды щелкните процесс, который вы хотите установить в текущем процессе.

   ![Окно процессов](../debugger/media/dbg_processeswindow.png "DBG_ProcessesWindow")

Переход на процесс задает его как текущий процесс для отладки. Окна Debugger отображают состояние для текущего процесса, и команды шага влияют только на текущий процесс.

## <a name="stop-debugging-with-multiple-processes"></a>Остановить отладку с несколькими процессами

По умолчанию при выборе **Debug** > **Stop Debugging**отладка заканчивается или отсоединяется от всех процессов.

- Если текущий процесс был запущен в отладчике, процесс заковпался.

- Если отладчик был присоединен к текущему процессу, отладчик отсоединяется от процесса, не прекращая его выполнение.

Если вы начинаете отлавливание процесса из решения Visual Studio, затем прикрепите к другому процессу, который уже запущен, а затем выберите **Stop Debugging,** сессия отладки заканчивается. Процесс, начатый в Visual Studio, завершается, а процесс, к которому вы прикрепляетесь, продолжает работать.

Чтобы контролировать способ, которым **Stop Debugging** влияет на отдельный процесс, в окне **процессов** щелкните по правому щелкну процессу, а затем выберите или очистите **отек при остановке чекового** ящика.

>[!NOTE]
>**Перерыв всех процессов при разрыве одного процесса** не влияет на остановку, прекращение или отсоединение от процессов.

### <a name="stop-terminate-and-detach-commands"></a>Команды остановки, окончания и отсоединения

В следующей таблице описывается поведение команды отладчика остановки, прекращения и отсъемки команд с несколькими процессами:

|**Команды**|**Описание**|
|-|-|
|**Отчерепное** > **остановка отладки**|Если в окне **процессов** не изменяется поведение, процессы, начатые отладчиком, заканчиваются, а прилагаемые процессы отсоединяются.|
|**Отжуте** > **уничтожить все**|Все процессы завершены.|
|**Дебуг** > **Отеч Все**|Отладчик отсоединяется от всех процессов.|
|**Процессы** окни > **процесс отсеивании**|Отладчик отсоединяется от выбранного процесса.<br />Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|
|**Процесс завершения процесса** завершения **оконных >**|Выбранный процесс завершен.<br />Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|
|**Процессы** > **отсеивания при остановке отладки**|При выборе отливка **Debug** > **Stop Debugging** от выбранного процесса. <br />Если вы выбрано, **Debug** > **Stop Debugging** завершает выбранный процесс. |

## <a name="see-also"></a>См. также раздел

- [Указание файлов символов (PDB) и файлов с исходным кодом](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)
- [Подключение к выполняющимся процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)
- [Навигация по коду с помощью отладчика](../debugger/navigating-through-code-with-the-debugger.md)
- [JIT-отладка](../debugger/just-in-time-debugging-in-visual-studio.md)
- [Отогладить многопоточные приложения](../debugger/debug-multithreaded-applications-in-visual-studio.md)