---
title: Использование файлов дампа в отладчике | Документация Майкрософт
ms.custom: seodec18
ms.date: 11/05/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.crashdump
dev_langs:
- CSharp
- VB
- FSharp
- C++
- JScript
helpviewer_keywords:
- dumps, about dumps
- crash dumps
- dump files
- dumps
ms.assetid: b71be6dc-57e0-4730-99d2-b540a0863e49
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8ff4cc9501552b0a482e93aa1917a175680d6d78
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62901765"
---
# <a name="dump-files-in-the-visual-studio-debugger"></a>Файлы дампа в отладчике Visual Studio

<a name="BKMK_What_is_a_dump_file_"></a> Объект *файл дампа* является моментальным снимком, показывающая процесс, время выполнения и модулей, загруженных для приложения в момент времени. Также дампа со сведениями кучи в этот момент содержит моментальный снимок памяти приложения.

Открытие файла дампа с кучей в Visual Studio — это нечто вроде остановке в точке останова в сеансе отладки. Несмотря на то, что не удается продолжить выполнение, можно просмотреть стеки, потоки и значения переменных приложения во время дампа.

Дампы главным образом используются для отладки проблем с компьютеров, которые разработчики не имеют доступа к. Файл дампа с компьютера клиента можно использовать, когда не удается воспроизвести сбоя или зависания на своем локальном компьютере. Тест-инженеры также создать файлы дампа, чтобы сохранить сбоя или зависания данные, используемые для других операций тестирования.

Отладчик Visual Studio может сохранять файлы дампа для управляемого и машинного кода. Она поддерживает отладку файлов дампа, созданные Visual Studio или в других приложениях, сохранять файлы в *минидампа* формат.

## <a name="BKMK_Requirements_and_limitations"></a> Требования и ограничения

- Для отладки файлов дампа из 64-разрядных компьютерах, Visual Studio должна быть запущена на 64-разрядном компьютере.

- Visual Studio поддерживает отладку файлов дампа, создаваемых приложениями в машинных кодах на устройствах ARM. Также можно отлаживать дампы управляемых приложений с устройств ARM, но только в отладчик машинного кода.

- Для отладки [режима ядра](/windows-hardware/drivers/debugger/kernel-mode-dump-files) файлы дампа или использовать [библиотеки "SOS.dll"](/dotnet/framework/tools/sos-dll-sos-debugging-extension) отладки расширения в Visual Studio, загрузите средства отладки для Windows в [набор драйверов Windows (WDK)](/windows-hardware/drivers/download-the-wdk).

- Visual Studio не поддерживает отладку файлов дампа, сохраненных на старом, [пользовательского режима полного дампа](/windows/desktop/wer/collecting-user-mode-dumps) формат. Полный дамп пользователя не совпадает с дамп с кучей.

- Отладка с использованием файлов дампа оптимизированного кода может сопровождаться ложной информацией. К примеру, встраивание компилятором функций может приводить к непредвиденным стекам вызовов, а другие виды оптимизации могут изменять время существования переменных.

## <a name="BKMK_Dump_files__with_or_without_heaps"></a> Файлы дампа, с кучами или без куч

Файлы дампа может иметь или не иметь сведения о куче.

- **Файлы дампа с кучами** содержат снимок памяти приложения, включая значения переменных, во время дампа. Visual Studio также сохраняет двоичные файлы загруженных модулей машинного кода в файл дампа с кучей, что может сделать отладку намного проще. Visual Studio можно загрузить символы из файла дампа с кучей, даже если не удается найти приложение двоичный.

- **Файлы дампа без куч** гораздо меньше, чем файлы дампа с кучами, но отладчик должен загружать двоичные файлы приложения для поиска сведений о символах. Загрузить двоичные файлы должен точно соответствовать те, в которые выполняются во время создания дампа. Файлы дампа без куч сохранить значения переменных стека.

## <a name="BKMK_Create_a_dump_file"></a> Создание файла дампа

При отладке процесса в Visual Studio, можно сохранить дамп, когда отладчик останавливает выполнение в точке останова или исключении.

С помощью [JIT-отладка](../debugger/just-in-time-debugging-in-visual-studio.md) включен, вы можете присоединить отладчик Visual Studio к аварийному процессу, вне Visual Studio, а затем сохраните файл дампа из отладчика. См. в разделе [присоединение к выполняемым процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md).

**Сохранение файла дампа**

1. Во время остановки на ошибку или точку останова во время отладки, выберите **Отладка** > **Сохранение дампа**.

1. В **Сохранение дампа** диалогового **тип**выберите **минидампа** или **малый дамп с кучей** (по умолчанию).

1. Чтобы указать путь и выберите имя для файла дампа, затем установите **Сохранить**.

>[!NOTE]
>Можно создать файлы дампа с помощью любой программы, которая поддерживает формат минидампов Windows. Такой программой, например, может быть программа командной строки **Procdump** из [Windows Sysinternals](http://technet.microsoft.com/sysinternals/default), которая может создавать файлы аварийного дампа процесса на основе триггеров или по требованию. См. в разделе [требования и ограничения](../debugger/using-dump-files.md#BKMK_Requirements_and_limitations) сведения об использовании других средств для создания файлов дампа.

## <a name="BKMK_Open_a_dump_file"></a> Открытие файла дампа

1. В Visual Studio выберите **файл** > **откройте** > **файл**.

1. В диалоговом окне **Открытие файла** найдите и выберите файл дампа. Обычно они имеют расширение *DMP*. Нажмите кнопку **ОК**.

   **Сводка файла минидампа** окне отображается сводка и модуль сведения, касающиеся файла дампа и действия можно предпринять.

   ![Страница сводки минидампа](../debugger/media/dbg_dump_summarypage.png "страница сводки минидампа")

1. В разделе **действия**:
   - Чтобы задать символ, идет загрузка местоположений, выберите **задать пути к символам**.
   - Чтобы начать отладку, выберите **отладки с помощью только управляемый код**, **только машинный код**, **Отладка в смешанном режиме**, или **отладки с помощью управляемой памяти**.

## <a name="BKMK_Find_binaries__symbol___pdb__files__and_source_files"></a> Найти .exe, PDB-файл и исходные файлы

Чтобы использовать полный функции в файл дампа отладки Visual Studio должен:

- *.Exe* дамп был создан для файла и другие двоичные файлы (DLL и т. д.) процесс создания дампа.
- Файлы символов (*.pdb*) для *EXE*-файлов и других двоичных файлов.
- *.Exe* и *.pdb* файлы, которые точно соответствуют версии и сборке файлов в дамп создания.
- Исходные файлы для соответствующих модулей. Если не удается найти исходные файлы можно использовать Дизассемблированный код модулей.

Если дамп содержит данные кучи, Visual Studio может справиться с отсутствием двоичных файлов для некоторых модулей, но он должен иметь двоичные файлы для достаточного количества модулей создавать допустимые стеки вызовов.

### <a name="search-paths-for-exe-files"></a>Пути поиска для файлов .exe

Visual Studio автоматически ищет в следующих расположениях *.exe* файлы, не включенные в файле дампа:

1. Папка с файлом дампа.
2. Путь к модулю файл дампа задает, путь к модулю на компьютере, где собраны дампа.
3. Путей к символам, указанные в **средства** (или **Отладка**) > **параметры** > **Отладка**  >  **Символы**. Можно также открыть **символы** странице из **действия** области **Сводка файла дампа** окна. На этой странице можно добавить другие расположения для поиска.

### <a name="use-the-no-binary-no-symbols-or-no-source-found-pages"></a>Используйте страницы нет двоичные символы не загружены и исходный код не найден

Если Visual Studio не удается найти файлы, необходимые для отладки модуля в дампе, он показывает **двоичных не найдены**, **символы не найдены**, или **исходный код не найден** страницы. Эти страницы предоставляют подробные сведения о причине проблемы и предоставляют ссылки на действия, которые помогут вам найти эти файлы. См. статью [Указание файлов символов (.pdb) и файлов с исходным кодом в отладчике Visual Studio](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).

## <a name="see-also"></a>См. также

- [JIT-отладка](../debugger/just-in-time-debugging-in-visual-studio.md)
- [Указание файлов символов (PDB) и файлов с исходным кодом](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)
- [IntelliTrace](../debugger/intellitrace.md)