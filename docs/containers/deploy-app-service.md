---
title: Развертывание контейнера Docker ASP.NET Core в Службе приложений Azure | Документация Майкрософт
description: Сведения об использовании инструментов Visual Studio для работы с контейнерами с целью развертывания веб-приложения ASP.NET Core в Службе приложений Azure
author: ghogen
manager: jillfra
ms.technology: vs-azure
ms.devlang: dotnet
ms.topic: article
ms.date: 03/08/2019
ms.author: ghogen
ms.openlocfilehash: 5d1f160435fd8c62a44d3e5d3192870143558de4
ms.sourcegitcommit: 40bd5b27f247a07c2e2514acb293b23d6ce03c29
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2019
ms.locfileid: "73188788"
---
# <a name="deploy-an-aspnet-core-container-to-azure-app-service-using-visual-studio"></a>Развертывание контейнера ASP.NET Core в Службе приложений Azure с помощью Visual Studio

В этом руководстве поэтапно показано, как с помощью Visual Studio опубликовать контейнерное приложение ASP.NET Core в [Службе приложений Azure](/azure/app-service). Служба приложений Azure подходит для веб-приложения с одним контейнером, размещенного в Azure.

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/dotnet/?utm_source=acr-publish-doc&utm_medium=docs&utm_campaign=docs), прежде чем начинать работу.

## <a name="prerequisites"></a>Предварительные требования

Для работы с этим руководством вам понадобится следующее:

::: moniker range="vs-2017"
- Установите последнюю версию [Visual Studio 2017](https://visualstudio.microsoft.com/vs/older-downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=vs+2017+download) с рабочей нагрузкой "ASP.NET и разработка веб-приложений"
::: moniker-end
::: moniker range=">=vs-2019"
- [Visual Studio 2019](https://visualstudio.microsoft.com/downloads) с рабочей нагрузкой *ASP.NET и веб-разработка*.
::: moniker-end
- Установка [Docker Desktop](https://docs.docker.com/docker-for-windows/install/)

## <a name="create-an-aspnet-core-web-app"></a>Создание веб-приложения ASP.NET Core

Давайте создадим простое приложение ASP.NET Core, которое мы будем использоваться в этом руководстве.

::: moniker range="vs-2017"
1. В меню Visual Studio выберите **Файл > Создать > Проект**.
2. В разделе **Шаблоны** диалогового окна **Новый проект** выберите **Visual C# > Веб-проект**.
3. Выберите **Новое веб-приложение ASP.NET Core**.
4. Присвойте новому приложению имя (или оставьте имя по умолчанию) и нажмите кнопку **ОК**.
5. Выберите **Веб-приложение**.
6. Поставьте флажок **Включить поддержку Docker**.
7. Выберите тип контейнера **Linux** и нажмите кнопку **ОК**. Развертывание контейнеров Windows в Службе приложений Azure не поддерживается.
::: moniker-end
::: moniker range=">= vs-2019"
1. В начальном окне Visual Studio выберите **Создать проект**.
1. Выберите **Веб-приложение ASP.NET Core**, а затем нажмите кнопку **Далее**.
1. Присвойте новому приложению имя (или оставьте имя по умолчанию) и нажмите кнопку **Создать**.
1. Выберите **Веб-приложение**.
1. Решите, требуется ли вам поддержка SSL, установив или сняв флажок **Настроить для HTTPS**.
1. Поставьте флажок **Включить поддержку Docker**.
1. Выберите тип контейнера **Linux** и нажмите кнопку **Создать**. Развертывание контейнеров Windows в Службе приложений Azure не поддерживается.
::: moniker-end

## <a name="deploy-the-container-to-azure"></a>Развертывание контейнера в Azure

1. В **обозревателе решений** щелкните правой кнопкой проект и выберите **Опубликовать**.
1. В диалоговом окне целевого объекта публикации выберите **Служба приложений для Linux**.
1. Публикацию можно выполнить только в Службе приложений или одновременно в Службе приложений и в Реестре контейнеров Azure (ACR). Чтобы опубликовать контейнер в Реестре контейнеров Azure (ACR), выберите **Создать Службу приложений для контейнеров** и щелкните **Опубликовать**.

   ![Снимок экрана диалогового окна публикации](media/deploy-app-service/publish-app-service-linux.PNG)

   Чтобы опубликовать контейнер только в Службе приложений Azure, не используя Реестр контейнеров Azure, выберите **Создать** и щелкните **Опубликовать**.

1. Убедитесь в том, что вы вошли в учетную запись, связанную с подпиской Azure, и выберите уникальное имя, подписку, группу ресурсов, план размещения и реестр контейнеров (если применимо) или примите значения по умолчанию.

   ![Снимок экрана: параметры публикации](media/deploy-app-service/publish-app-service-linux2.png)

1. Выберите **Создать**. Контейнер будет развернут в Azure в выбранных группе ресурсов и реестре контейнеров. Этот процесс займет некоторое время. По завершении на вкладке **Публикация** будут представлены сведения о публикации, включая URL-адрес сайта.

   ![Снимок экрана: вкладка публикации](media/deploy-app-service/publish-succeeded.PNG)

1. Щелкните ссылку на сайт, чтобы убедиться в том, что приложение работает в Azure надлежащим образом.

   ![Снимок экрана веб-приложения](media/deploy-app-service/web-application-running.png)

1. Профиль публикации сохраняется со всеми выбранными параметрами, включая группу ресурсов и реестр контейнеров.
1. Чтобы еще раз выполнить развертывание, используя тот же профиль публикации, нажмите кнопку **Опубликовать**, а затем кнопку **Опубликовать** в окне **Действие веб-публикации** или щелкните проект правой кнопкой мыши в **обозревателе решений** и выберите в контекстном меню пункт **Опубликовать**.

## <a name="clean-up-resources"></a>Очистка ресурсов

Чтобы удалить все ресурсы Azure, связанные с этим руководством, удалите группу ресурсов на [портале Azure](https://portal.azure.com). Чтобы найти группу ресурсов, связанную с опубликованным веб-приложением, выберите **Вид** > **Другие окна** > **Действие веб-публикации**, а затем щелкните значок шестеренки. Откройте вкладку **Публикация** с группой ресурсов.

На портале Azure выберите **Группы ресурсов**, а затем выберите группу ресурсов, чтобы открыть страницу сведений о ней. Проверьте, та ли это группа ресурсов, а затем выберите **Удалить группу ресурсов**, введите имя и щелкните **Удалить**.

## <a name="next-steps"></a>Следующие шаги

Настройте непрерывную интеграцию и поставку (CI/CD) с помощью [Azure Pipelines](/azure/devops/pipelines/?view=azure-devops).

## <a name="see-also"></a>См. также

[Развертывание в Реестр контейнеров Azure](hosting-web-apps-in-docker.md)