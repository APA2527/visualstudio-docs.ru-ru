---
title: Доступ к журналам контейнеров, переменным среды и файловой системе
description: Узнайте, как расширить возможности отладки и диагностики контейнерных приложений в Visual Studio с помощью окна инструментов, которое позволяет видеть, что происходит в контейнерах с приложением.
author: ghogen
ms.author: ghogen
ms.topic: conceptual
ms.date: 05/06/2019
ms.technology: vs-azure
monikerRange: vs-2019
ms.openlocfilehash: 3fb9a52f990a2e492c63a6e71a7cc2063110c816
ms.sourcegitcommit: 44e9b1d9230fcbbd081ee81be9d4be8a485d8502
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "71126097"
---
# <a name="how-to-view-and-diagnose-containers-in-visual-studio"></a>Просмотр и диагностика контейнеров в Visual Studio

Вы можете видеть, что происходит в контейнерах, в которых размещается приложение, с помощью окна **Контейнеры**. Если вы привыкли использовать командную строку для просмотра и диагностики контейнеров с помощью команд Docker, имейте в виду, что это окно предоставляет более удобный способ мониторинга контейнеров, не выходя из интегрированной среды разработки Visual Studio.

> [!NOTE]
> В настоящее время окно "Контейнеры" доступно в качестве расширения в стадии предварительной версии, которое можно [скачать](https://aka.ms/vscontainerspreview) для Visual Studio 2019.

## <a name="prerequisites"></a>Предварительные требования

- [Docker Desktop](https://hub.docker.com/editions/community/docker-ce-desktop-windows)
- Установка [Visual Studio 2019](https://visualstudio.microsoft.com/downloads)
- Установка [расширения окна "Контейнеры"](https://aka.ms/vscontainerspreview)

## <a name="view-information-about-your-containers"></a>Просмотр сведений о контейнерах

Окно **Контейнеры** открывается автоматически при запуске контейнерного проекта .NET. Чтобы в любой момент просмотреть контейнеры в Visual Studio, нажмите клавиши **CTRL**+**Q** для активации поля поиска Visual Studio, введите `Containers` и выберите первый элемент. Окно **Контейнеры** можно также открыть из главного меню. В меню выберите **Вид** > **Другие окна** > **Контейнеры**.  

![Снимок экрана: вкладка "Среда" в окне "Контейнеры"](media/view-and-diagnose-containers/container-window.png)

В левой части приводится список контейнеров на локальном компьютере. Контейнеры, связанные с решением, отображаются в разделе **Контейнеры решения**. Справа имеется область с вкладками **Среда**, **Порты**, **Журналы** и **Файлы**.

> [!TIP]
> Вы можете легко настроить место закрепления окна **Контейнеры** в Visual Studio. См. статью [Настройка макетов окон в Visual Studio](/visualstudio/ide/customizing-window-layouts-in-visual-studio). Когда работает отладчик, окно **Контейнеры** по умолчанию закреплено рядом с окном **контрольных значений**.

## <a name="view-environment-variables"></a>Просмотр переменных среды

На вкладке **Среда** приводятся переменные среды, имеющиеся в контейнере. Для контейнера приложения эти переменные можно задать различными способами, например в Dockerfile, в ENV-файле или с помощью параметра -e при запуске контейнера с помощью команды Docker.

![Снимок экрана: вкладка "Среда" в окне "Контейнеры"](media/view-and-diagnose-containers/container-environment-vars.png)

> [!NOTE]
> Изменения, вносимые в переменные среды, не отражаются в режиме реального времени. Кроме того, на этой вкладке приводятся системные переменные среды для контейнера, но не локальные пользовательские переменные среды для приложения.

## <a name="view-port-mappings"></a>Просмотр сопоставлений портов

На вкладке **Порты** можно проверить сопоставления портов, действующие для контейнера.

![Снимок экрана: вкладка "Порты" в окне "Контейнеры"](media/view-and-diagnose-containers/container-ports.png)

Хорошо известные порты доступны по ссылкам, поэтому если через порт доступно содержимое, то можно щелкнуть ссылку, чтобы открыть браузер.

## <a name="view-logs"></a>Просмотр журналов

На вкладке **Журналы** приводятся результаты выполнения команды `docker logs`. По умолчанию на ней показаны потоки stdout и stderr для контейнера, но выходные данные можно настроить. Подробные сведения о ведении журналов Docker см. в [этой статье](https://docs.docker.com/config/containers/logging/).  По умолчанию журналы на вкладке **Журналы** выводятся в потоковом режиме, но эту возможность можно отключить, нажав кнопку **Остановить**.

![Снимок экрана: вкладка "Журналы" в окне "Контейнеры"](media/view-and-diagnose-containers/containers-logs.jpg)

Чтобы очистить журналы, нажмите кнопку **Очистить** на вкладке **Журналы**.  Чтобы получить все журналы, нажмите кнопку **Обновить**.

> [!NOTE]
> Visual Studio автоматически перенаправляет потоки stdout и stderr в окно **Вывод**, поэтому для контейнеров, запущенных из Visual Studio (то есть контейнеров в разделе **Контейнеры решения**), журналы на этой вкладке не отображаются. Вместо нее используйте окно **Вывод**.

## <a name="view-the-filesystem"></a>Просмотр файловой системы

На вкладке **Файлы** можно просмотреть файловую систему контейнера, включая папку приложения, которая содержит проект.

![Снимок экрана: вкладка "Файлы" в окне "Контейнеры"](media/view-and-diagnose-containers/container-filesystem.png)

Чтобы открыть файл в Visual Studio, перейдите к нему и дважды щелкните его или щелкните файл правой кнопкой мыши и выберите команду **Открыть**. Файлы открываются в Visual Studio в режиме только для чтения.

![Снимок экрана: файл, открытый для просмотра в Visual Studio](media/view-and-diagnose-containers/container-file-open.png)

На вкладке **Файлы** можно просматривать журналы приложения, например журналы IIS, файлы конфигурации и другие файлы содержимого, имеющиеся в файловой системе контейнера.

## <a name="start-stop-and-remove-containers"></a>Запуск, остановка и удаление контейнеров

По умолчанию в окне **Контейнеры** отображаются все контейнеры на компьютере, которыми управляет Docker. С помощью кнопок на панели инструментов можно запускать контейнеры, останавливать их или удалять контейнеры, которые больше не нужны.  При создании или удалении контейнеров список обновляется динамически.

## <a name="next-steps"></a>Следующие шаги

Узнайте больше об инструментах для работы с контейнерами в Visual Studio в [этой обзорной статье](overview.md).

## <a name="see-also"></a>См. также

[Разработка с помощью контейнеров в Visual Studio](/visualstudio/containers)

[Расширения Marketplace для Visual Studio](https://marketplace.visualstudio.com/)
