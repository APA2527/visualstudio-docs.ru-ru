---
title: Изменение моделей и схем UML | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.teamarch.modelingproject
- vs.teamarch.UMLModelExplorer
- vs.teamarch.UMLModelExplorer.rootnode
helpviewer_keywords:
- diagrams - modeling
- UML, copy and paste
- UML, models
- UML model
- UML, element properties
- UML
- UML, diagrams
ms.assetid: 87affd40-8127-4ee9-9d3a-ad977abe2ed6
caps.latest.revision: 86
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 00ac30cc7e9ee3aff0dd64f015a4b4954972c09a
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "74295524"
---
# <a name="edit-uml-models-and-diagrams"></a>Изменение моделей и схем UML
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Модель UML можно создавать и изменять с помощью представлений, предоставляемых несколькими разными типами схем. Представляя различные точки зрения на систему, эти схемы помогают понять и обсудить различные аспекты ее разработки и требований к ней. Visual Studio предоставляет шаблоны для пяти наиболее часто используемых типов схем UML.

 Чтобы узнать, какие версии Visual Studio поддерживают эту функцию, см. раздел [Version support for architecture and modeling tools](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport).

 В этом разделе описываются способы редактирования модели, общие для различных типов схем. Дополнительные сведения о конкретных типах схем см. в статье [Создание моделей для приложения](../modeling/create-models-for-your-app.md).

## <a name="in-this-topic"></a>В этом разделе

- [Схемы UML являются представлениями модели UML](#Views)

- [Создание схем моделирования UML](#Creating)

- [Рисование схем моделирования UML](#Drawing)

- [Изменение фигур и соединителей](#Editing)

- [Отмена изменений в модели](#Undo)

- [Совместное использование элементов между схемами](#Sharing)

- [Копирование элементов и групп связанных элементов](#Copying)

- [Удаление элемента модели или его представлений](#Deleting)

- [Поиск текста на схеме](#Searching)

- [Подготовка схемы к презентации](#presentation)

- [Расширение конструкторов UML](#extensions)

## <a name="uml-diagrams-are-views-of-a-uml-model"></a><a name="Views"></a> UML-схемы — это представления модели UML
 Схемы UML можно создавать и использовать только в проектах моделирования. Дополнительные сведения о создании диаграмм и проектов см. в статье [Создание проектов и схем моделирования UML](../modeling/create-uml-modeling-projects-and-diagrams.md).

- Проект моделирования содержит одну модель UML. Все схемы UML в проекте является представлением модели UML.

- Модель можно увидеть в **обозревателе моделей UML**. В меню **архитектура** выберите пункт **окна**, а затем выберите пункт **Обозреватель моделей UML**.

- Каждая фигура на схеме является представлением элемента в модели. При размещении новой фигуры на схеме вы создаете новый элемент в модели.

- При сохранении любой схемы Visual Studio сохраняет всю модель, все ее схемы, а также файл проекта моделирования.

## <a name="creating-uml-modeling-diagrams"></a><a name="Creating"></a> Создание UML-схем моделирования

1. В меню **архитектура** в Visual Studio щелкните **создать UML или схему слоев**.

2. Выберите схему и присвойте ей имя.

3. В окне **Добавить в проект моделирования**выберите существующий проект моделирования или выберите **создать новый проект моделирования**.

   > [!NOTE]
   > Схема моделирования должна существовать внутри проекта моделирования.

   Можно также добавить схему в существующий проект моделирования в обозревателе решений. Щелкните проект моделирования правой кнопкой мыши, наведите указатель на пункт **Добавить**и выберите пункт **новый элемент**.

#### <a name="to-create-an-empty-uml-modeling-project"></a>Создание пустого проекта моделирования UML

- В меню **файл** наведите указатель мыши на пункт **создать**, выберите **проект**и в диалоговом окне **Новый проект** дважды щелкните **Проекты моделирования**.

  Дополнительные сведения об управлении проектами моделирования см. в статье [Создание проектов и схем моделирования UML](../modeling/create-uml-modeling-projects-and-diagrams.md).

## <a name="drawing-uml-modeling-diagrams"></a><a name="Drawing"></a> Рисование UML-схем моделирования
 Схема моделирования отображает коллекцию элементов модели, связанных отношениями. Каждый элемент отображается в виде фигуры, а каждое отношение отображается в виде соединителя между двумя фигурами.

 Существует два вида инструментов: для элементов и для отношений. Например, в панели элементов UML-схемы классов **класс** является инструментом элемента, а **Ассоциация** — инструментом связи.

> [!NOTE]
> Сведения, относящиеся к конкретным типам диаграмм, см. в разделе [Создание моделей для приложения](../modeling/create-models-for-your-app.md).

#### <a name="to-create-elements-and-relationships-in-a-uml-modeling-diagram"></a>Создание элементов и отношений в схеме моделирования UML

1. Чтобы создать элемент модели, щелкните инструмент элемента на панели элементов и выберите схему, где его требуется отобразить. После создания элемента измените его размер и форму, перетаскивая маркеры.

    В некоторых случаях можно поместить новый элемент внутрь другого элемента. Например, на схеме классов UML можно поместить класс внутрь пакета.

   > [!NOTE]
   > Если панель элементов не отображается, в меню **вид** выберите пункт **область элементов** .

2. Чтобы создать отношение, щелкните инструмент отношений, выберите элемент, с которого должно начинаться отношение, и выберите конечный элемент отношения.

    Различные типы отношений могут начинаться и заканчиваться разными типами элементов. Например, на схеме классов UML отношение ассоциации не может начинаться или заканчиваться элементом комментария.

   > [!NOTE]
   > Чтобы использовать один инструмент несколько раз, дважды щелкните его. Завершив работу, щелкните инструмент **указатель** .

   На некоторых типах схем можно рисовать простые фигуры. Эти фигуры не являются частью модели, но их можно использовать для привлечения внимания к частям схемы или для разделения ее на различные области.

## <a name="editing-shapes-and-connectors"></a><a name="Editing"></a> Редактирование фигур и соединителей
 В случае изменения размера или цвета фигуры или изменения маршрута соединителя это никак не повлияет на базовую модель. Однако при переименовании фигуры на схеме или в обозревателе моделей UML соответствующий элемент переименовывается в обозревателе моделей UML и на всех других схемах, содержащих этот элемент.

> [!NOTE]
> Существует простой способ создавать новые элементы панели элементов, из которых можно формировать группы элементов, или элементы с собственным набором свойств. Дополнительные сведения см. [в разделе Определение настраиваемого элемента панели элементов моделирования](../modeling/define-a-custom-modeling-toolbox-item.md).

 На следующем рисунке показано, как изменить размер фигуры или ее имя.

 ![Настройка элемента модели](../modeling/media/uml-drawadjust1.png "UML_DrawAdjust1")

> [!TIP]
> В число встроенных команд не входит команда для аккуратного выравнивания фигур. Тем не менее можно легко создать собственную команду выравнивания, скопировав код в примере в области [Отображение UML-модели на схемах](../modeling/display-a-uml-model-on-diagrams.md).

 На следующем рисунке показано, как настроить маршрут и положение соединителя или его меток.

 ![Настройка соединителя](../modeling/media/uml-drawadjust2.png "UML_DrawAdjust2")

#### <a name="to-move-one-end-of-a-connector-to-another-shape"></a>Перемещение одного конца соединителя на другую фигуру

1. Выполните одно из следующих действий.

   - Нажмите клавишу **CTRL** и переместите конец.

     \- или -

   - Щелкните соединитель правой кнопкой мыши и выберите команду **Повторное соединение**.

2. Щелкните конец соединителя, который требуется переместить.

3. Щелкните фигуру, на которую требуется переместить соединитель.

#### <a name="to-change-color-or-other-properties-of-an-element-relationship-or-diagram"></a>Изменение цвета или других свойств элемента, отношения или схемы

- Щелкните элемент и задайте поля в окне **Свойства** .

     Если окно **Свойства** не отображается, щелкните правой кнопкой мыши элемент и выберите пункт **Свойства.**

#### <a name="to-zoom-in-and-out-on-a-modeling-diagram"></a>Увеличение и уменьшение масштаба схемы моделирования

- Нажмите и удерживайте клавишу **CTRL** при вращении колесика мыши.

     \- или -

- Нажмите и удерживайте клавиши **CTRL + SHIFT**, а затем щелкните левую или правую кнопку мыши.

     \- или -

- На панели инструментов **Конструкторы архитектуры** щелкните знак плюса () **+** или знак минуса ( **-** ) или выберите масштаб.

## <a name="searching-in-a-diagram"></a><a name="Searching"></a> Поиск в диаграмме
 Функция быстрого поиска позволяет искать элементы на схеме. Необходимо задать параметр **"Искать в:"** в **текущем документе**.

#### <a name="to-search-for-text-in-a-modeling-diagram"></a>Поиск текста на схеме моделирования

1. Нажмите клавиши **CTRL + F**.

     \- или -

     В меню **Правка** наведите указатель на пункт **найти и заменить**, а затем щелкните **Быстрый поиск**.

    > [!NOTE]
    > В диалоговом окне **найти и заменить** необходимо оставить поле « **Искать в** », установленное в « **текущий документ**». Другие значения не поддерживаются.

2. Введите текст, который необходимо найти, и нажмите кнопку **Найти далее**.

    > [!NOTE]
    > Если текст, который требуется найти, находится внутри свернутой фигуры, эта фигура будет выделена. Разверните фигуру и нажмите кнопку **Найти далее** еще раз.

## <a name="undoing-changes-to-the-model"></a><a name="Undo"></a> Отмена изменений модели
 Вы можете отменить и повторить изменения, внесенные в модель и диаграммы, с помощью команд **отменить** и **повторить** в меню **Правка** .

 **Каждый проект моделирования имеет один стек изменений.** Все вносимые в модель и схемы изменения хранятся в этом стеке. Стек также включает в себя изменения фокуса с одной схемы на другую. Команда отмены отменяет изменения в этом стеке.

 Например, предположим, что выполняются следующие операции: изменение схемы 1, изменение фокуса на схему 2, изменение схемы 2. При отмене изменений первая команда отмены отменит последнее изменение, следующая вернет фокус на схему 1, а третья отменит изменение схемы 1.

 **Закрытие схемы усекает стек изменений.** В случае закрытия схемы нельзя отменить изменения, внесенные в эту схему, а также предыдущие изменения модели или любой ее схемы.

 **Нельзя отменить изменения свойства.** При редактировании свойства в окне свойств или в метке на схеме можно отменить только изменения, внесенные в это свойство. Завершите изменение свойства нажатием клавиши ВВОД или отмените его, нажав клавишу ESC. После этого вы сможете отменить изменения в модели и схемах.

 **Закрытие схемы без сохранения может не оказывать ожидаемого эффекта.** Если внести некоторые изменения, а затем закрыть схему без сохранения, изменения все равно будут сохранены в модели. Рекомендуется закрывать всю модель, если вы хотите сделать это без сохранения.

## <a name="sharing-elements-between-diagrams"></a><a name="Sharing"></a> Совместное использование элементов в диаграммах
 Определенный экземпляр элемента модели можно отобразить на схемах несколько раз. Это относится к классам, интерфейсам, компонентам, вариантам использования и субъектам.

 Это удобно, если нужно показать различные группы отношений на разных схемах. Например, на одной схеме можно показать ассоциации между классами клиента и адреса. На другой схеме можно снова показать класс адреса, имеющий ассоциацию с почтовым районом.

 Свойства элемента модели, например его имя, можно изменить, выбрав любое из его представлений на любой схеме или выбрав его в обозревателе моделей UML.

 Каждый из типов схем может отображать только некоторые виды элементов модели. Например, нельзя отобразить вариант использования на схеме компонентов. Поэтому следующие процедуры будут работать только для определенных сочетаний схемы и элемента модели.

#### <a name="to-add-a-new-view-of-a-model-element-by-using-uml-model-explorer"></a>Добавление нового представления элемента модели с помощью обозревателя моделей UML

1. Чтобы открыть **Обозреватель моделей UML**, в меню **архитектура** выберите пункт **окна**, а затем выберите пункт **Обозреватель моделей UML**.

2. Перетащите элемент модели из **обозревателя моделей UML** на совместимую схему в том же проекте.

     Отображается фигура, предоставляющая представление элемента модели, что может служить дополнением представлений на других схемах или на той же самой схеме.

    > [!NOTE]
    > Иной результат дает перетаскивание класса или компонента на схему последовательностей. В этом случае создается новый жизненный цикл, типом которого является этот класс или компонент. Дополнительные сведения см. в разделе [UML-схемы последовательностей: рекомендации](../modeling/uml-sequence-diagrams-guidelines.md).

#### <a name="to-add-a-new-view-of-a-model-element-by-using-paste-reference"></a>Добавление нового представления элемента модели с помощью команды "Вставить ссылку"

1. Щелкните правой кнопкой мыши существующий элемент и выберите команду **Копировать**.

    - Можно скопировать несколько элементов за один раз. Удерживая нажатой клавишу CTRL, щелкните каждый элемент, щелкните правой кнопкой мыши один из них и выберите команду **Копировать**.

2. Щелкните правой кнопкой мыши пустую часть совместимой схемы и выберите команду **Вставить ссылку**.

     Появляется другое представление того же самого элемента.

    > [!NOTE]
    > Это отличается от команды **вставки** , которая создает новый элемент в модели. Дополнительные сведения см. в разделе [копирование элементов и групп связанных элементов](#Copying).

> [!NOTE]
> Если добавить в схему представления двух элементов модели, уже связанных отношением, представление этого отношения также отображается на схеме. В этом представлении можно удалить, только удалив один из элементов из схемы или удалив связь из модели.

## <a name="copying-elements-and-groups-of-related-elements"></a><a name="Copying"></a> Копирование элементов и групп связанных элементов
 Можно копировать и вставлять элементы модели, а также копировать и вставлять группы элементов вместе с отношениями между ними.

> [!NOTE]
> Команды **Вставить** и **вставить ссылки** имеют разные эффекты. При **вставке** создаются новые элементы, свойства которых аналогичны копируемым элементам. Команда **Вставить ссылку** создает новые представления тех же элементов.

#### <a name="to-copy-elements-and-their-relationships"></a>Копирование элементов и их отношений

1. На схеме с элементами, которые требуется скопировать, выберите один или несколько элементов.

    > [!NOTE]
    > Копировать отношения можно только в виде части группы элементов.

2. В меню **Правка** выберите пункт **Копировать**.

3. Если требуется скопировать элементы в другую схему, создайте новую схему или откройте существующую.

4. В меню **Правка** выберите пункт **Вставить**.

    - Отображаются копии элементов вместе с копиями связывающих их отношений.

    - Каждый новый элемент получает новое имя, создаваемое автоматически.

5. Настройте положения, имена и другие свойства новых элементов и отношений.

> [!NOTE]
> Нельзя скопировать элемент модели из одной модели в другую, например при наличии двух моделей в одном решении. Однако можно скопировать элементы с одной схемы в другую.

#### <a name="to-copy-an-entire-diagram"></a>Копирование всей схемы

1. Создайте новую схему.

2. Выберите все элементы на существующей схеме, скопируйте их и вставьте в новую схему.

   Нельзя реплицировать схему путем копирования и вставки в обозревателе решений.

## <a name="deleting-a-model-element-or-its-views"></a><a name="Deleting"></a> Удаление элемента модели или его представлений
 Некоторые виды элементов, в частности классификаторы, можно удалить из схемы без удаления их из модели. Классификаторы — это основные элементы, которые отображаются на схемах классов, схемах компонентов и схемах вариантов использования. Они могут отображаться на нескольких схемах. Для этих типов элементов существуют две отдельные команды: **удалить из схемы** и **удалить из модели**.

 В противоположность этому при удалении отношения из схемы оно всегда удаляется и из модели.

> [!NOTE]
> Некоторые виды элементов на схеме UML имеют метки. Когда вы выбираете такие элементы, рисуя вокруг них прямоугольник, можно выбрать метки, но не элементы, которым они принадлежат. Удаление подмножества элементов, выбранных таким образом, не поддерживается. Чтобы выбрать подмножество этих элементов, нажмите и удерживайте клавишу **CTRL** , щелкая каждый элемент.

#### <a name="to-remove-a-classifiers-view-from-a-diagram"></a>Удаление представления классификатора из схемы

- Щелкните правой кнопкой мыши элемент на схеме и выберите команду **удалить из диаграммы**.

  \- или -

- Щелкните элемент на схеме и нажмите клавишу **Delete** .

  - Это представление элемента удаляется. Однако элемент остается в модели и по-прежнему можно найти в **обозревателе моделей UML**. Все другие представления этого элемента также сохраняются.

  - Каждый соединитель, оканчивающийся на данной фигуре, удаляется из схемы, однако представленное им отношение остается в модели. Связь можно увидеть в **обозревателе моделей UML** в разделе **связи**в каждом подсоединенном элементе.

#### <a name="to-delete-an-element-from-the-model"></a>Удаление элемента из модели

- Щелкните правой кнопкой мыши элемент в **обозревателе моделей UML** или на схеме, а затем выберите команду **удалить из модели**.

  - Элемент удаляется из всех схем, на которых он отображается.

  - Каждое отношение, которое заканчивается на этом элементе, также удаляется из модели.

#### <a name="to-delete-a-relationship-from-the-model"></a>Удаление отношения из модели

- Щелкните правой кнопкой мыши связь на схеме или в **обозревателе моделей UML**и выберите команду **удалить из модели**.

    > [!CAUTION]
    > Отношение нельзя удалить из схемы без его удаления из модели.

     Отношение удаляется из модели и удаляется из всех схем, на которых оно отображается.

## <a name="preparing-a-diagram-for-presentation"></a><a name="presentation"></a> Подготовка схемы для презентации
 Следующие функции помогают привлечь внимание к определенным частям схемы, добавить пояснения или разделить схему на различные области.

- Можно скопировать любую часть схемы в Word, PowerPoint или другой документ. Выберите нужные фигуры и соединители, щелкните их правой кнопкой мыши и выберите команду **Копировать**.

- Можно изменить цвет любой фигуры или любого соединителя. Выберите одну или несколько фигур и измените свойство **Color** . Если окно **Свойства** не отображается, нажмите клавишу **F4**.

- На диаграммах некоторых видов линии, прямоугольники и эллипсы можно нарисовать в разделе " **простые фигуры** " панели элементов. Эти фигуры не являются частью модели UML.

- Чтобы пометить область, можно перетащить комментарий с панели элементов, а затем присвоить его **прозрачному** свойству **значение true**. Как и простые фигуры, комментарии не являются частью модели UML и не отображаются в обозревателе моделей UML.

- Чтобы добавить заметки и пояснения к элементам модели, можно создать комментарии и связать их с этими элементами.

### <a name="to-export-a-diagram-as-an-image"></a>Экспорт схемы в виде изображения
 Дополнительные сведения см. в статье [Экспорт схем как изображений](../modeling/export-diagrams-as-images.md).

## <a name="extending-the-uml-designers"></a><a name="extensions"></a> Расширение конструкторов UML
 Можно добавить новые функциональные возможности для инструментов UML и адаптировать нотацию схемы под свои потребности. Дополнительные сведения см. в разделе [расширение моделей и схем UML](../modeling/extend-uml-models-and-diagrams.md).

## <a name="see-also"></a>См. также:
 [Создание проектов моделирования UML и схем](../modeling/create-uml-modeling-projects-and-diagrams.md) [анализ и моделирование архитектура](../modeling/analyze-and-model-your-architecture.md) [Создание моделей для приложения](../modeling/create-models-for-your-app.md)
