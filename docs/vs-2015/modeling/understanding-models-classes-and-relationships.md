---
title: Общие сведения о моделях, классах и отношениях | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
helpviewer_keywords:
- Domain-Specific Language, models
ms.assetid: 2ecd569c-b369-41ea-b78e-a61b62e2e4e9
caps.latest.revision: 37
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 1809072ca0a01362e6434254b6e70a4bf4db4762
ms.sourcegitcommit: 08fc78516f1107b83f46e2401888df4868bb1e40
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65698102"
---
# <a name="understanding-models-classes-and-relationships"></a>Сведения о моделях, классах и отношениях
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Доменный язык (DSL), определяется его файл определения DSL, вместе с любой пользовательский программный код, который можно написать. Из этого файла формируется наибольший объем код программы в решение DSL.  
  
 В этом разделе описаны функции центра определения DSL.  
  
## <a name="the-dsl-definition"></a>Определение DSL  
 При открытии `Dsl\DslDefinition.dsl`, [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] окно похож на следующем рисунке.  
  
 ![dsl designer](../modeling/media/dsl-designer.png "dsl_designer")  
  
 Наиболее важные сведения в определении DSL отображается в схеме определения DSL. Дополнительные сведения, которые также является частью DslDefinition.dsl, отображается в обозревателе DSL, который обычно отображается в части схемы. Работа с диаграммой для наиболее частых задач и с обозревателем доменного языка для дополнительной настройки.  
  
 Схема определения DSL показаны классы домена, которые определяют элементы модели и связей, которые определяют связи между элементами модели. Также показано, фигур и соединителей, которые используются для отображения элементы модели для пользователя.  
  
 ![dsl designer with swimlane](../modeling/media/dsl-desinger.png "dsl_desinger")  
  
 При выборе элемента в определении DSL, на схеме или в обозревателе DSL, сведения о нем отображаются в окне «Свойства». Дополнительные сведения могут отображаться в окне сведения о DSL.  
  
### <a name="models-are-instances-of-dsls"></a>Модели — экземпляры доменных языков  
 Объект *модели* является экземпляром вашего DSL, созданные пользователем. Модель содержит элементы модели, которые являются экземплярами классов домена, определенных вами и связи между элементами, которые представляют собой экземпляры доменных связей, определенных вами. Модель также может иметь фигур и соединителей, отображающих элементов модели и ссылки на схеме. Определение DSL включает классы фигур, соединителей и класс схемы.  
  
 Определение DSL также называется *модель предметной области*. Модель определения DSL или домен является представлением разработки доменного языка, тогда как модели во время выполнения экземпляра доменного языка.  
  
## <a name="domain-classes-define-model-elements"></a>Классы домена определяют элементы модели  
 Доменные классы используются для создания различных элементов в домене и доменных связей являются связи между элементами. Это представление времени разработки элементов и связей, для которого будет создан для пользователей конструктора ориентированного языка при создании своих моделей.  
  
 На этом рисунке показана модель будет создана пользователем фонотека DSL. Музыкальные альбомы, представляются полях, содержащих списки песен. Исполнители представлены поля со скругленными углами и подключены к альбомам, к которым были внесены.  
  
 ![Модель экземпляра созданного DSL](../modeling/media/music-instance.png "Music_Instance")  
  
 Определение DSL отделяет два аспекта. Внешний вид элементов модели в схеме модели определяется с помощью классов фигур и соединителей. Сведения, хранящиеся в модели определяется с помощью классов доменов и отношений домена.  
  
 Ниже показан доменным классам и отношениям в определении DSL Music библиотеки.  
  
 ![Внедрение и ссылочных связей](../modeling/media/music-classes.png "Music_Classes")  
  
 На рисунке показаны четыре класса домена. Музыка, альбома, исполнитель и Song (песня). Доменные классы определяют свойства домена, такие как имя, заголовок и т. д. Экземпляр модели значения некоторых из этих свойств отображаются на диаграмме.  
  
 Между классами приведены доменных связей. MusicHasAlbums, MusicHasArtists, AlbumbHasSongs, and ArtistAppearedOnAlbums. Связи имеет количество элементов, таких как 1..1, 0.. *. Например каждый Song (песня) должен быть связан с ровно один альбома через отношение AlbumHasSongs. Каждый альбом может иметь любое количество песен.  
  
### <a name="rearranging-the-dsl-definition-diagram"></a>Изменение расположения в схему определения DSL  
 Обратите внимание на то, что доменный класс может отображаться несколько раз в схеме определения DSL, как на этом рисунке альбома. Всегда имеется один основное представление и могут быть некоторые *ссылку* представления.  
  
 Чтобы изменить порядок в схему определения DSL, вы можете:  
  
- Поменять основной и ссылаться на представления с помощью **перенести дерево сюда** и **разделить дерево** команды. Щелкните правой кнопкой мыши класс один домен, чтобы просмотреть эти команды.  
  
- Изменить порядок доменных классов и классов фигур, нажав клавиши Ctrl + Стрелка вверх и Ctrl + Стрелка вниз.  
  
- Свернуть или развернуть классов, используя значок в правом верхнем углу каждой фигуры.  
  
- Свернуть части дерева, щелкнув знак минуса (-) в нижней части класса домена.  
  
## <a name="inheritance"></a>Наследование  
 Классы доменов могут определяться с помощью наследования. Чтобы создать наследование наследования, щелкните инструмент наследования, выберите сначала производный, затем нажмите кнопку базового класса. Элемент модели имеет все свойства, заданные в свой собственный класс домена, а также все свойства, наследуемые от базового класса. Это решение также наследует его роли в отношениях.  
  
 Наследование можно также использовать между отношения, фигуры и соединители. Наследование необходимо хранить в той же группе. Фигуры не может наследовать от класса домена.  
  
## <a name="domain-relationships"></a>Доменные связи  
 Элементы модели могут быть связаны отношениями. Ссылки всегда являются двоичными; они связывают ровно 2 элемента. Тем не менее любой элемент может иметь множество ссылок на другие объекты, и даже может существовать несколько связей между одной парой элементов.  
  
 Так же, как можно определить различные классы элементов, можно определить различные классы ссылок. Класс ссылки, называется *доменной связи*. Доменная связь указывает, какие классы элемента, которые могут подключаться его экземпляров. Вызывается каждый конец связи *роли*, и доменное отношение определяет имена для двух ролей, а также для самого отношения.  
  
 Существует два вида отношений домена: внедрение связей и ссылочные отношения. В схеме определения DSL отношения внедрения имеют сплошные линии в каждой роли и ссылочные отношения пунктирных линий.  
  
### <a name="embedding-relationships"></a>Отношения внедрения  
 Каждый элемент в модели, за исключением его корневой является целевым объектом одну ссылку для внедрения. Таким образом всю модель представляет одно дерево внедрения ссылки. Отношение внедрения представляет вложение или владельцем. Два элемента модели, которые связаны таким образом еще называют родительским и дочерним. Говорят, что дочерние внедряться в родительском объекте.  
  
 Внедрение ссылки не отображаются обычно явно как соединители на схеме. Вместо этого они обычно представлены вложения. Корень модели представлен на схеме, а внедренный в него элементы отображаются в виде фигуры на схеме.  
  
 В примере корневой класс Music имеет отношение внедрения MusicHasAlbums альбом, имеющая внедрения AlbumHasSongs для Song (песня). Песни отображаются как элементы в списке внутри каждого альбома. Музыка также имеет внедрения MusicHasArtists классу исполнителя, экземпляры которого также отображаться в виде фигуры на схеме.  
  
 По умолчанию внедренные элементы будут автоматически удалены при удалении их родительские элементы.  
  
 При сохранении модели в файл в формате XML, внедренные элементы вложены в их родителей, если вы уже настроили сериализации.  
  
> [!NOTE]
> Внедрение не является наследованием. Дочерние элементы в отношении внедрения не наследуют свойства родительского элемента. Внедрения — это тип связи между элементами модели. Наследование связь между классами и не приводит к созданию связи между элементами модели.  
  
### <a name="embedding-rules"></a>Внедрение правил  
 Каждый элемент в модели экземпляра должно быть целью ровно одну ссылку внедрения, за исключением корень модели.  
  
 Таким образом каждый класс домена не являющиеся абстрактными, кроме корневого, должен быть целевым объектом хотя бы одного отношения внедрения или наследоваться от базового класса внедрения. Класс может быть целевым объектом векторные представления двух или более, но его экземпляр элементов модели может иметь только один родительский элемент за раз. Количество элементов из целевого объекта к источнику должен быть от 0 до 1 или 1.. 1.  
  
### <a name="the-explorer-displays-the-embedding-tree"></a>Проводник отображает дерева внедрения  
 Определение DSL также создает обозреватель, который пользователи видят вместе с их схема модели.  
  
 ![Созданный обозреватель DSL](../modeling/media/music-explorer.png "Music_Explorer")  
  
 Проводник показывает все элементы в модели, даже те, для которых не определены какие-либо фигуры. Он показывает элементы и отношения внедрения, но не ссылочные связи.  
  
 Чтобы просмотреть значения свойств домена элемента, пользователь выбирает элемент, в схеме модели или в проводнике по модели и открывает окно свойств. Отображает все свойства домена, включая те, которые не отображаются на диаграмме. В примере каждая композиция имеет название и жанр фильма, но только значение заголовка отображается на схеме.  
  
## <a name="reference-relationships"></a>Ссылочные отношения  
 Отношение ссылки представляет любой тип отношений не внедрения.  
  
 Ссылочные отношения обычно отображаются как соединители между фигурами на схеме.  
  
 В XML-представление модели, ссылка между двумя элементами представляется с помощью *моникеры.* То есть моникеры являются именами, которые однозначно определяют каждый элемент в модели. XML-узел для каждого элемента модели содержит узел, который определяет имя связи и моникер элемента.  
  
## <a name="roles"></a>Роли  
 Каждое отношение домена имеет две роли, роли источника и целевой роли.  
  
 На следующем рисунке, разделяющая **издателя** доменного класса и **PublisherCatalog** доменной связи — это роль источника. Линии между доменной связи и **альбома** класс домена является целевой роли.  
  
 ![Роли и свойства. ](../modeling/media/propertycode.png "PropertyCode")  
  
 Имена, связанные с отношением особенно важны при написании программного кода, который проходит через модель. Например при сборке решения DSL, созданном классе издателя имеет свойство каталога, который является коллекцией альбомов. Класс альбомом имеет свойство издателя, один экземпляр класса издателя.  
  
 При создании связи в определении DSL, имена свойств и отношений получают значения по умолчанию. Тем не менее их можно изменить.  
  
## <a name="multiplicities"></a>Количество элементов  
 Количество элементов укажите, сколько элементов может иметь ту же роль в доменной связи. В примере нуль ко многим (0..\*) параметр кратность на **каталога** роли указывает, что любой экземпляр **издателя** доменного класса может быть столько  **PublisherCatalog** связь ссылки, как вы хотите предоставить его.  
  
 Настройте кратность роли, введя на схеме, либо путем изменения `Multiplicity` свойство в **свойства** окна. Ниже перечислены параметры для этого свойства.  
  
|Кратность типа|Описание|  
|-----------------------|-----------------|  
|0.. * (произвольным числом)|Каждый экземпляр доменного класса может иметь несколько экземпляров, связи или нет экземпляров связи.|  
|От 0 до 1 (от нуля до единицы)|Каждый экземпляр доменного класса может иметь не более одной связи или нет экземпляров связи.|  
|1..1 (один)|Каждый экземпляр доменного класса может иметь один экземпляр связи. Не удается создать более одного экземпляра этого отношения из любого экземпляра класса роли. Если проверка включена, при любой экземпляр класса роли имеет экземпляр связи не появится ошибка проверки.|  
|1.. * (один ко многим)|Каждый экземпляр класса на роль, у этого кратность может иметь несколько экземпляров связи, и каждый экземпляр должен иметь по крайней мере один экземпляр отношения. Если проверка включена, при любой экземпляр класса роли имеет экземпляр связи не появится ошибка проверки.|  
  
## <a name="domain-relationships-as-classes"></a>Доменные связи как классы  
 Ссылка представляется в Store в качестве экземпляра LinkElement, который является производным от класса ModelElement. You can define these properties in the domain model diagram on domain relationships.  
  
 Вы также можете отношение источником или назначением другие связи. В схеме модели домена, щелкните правой кнопкой мыши доменной связи и нажмите кнопку **Показать как класс**. Дополнительный класс поле, которое будет отображаться. Отношения затем можно подключиться к нему.  
  
 Можно определить отношение частично путем наследования, так же, как с помощью классов доменов. Выберите производной связи и задайте **базовой связи** в окне «Свойства».  
  
 Производной связи специализируется ее базовой связи. Домен классы, которые ссылки должен быть производным от ИТ-отдел или так же, как классы, связанные с базовой связи. Создав ссылку производной связи в модели, он является экземпляром производного и базового отношения. В программном коде можно перейти на противоположном конце ссылку, используя свойства, созданные с помощью базового или производного класса.  
  
## <a name="see-also"></a>См. также  
 [Доменная связь в сгенерированном API](../misc/domain-relationships-in-the-generated-api.md)   
 [Глоссарий средств предметно-ориентированных языков](https://msdn.microsoft.com/ca5e84cb-a315-465c-be24-76aa3df276aa)
