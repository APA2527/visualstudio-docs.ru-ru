---
title: Просмотр и реорганизация карт кода | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
ms.assetid: 08f65f77-6ca7-4b25-b060-3f6c9f5847a4
caps.latest.revision: 91
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: ffb29ee31390c512802bfd16c7b94333d0c6c403
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63433436"
---
# <a name="browse-and-rearrange-code-maps"></a>Просмотр и реорганизация карт кода
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Вы можете изменять расположение элементов на картах кода, чтобы упростить их чтение и повысить производительность.  
  
 Карты кода можно настраивать, не затрагивая базовый код решения. Это полезно, когда нужно сосредоточить внимание на ключевых элементах кода или сообщить сведения о нем. Например, чтобы выделить требуемые области, можно выбрать элементы кода на карте и отфильтровать их, изменить стиль элементов кода и связей, скрыть или удалить элементы кода, а также упорядочить элементы кода по свойствам, категориям или группам.  
  
 **Требования**  
  
- Для создания карт кода требуется Visual Studio Enterprise.  
  
- В Visual Studio Professional можно просматривать карты кода и вносить в них ограниченные изменения.  
  
## <a name="ManageLargeGraphs"></a> Приступить к работе с картами кода  
 Создайте карту кода (см. в разделе [сопоставление зависимостей в решениях](../modeling/map-dependencies-across-your-solutions.md) подробности). Если вы не хотите ждать карты для завершения создания нажмите кнопку **отменить** ссылку в любое время, чтобы остановить этот процесс. Однако в этом случае вы получите неполную информацию о зависимостях и связях.  
  
 После создания карты воспользуйтесь приведенными ниже советами по анализу кода.  
  
- Обратите внимание на естественные кластеры зависимостей в коде. На панели инструментов карты выберите **макета**, **быстрые кластеры**![быстрые кластеры кнопки на панель инструментов диаграммы](../modeling/media/quickclustersicon.gif "QuickClustersIcon"). См. в разделе [изменение макета карты](#Selecting).  
  
     ![Граф зависимостей &#45; макет быстрых кластеров](../modeling/media/dependencygraph-quickclusters.png "DependencyGraph_QuickClusters")  
  
- Разбейте карту на меньшие области путем группировки связанных узлов. Эти группы можно свернуть для просмотра только зависимостей между группами, которые появляются автоматически. См. в разделе [группа узлов](#OrganizeGroups).  
  
- Используйте фильтры, чтобы упростить карту и сосредоточиться на интересующих вас типах узлов или связей. См. в разделе [Фильтрация узлов и связей](#FilterNodes).  
  
- Повысьте производительность крупных карт. См. в разделе [сопоставление зависимостей в решениях](../modeling/map-dependencies-across-your-solutions.md) Дополнительные сведения. Например, включите **пропустить сборку** на панели инструментов карты, так что Visual Studio не перестроить решение, при обновлении элементов на карте.  
  
## <a name="Selecting"></a> Изменение макета карты  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Расположение потока зависимостей на всей карте в определенном направлении. Это помогает увидеть архитектурные уровни в коде.|На панели инструментов карты выберите **макета**, а затем:<br /><br /> -   **Сверху вниз** ![сверху нижняя кнопка graph](../modeling/media/topbottomgraphbutton.gif "TopBottomGraphButton")<br />-   **Снизу вверх** ![нижней кнопки верхний график](../modeling/media/bottomtopgraphbutton.gif "BottomTopGraphButton")<br />-   **Слева направо** ![слева для кнопки вправо макета](../modeling/media/leftrightgraphbutton.gif "LeftRightGraphButton")<br />-   **Справа налево** ![право кнопка схемы слева](../modeling/media/rightleftgraphbutton.gif "RightLeftGraphButton")|  
|Просмотр естественных кластеров зависимостей в коде: наиболее зависимые узлы находятся в центре кластеров, а наименее зависимые — возле внешней части кластеров.|На панели инструментов карты выберите **макета**, а затем **быстрые кластеры**![быстрые кластеры кнопки на панель инструментов диаграммы](../modeling/media/quickclustersicon.gif "QuickClustersIcon").|  
|Выделение одного или нескольких узлов на карте.|Чтобы выделить узел, щелкните его. Чтобы выбрать или отменить выбор более чем на одном узле, удерживайте **CTRL** щелкая мышью.<br /><br /> Клавиатуре: нажмите клавишу **ВКЛАДКЕ** или клавиши со стрелками для перемещения пунктирный прямоугольник фокуса для узла и нажмите клавишу **ПРОСТРАНСТВА** чтобы выбрать его. Нажмите клавишу **CTRL** + **ПРОСТРАНСТВА** множественный выбор или отмените выбор узлов.|  
|Перемещение определенных узлов по карте.|Чтобы переместить узлы, перетащите их. Чтобы переместить другие узлы и связи, так как перетаскивания узлов, нажмите и удерживайте клавишу **SHIFT** ключ.<br /><br /> Клавиатуре удерживайте нажатой клавишу **CTRL** и нажимайте клавиши со стрелками.|  
|Изменение структуры внутри группы независимо от других узлов и групп на карте.|Выделите узел и откройте контекстное меню. Выберите **макета** и выберите нужный стиль макета.<br /><br /> -или-<br /><br /> Выделите узел и разверните его, чтобы отобразить дочерние узлы. Щелкните название узла, чтобы показать всплывающую панель инструментов группировки, откройте **изменить стиль макета группы**![граф зависимостей &#45; панель инструментов группы &#45; макета](../modeling/media/dependencygraph-grouptoolbar.gif "DependencyGraph_ GroupToolbar") списка. Выберите одну из древовидных структур, **быстрые кластеры**, или **представление списка** (упорядочивает содержимое в список).<br /><br /> См. в разделе [группа узлов](#OrganizeGroups) для получения дополнительных сведений.|  
|Отмена действия на карте.|Нажмите клавишу **CTRL** + **Z** или использовании Visual Studio **отменить** команды.|  
  
## <a name="Explore"></a> Обзор карты  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Просмотр карты.|Перетащите карту мышью в любом направлении.<br /><br /> -или-<br /><br /> Удерживайте **SHIFT** и вращайте колесико мыши для прокрутки по горизонтали. Удерживайте **SHIFT** + **CTRL** и вращайте колесико мыши для прокрутки по горизонтали.|  
|Увеличение или уменьшение карты.|Вращайте колесико мыши.<br /><br /> -или-<br /><br /> Используйте **масштаб** стрелку раскрывающегося списка на панели инструментов карты кода.<br /><br /> -или-<br /><br /> Используйте сочетания клавиш. Чтобы увеличить масштаб, нажмите клавишу **CTRL + SHIFT +.** (точка). Чтобы уменьшить масштаб, нажмите клавишу **CTRL + SHIFT +,** (запятая).|  
|Увеличение определенной области с помощью мыши.|Удерживая нажатой правую кнопку мыши, обведите прямоугольником нужную область.|  
|Изменение размера карты под размер ее окна.|Выберите **масштаб по размеру** из **масштаб** списка на панели инструментов карты кода.<br /><br /> -или-<br /><br /> Нажмите кнопку **вписать** значок ![значок масштаба на панели инструментов карты](../modeling/media/almcodemapzoomicon.png "ALMCodeMapZoomIcon") на панели инструментов карты кода. Клавиатуре: нажмите клавишу **CTRL + 0** (ноль).|  
|Поиск узла на карте по его имени. **Совет.**  Эта операция применима только к элементам на карте. Чтобы найти элементы в решении, но не на карте, найдите их в **обозревателе решений**, а затем перетащите их на карту. (Перетащите выделенные элементы, или на панели инструментов обозревателя решений щелкните **Показать на карте кода**).|1.  Выберите **найти** значок ![найти значок на панели инструментов карты](../modeling/media/almcodemapfindicon.png "ALMCodeMapFindIcon") на панели инструментов карты кода (Клавиатура: нажмите клавишу **CTRL + F**) для отображения поле поиска в правом верхнем углу карты.<br />2.  Введите имя элемента и нажмите клавишу **возвращают** или щелкните значок «лупа». Первый элемент, соответствующий поисковому запросу, будет выделен на карте.<br />3.  Чтобы настроить поиск, откройте раскрывающийся список и выберите параметр поиска. Возможные варианты: **Найти далее**, **найти предыдущее**, и **выбрать все**. Затем нажмите соответствующую кнопку рядом с текстовым полем поиска.<br />     ![Drop параметры поиска&#45;списку](../modeling/media/almcodemapssearchdropdown.png "ALMCodeMapsSearchDropDown")<br />     Кроме того, использование клавиатуры: нажмите клавишу **F3** для выбора следующего соответствующего узла или **SHIFT + F3** для выбора предыдущего соответствующего узла.<br />4.  Выберите параметры, определяющие способ обработки поискового запроса, щелкнув значки под текстовым полем поиска.<br />     ![Параметры соответствия поиска](../modeling/media/almcodemapssearchmatchicons.png "ALMCodeMapsSearchMatchIcons")<br />     Возможные варианты: слева направо, с учетом регистра, слова целиком, использовать синтаксис регулярных выражений .NET, автоматически разворачивать группы для поиска совпадений в содержащихся в них элементах. **Внимание!**  Использовать поле поиска для нахождения совпадений в свернутых группах можно только в том случае, если эти группы были развернуты ранее. Чтобы найти эти совпадения и развернуть их родительские группы автоматически, выберите этот параметр под полем поиска.|  
|Выбор всех невыбранных узлов.|Откройте контекстное меню выбранных узлов. Выберите **выберите**, **Обратить выделение**.|  
|Выбор дополнительных узлов, связанных с уже выбранными.|Откройте контекстное меню выбранных узлов. Выберите **выберите** и один из следующих:<br /><br /> — Чтобы выбрать дополнительные узлы, которые непосредственно связано с выбранным узлом, выберите **входящие зависимости**.<br />— Чтобы выбрать дополнительные узлы, которые связаны непосредственно с выбранным узлом, выберите **исходящие зависимости**.<br />— Чтобы выбрать дополнительные узлы, которые непосредственно связаны с выбранным узлом, выберите **оба**.<br />— Чтобы выбрать все узлы, которые связаны с выбранным узлом, выберите **подключенные Подграфы**.<br />— Чтобы выбрать все дочерние элементы выбранного узла, щелкните **дочерние элементы**.|  
  
## <a name="FilterNodes"></a> Фильтрация узлов и связей  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Отображение или скрытие области "Фильтры".|Выберите **фильтры** кнопку на панели инструментов карты кода. Область "Фильтры" по умолчанию отображается в окне "Обозреватель решений" в виде страницы со вкладками.|  
|Фильтрация типов узлов, отображаемых на карте.|Установите или снимите флажки в **элементы кода** список на панели фильтров.|  
|Фильтрация типов связей, отображаемых на карте.|Установите или снимите флажки в **связи** список на панели фильтров.|  
|Отображение или скрытие узлов тестового проекта на карте.|Установите или снимите флажок **тестовых ресурсов** флажок в **Разное** список на панели фильтров.|  
  
 Значки на панели "Легенда" карты зависят от выбранных в списке пунктов. Чтобы отобразить или скрыть панель условных обозначений, нажмите кнопку **условных обозначений** кнопку на панели инструментов карты кода.  
  
## <a name="Inspect"></a> Просмотр узлов и связей  
 На картах кода приводятся следующие типы связей:  
  
- отдельная связь представляет единичное отношение между двумя узлами;  
  
- связь между группами представляет отношение между двумя узлами в разных группах;  
  
- совокупная связь представляет все отношения в одном направлении между двумя группами.  
  
> [!TIP]
> По умолчанию на карте показаны связи между группами только для выбранных узлов. Чтобы изменить это поведение, чтобы показать или скрыть совокупные связи между группами, щелкните **макета** на код панели инструментов карты и выберите **Дополнительно**, затем **Показать все связи между группами** или **Скрыть все межгрупповые ссылки**. См. в разделе [скрытие и отображение узлов и ссылок](#HidingShowing) для получения дополнительных сведений.  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Просмотр дополнительной информации об узле или связи.|Наведите указатель мыши на узел или связь, пока не появится подсказка.<br /><br /> В подсказке для совокупной связи перечисляются отдельные зависимости, которые она представляет.<br /><br /> -или-<br /><br /> Откройте контекстное меню узла или связи. Выберите **изменить**, **свойства**.|  
|Отображение или скрытие содержимого группы.|— Чтобы развернуть группу, откройте контекстное меню для узла и выберите **группы**, **Expand**.<br />     -или-<br />     Наведите указатель мыши на узел, пока не появится кнопка шеврона (стрелка вниз). Нажмите эту кнопку, чтобы развернуть группу. Клавиатуры: чтобы развернуть или Свернуть выбранную группу, нажмите клавиши **, а также** ключ (**+**) или **минус** ключ (**-**).<br />-Чтобы свернуть группу, откройте контекстное меню для узла и выберите **группы**, **свернуть**.<br />     -или-<br />     Наведите указатель мыши на группу, пока не появится кнопка шеврона (стрелка вверх). Нажмите эту кнопку, чтобы свернуть группу.<br />— Чтобы развернуть все группы, нажмите клавишу **CTRL** + **объект** для выбора всех узлов. Откройте контекстное меню для карты и выберите **группы**, **Expand**. **Примечание.**      Эта команда недоступна, если при развертывании всех групп карта станет непригодна к использованию или возникнут проблемы с памятью. Рекомендуется разворачивать карту только до необходимого уровня детализации.<br />-Чтобы свернуть все группы, откройте контекстное меню для узла или карты. Выберите **группы**, **Свернуть все**.|  
|Просмотр определения кода для пространства имен, типа или члена.|Откройте контекстное меню для узла и выберите **перейти к определению**.<br /><br /> -или-<br /><br /> Дважды щелкните узел. Если группа развернута, дважды щелкните ее заголовок.<br /><br /> -или-<br /><br /> Выберите узел и нажмите клавишу **F12**.<br /><br /> Пример:<br /><br /> — Для пространства имен, содержащего один класс файл кода для класса открывается с определением этого класса. В других случаях **результаты поиска символа** окне отображается список файлов кода. **Примечание.**      При выполнении этой задачи для пространства имен Visual Basic .NET файл кода для пространства имен не открывается. Эта проблема также возникает при выполнении данной задачи для группы выбранных узлов, в которую входит пространство имен Visual Basic .NET. Чтобы обойти эту проблему, вручную перейдите к файлу кода для пространства имен или исключите узел для пространства имен из числа выбранных.<br />— Для класса или разделяемого класса файл кода для этого класса открывается с определением класса.<br />-Для метода открывает файл кода для родительского класса, с определением этого метода.|  
|Просмотр зависимостей и элементов, участвующих в совокупной связи.|Выделите интересующие вас связи и откройте контекстное меню. Выберите **Показать добавляющие ссылки** или **Показать добавляющие ссылки на новой карте кода**.<br /><br /> Visual Studio разворачивает группы на обоих концах связи и отображает только те элементы и зависимости, которые участвуют в связи. **Примечание.**  При просмотре зависимостей между элементами в разделяемых группах можно заметить указанные ниже особенности. <ul><li>Связи с элементами, которые не участвуют в данной выборке, исчезают с карты, даже если эти связи до сих пор существуют.</li><li>Предположим, что вы просматриваете связь с элементом разделяемой группы, а затем просматриваете другую связь с этим же элементом. При втором просмотре в целевой разделяемой группе отображаются только элементы из первого просмотра. Связи и целевые элементы, которые не участвовали в первом просмотре, но участвовали во втором, не будут отображаться.</li></ul> Чтобы просмотреть отсутствующие элементы из группы, выберите **повторно извлечь дочерние элементы**![повторно извлечь дочерние элементы значок](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon") (что означает, что не все члены группы отображаются на карте). Кроме того, можно попробовать отменить свои действия (клавиатуры: нажмите клавишу **CTRL + Z**) и просмотреть зависимости на новой карте.|  
|Изучение зависимостей между несколькими узлами из разных групп.|Разверните группы, чтобы можно было просмотреть все их дочерние элементы. Выделите все нужные узлы, включая их дочерние элементы. На карте показаны ссылки между группами для выбранных узлов.<br /><br /> Чтобы выделить все узлы в группе, нажмите и удерживайте **SHIFT** и левой кнопки мыши во время нарисуйте прямоугольник вокруг этой группы. Чтобы выделить все узлы на карте, нажмите клавишу **CTRL**+**объект**. **Совет.**  Чтобы отобразить связи между группами все время, выберите **макета** на панели инструментов карты **Дополнительно**, **Показать все связи между группами**.|  
|Просмотр элементов, на которые ссылается узел или связь.|Откройте контекстное меню для узла и выберите **найти все ссылки**. **Примечание.**  Возможно только в том случае, если для узла или связи в DGML-файле карты установлен атрибут `Reference`. Чтобы добавить ссылки на элементы из узлов или ссылок, см. в разделе [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).|  
  
## <a name="HidingShowing"></a> Скрытие и отображение узлов и ссылок  
 Если скрыть узлы, они не будут участвовать в алгоритмах создания макета. По умолчанию связи между группами скрыты. Связи между группами представляют собой отдельные связи, которые соединяют узлы между группами. Если свернуть группы, все связи между группами на карте объединяются в единичные связи между группами. Если развернуть группу и выбрать в ней узлы, отобразятся связи между группами и зависимости в этой группе.  
  
> [!CAUTION]
> Перед тем как предоставить общий доступ к карте, созданной в Visual Studio Enterprise, пользователям Visual Studio Professional, отобразите все скрытые узлы или связи между группами, которые требуется показать другим пользователям. В противном случае пользователи не увидят эти элементы.  
  
### <a name="to-hide-or-show-nodes"></a>Скрытие и отображение узлов  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Скрытие выделенных узлов.|1.  Выберите узлы, которые необходимо скрыть.<br />2.  Откройте контекстное меню выделенных узлов или карты. Выберите **выберите**, **скрыть выбранные**.|  
|Скрытие невыделенных узлов.|1.  Выделите узлы, которые должны оставаться видимыми.<br />2.  Откройте контекстное меню выделенных узлов или карты. Выберите **выберите**, **скрыть невыделенного**.|  
|Отображение скрытых узлов.|— Чтобы отобразить все скрытые узлы внутри группы, сначала убедитесь, что группа развернута. Откройте контекстное меню и выберите **выберите**, **Показать дочерние элементы**.<br />     -или-<br />     Нажмите кнопку **Показать дочерние элементы**![отобразить значок дочерние элементы](../modeling/media/dependencygraph-filtericon-hiddennodes.gif "DependencyGraph_FilterIcon_HiddenNodes") значок в верхнем левом углу группы (это становится видимым только при есть скрытые дочерние узлы).<br />-Чтобы отобразить все скрытые узлы, откройте контекстное меню для карты или узла и выберите **выберите**, **отобразить все**.|  
  
### <a name="to-hide-or-show-links"></a>Скрытие и отображение связей  
  
|**Задача**|**На панели инструментов карты выберите макет, Дополнительно, а затем выберите**|  
|------------|----------------------------------------------------------------------|  
|Постоянное отображение связей между группами.|**Показать все связи между группами**. В результате будут скрыты все совокупные связи между группами.|  
|Постоянное скрытие связей между группами.|**Скрыть все ссылки между группами**|  
|Отображение связей между группами только для выбранных узлов.|**Показать ссылки между группами в выбранных узлах**|  
|Скрытие всех связей.|**Скрыть все ссылки**. Чтобы снова показать связи, выберите один из перечисленных выше пунктов.|  
  
## <a name="OrganizeGroups"></a> Группирование узлов  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Показ узлов контейнеров в виде узлов групп или листовых узлов.|Чтобы отобразить узлы контейнера как листовые узлы: Выберите узлы, откройте контекстное меню для выбранного элемента и выберите **группы**, **преобразовать в листовой узел**.<br /><br /> Чтобы отобразить узлы контейнера как узлы группы: Выберите узлы, откройте контекстное меню для выбранного элемента и выберите **группы**, **преобразовать в группу**.|  
|Изменение макета внутри группы.|Выберите группу, откройте контекстное меню, выберите **макета**и выберите нужный стиль макета.<br /><br /> -или-<br /><br /> 1.  Выделите группу и убедитесь в том, что она развернута.<br />2.  Еще раз щелкните название группы. Появится панель инструментов группы.<br />     ![Граф зависимостей &#45; панель инструментов группы](../modeling/media/dependencygraph-group.png "DependencyGraph_Group")<br />3.  Откройте **изменить стиль макета группы** списка ![граф зависимостей &#45; панель инструментов группы &#45; макета](../modeling/media/dependencygraph-grouptoolbar.gif "DependencyGraph_GroupToolbar") и выберите нужный стиль макета.<br /><br /> **Представление списка** Упорядочение членов группы в список. **Граф по умолчанию** сбрасывает макет группы в макет карты по умолчанию. Другие параметры, см. в разделе [изменение макета карты](#Selecting).|  
|Добавление узла в группу|Перетащите узел в группу.<br /><br /> При перетаскивании узла в Visual Studio отображается соответствующий индикатор.<br /><br /> Можно также перетаскивать узлы из группы.|  
|Добавление узла в узел, не состоящий в группе.|Перетащите узел в целевой узел. Любой узел можно преобразовать в группу, добавив в него узлы.|  
|Группирование выбранных узлов.|1.  Выберите узлы, которые требуется сгруппировать. Над последним выбранным узлом появится всплывающая панель инструментов.<br />     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")<br />2.  На панели инструментов щелкните четвертый значок **группа выбранных узлов** (если узел развернут у него будет пять значков вместо четырех). Введите имя новой группы и нажмите клавишу **возвращают**.<br />     -или-<br />     Выделите узлы, которые нужно сгруппировать, и откройте контекстное меню. Выберите **группы**, **Добавить родительскую группу**, введите имя новой группы, и нажмите клавишу **возвращают**.<br /><br /> Группу можно переименовать. Откройте контекстное меню для группы и выберите **изменить**, **свойства** для открытия окна Properties в Visual Studio. В **метка** свойство, переименуйте группу нужным образом.|  
|Удаление групп.|Выберите группу или группы, которые требуется удалить. Откройте контекстное меню для выбранного элемента и выберите **группы**, **удаление группы**.|  
|Удаление узлов из родительской группы.|Выберите узлы, которые требуется переместить. Откройте контекстное меню для выбранного элемента и выберите **группы**, **удаление из родительского элемента**. При этом узлы перемещаются в прародительскую группу или за пределы группы, если прародительской группы нет.<br /><br /> -или-<br /><br /> Выделите узлы и перетащите их за пределы группы.|  
  
## <a name="AddRemoveNodesLinks"></a> Добавление, удаление или переименование узлов, связей и комментариев  
 Чтобы детализировать данные на карте или упростить ее, можно отображать на карте больше или меньше элементов. Вы также можете переименовывать элементы и добавлять к ним комментарии.  
  
> [!CAUTION]
> Перед тем как предоставить общий доступ к карте, созданной в Visual Studio Enterprise, пользователям Visual Studio Professional, отобразите все скрытые элементы кода, которые требуется показать другим пользователям. В противном случае эти пользователи не смогут извлечь удаленные элементы кода.  
  
### <a name="add-a-node-for-a-code-element"></a>Добавление узла для элемента кода  
  
|**Задача**|**Выполните следующие действия**|  
|------------|-----------------------------|  
|Добавление нового универсального узла в текущем положении указателя мыши.|1.  Наведите указатель мыши на то место на карте где необходимо поместить новый элемент кода и нажмите клавишу **вставить**.<br />     -или-<br />     Откройте контекстное меню для карты и выберите **изменить**, **добавить**, **универсальный узел**.<br />2.  Введите имя нового узла и нажмите клавишу **возвращают**.|  
|Добавление узла элемента кода определенного типа в текущем положении указателя мыши.|1.  Наведите указатель мыши на то место на карте, в которое нужно поместить новый элемент кода, и откройте контекстное меню карты.<br />2.  Выберите **изменить**, **добавить**и выберите тип узла.<br />3.  Введите имя нового узла и нажмите клавишу **возвращают**.|  
|Добавление узла элемента кода универсального или определенного типа в группу.|1.  Выделите узел группы и откройте контекстное меню.<br />2.  Выберите **изменить**, **добавить**и выберите тип узла.<br />3.  Введите имя нового узла и нажмите клавишу **возвращают**.|  
|Добавление нового узла, связанного с существующим узлом и имеющего тот же тип.|1.  Выделите элемент кода. Над ним появится всплывающая панель инструментов.<br />     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")<br />2.  На панели инструментов щелкните второй значок **создать узел с той же категорией, что и этот узел и добавить новую ссылку на него**.<br />3.  Выберите место на карте, в которое нужно поместить новый элемент кода, и нажмите левую кнопку мыши.<br />4.  Введите имя нового узла и нажмите клавишу **возвращают**.|  
|Добавление нового универсального узла, на который указывает ссылка из существующего элемента кода, имеющего фокус.|1.  С помощью клавиатуры, нажмите клавишу **вкладке** ссылку из элемента кода фокус (пунктирная прямоугольник).<br />2.  Нажмите клавишу **Alt**+**вставить**.<br />3.  Введите имя нового узла и нажмите клавишу **возвращают**.|  
|Добавление нового универсального узла со ссылкой на существующий элемент кода, имеющий фокус.|1.  С помощью клавиатуры, нажмите клавишу **вкладке** элемент кода, чтобы связать фокус (пунктирная прямоугольник).<br />2.  Нажмите клавишу **Alt**+**Shift**+**вставить**.<br />3.  Введите имя нового узла и нажмите клавишу **возвращают**.|  
  
|**Чтобы добавить элементы кода**|**Выполните следующие действия**|  
|----------------------------------|-----------------------------|  
|Элементы кода в решении|1.  Найдите элемент кода в **обозревателе решений**. Используйте **обозревателе решений** поле поиска или перейдите к решению. **Совет.**      Чтобы найти элементы кода, которые имеют зависимости от типа или члена, откройте контекстное меню типа или члена в **обозревателе решений**. Выберите требуемое отношение. **Обозреватель решений** показывает только те элементы кода с указанными зависимостями.<br />2.  Перетащите требуемые элементы кода на поверхность карты. Элементы кода можно также перетаскивать из представления классов и обозревателя объектов.<br />     -или-<br />     В **обозревателе решений**, выделите элементы кода, которые необходимо сопоставить. Затем на **обозревателе решений** панели инструментов нажмите кнопку **Показать на карте кода**.<br /><br /> По умолчанию на карте отображается иерархия родительского контейнера для новых элементов кода. Используйте **включить родительские элементы** кнопку на панели инструментов карты кода, чтобы изменить это поведение. Если этот режим выключен, на карту добавляется только сам элемент кода. Чтобы отменить это поведение для одного перетаскивания действия, нажмите и удерживайте **CTRL** ключа при перетаскивании элементов кода на карту.<br /><br /> Visual Studio добавляет элементы кода для выделенных элементов кода верхнего уровня. Чтобы проверить, содержит ли элемент кода другие элементы, наведите на него указатель мыши, чтобы появился шеврон (стрелка вниз). Щелкните шеврон, чтобы развернуть элемент кода. Чтобы развернуть все элементы кода, нажмите клавиши **CTRL**+**объект** для выбора всех элементов, откройте контекстное меню для карты и выберите **группы**, **развертывания** . Эта команда недоступна, если при развертывании всех групп карта станет непригодна к использованию или возникнут проблемы нехватки памяти.|  
|Элементы кода, связанные с элементами кода на карте.|Нажмите кнопку **Показать связанные** кнопку на панели инструментов карты кода и выберите тип связанных элементов, которые вас интересуют.<br /><br /> -или-<br /><br /> Откройте контекстное меню элемента кода. Выберите один из **Показать...** пункты меню в зависимости от вида отношений, который вас интересует. Например, можно просмотреть элементы, на которые ссылается текущий элемент или которые сами ссылаются на него, базовые и производные типы для классов, вызывающие объекты методов, а также содержащие классы, пространства имен и сборки.<br /><br /> Дополнительные сведения см. в разделе [в этом разделе](../modeling/map-dependencies-across-your-solutions.md).|  
|Скомпилированные сборки .NET (DLL или EXE) или двоичные файлы.|Вне Visual Studio перетащите сборки или двоичные файлы на карту.<br /><br /> Объекты можно перетаскивать из проводника, только если проводник и Visual Studio запущены на одном уровне разрешений управления доступом на уровне пользователей. Например, если управление доступом на уровне пользователей включено и среда Visual Studio запущена с правами администратора, проводник Windows заблокирует операцию перетаскивания.|  
  
### <a name="AddNodes"></a>   
##### <a name="add-a-link-between-existing-code-elements"></a>Добавление связи между существующими элементами кода  
  
1. Выделите исходный элемент кода. Над ним появится панель инструментов.  
  
    ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")  
  
2. На панели инструментов щелкните первый значок, **Создание новой ссылки из этого узла на любой узел, который вы щелкните следующим**.  
  
3. Выделите целевой элемент кода. Между двумя элементами кода появится связь.  
  
   \- или -  
  
4. Выделите исходный элемент кода на карте.  
  
5. При наличии мыши переместите ее указатель за границы карты.  
  
6. Откройте контекстное меню элемента кода и выберите **изменить**, **добавить**, **универсальная связь**.  
  
7. Перейдите к целевому элементу кода для связи с помощью клавиши TAB и выделите его.  
  
8. Нажмите клавишу **ВВОД**.  
  
### <a name="AddComments"></a>   
##### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>Добавление комментария к существующему узлу на карте  
  
1. Выделите элемент кода. Над ним появится панель инструментов.  
  
     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")  
  
2. На панели инструментов щелкните третий значок, **создания нового узла комментария с новой ссылкой на выбранный узел**.  
  
     \- или -  
  
     Откройте контекстное меню для элемента кода и выберите **изменить**, **новый комментарий**.  
  
3. Введите комментарии. Чтобы начать ввод с новой строки, нажмите клавишу **SHIFT** + **ВОЗВРАЩАЮТ**.  
  
##### <a name="add-a-comment-to-the-map-itself"></a>Добавление комментария к самой карте  
  
1. Откройте контекстное меню для карты и выберите **изменить**, **новый комментарий**.  
  
2. Введите комментарии. Чтобы начать ввод с новой строки, нажмите клавишу **SHIFT** + **ВОЗВРАЩАЮТ**.  
  
### <a name="RenameNodes"></a>   
##### <a name="rename-a-code-element-or-link"></a>Переименование элемента кода или связи  
  
1. Выделите элемент кода или связь, которые нужно переименовать.  
  
2. Нажмите клавишу **F2**, или откройте контекстное меню и выберите **изменить**, **Переименовать**.  
  
3. Когда на карте появится поле редактирования, переименуйте элемент кода или связь.  
  
     \- или -  
  
4. Откройте контекстное меню и выберите **изменить**, **свойства**.  
  
5. Изменить **метка** свойства в окне Properties в Visual Studio.  
  
##### <a name="remove-a-code-element-or-link-from-the-map"></a>Удаление элемента кода или связи на карте  
  
1. Выберите элемент кода или связь и нажмите клавишу **удалить** ключ.  
  
     \- или -  
  
     Откройте контекстное меню для элемента кода или связи и выберите **изменить**, **удалить**.  
  
2. Если элемент или связь входит в группу, **повторно извлечь дочерние элементы** кнопку ![повторно извлечь дочерние элементы значок](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon") появляется внутри группы. Нажмите ее, чтобы получить отсутствующие элементы и связи.  
  
- Элементы кода и связи можно удалять с карты, не меняя базовый код. При удалении элементов кода и связей их определения удаляются из DGML-файла.  
  
- Карты, созданные путем изменения DGML-файла, добавления неопределенных элементов кода или использования предыдущих версий Visual Studio, не поддерживают эту возможность.  
  
##### <a name="flag-a-code-element-for-follow-up"></a>Добавление к элементу кода пометки к исполнению  
  
1. Выделите элемент кода или связь, которые нужно пометить к исполнению.  
  
2. Откройте контекстное меню и выберите **изменить**, **Отметка к исполнению**.  
  
- По умолчанию элемент кода получает красный фон. Рассмотрите возможность [добавления комментария](#AddComments) к нему соответствующими сведениями по обработке результатов.  
  
- Изменение цвета фона элемента или снимите исполнению, выбрав **изменить**, **другие цвета флагов**.  
  
## <a name="ChangeStyleCodeOrLink"></a> Изменение стиля элемента кода или связи  
 Вы можете изменять значки на элементах кода, а также цвета элементов кода и связей, используя предопределенные значки и цвета. Например, можно выбрать цвет выделения элементов кода и связей в соответствии с категорией или свойством. Это позволит идентифицировать определенные области карты и сосредоточиться на них. Можно указать настраиваемые значки и цвета путем редактирования DGML-файл карты; см. в разделе [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).  
  
#### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>Применение предопределенного цвета или значка к элементам кода или связям с определенной категорией или свойством  
  
1. На панели инструментов карты выберите **условных обозначений**.  
  
2. В **условных обозначений** поле, отображаются ли категория элемент кода или свойство уже в списке.  
  
3. Если список не содержит категорию или свойство, выберите **+** в **условных обозначений** , а затем выберите **свойство узла**, **Категория узла** , **Связать свойство**, или **ссылку категории**. Затем выберите свойство или категорию. Категория или свойство отобразится в **условных обозначений** поле.  
  
    > [!NOTE]
    > Чтобы создать и назначить категорию или свойство элементу кода, можно изменить DGML-файл карты; см. в разделе [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).  
  
4. В **условных обозначений** поле, щелкните значок рядом с категорией или свойством, вы добавили или вы хотите изменить.  
  
5. Воспользуйтесь следующей таблицей, чтобы выбрать стиль, который нужно изменить:  
  
    |**Чтобы изменить**|**Choose**|  
    |-----------------------|----------------|  
    |Цвет фона|**Фон**|  
    |Цвет контура|**Stroke**|  
    |Цвет текста (для демонстрации результата показана буква "f")|**Передний план**|  
    |Значок|**Значки**|  
  
     **Выбор набора цветов** или **Выбор набора значков** откроется диалоговое окно выбора цвета или значка.  
  
6. В **Выбор набора цветов** или **Выбор набора значков** диалоговое окно, выполните одно из следующих:  
  
    |**Для применения**|**Выполните следующие действия**|  
    |--------------------|-----------------------------|  
    |Набор цветов или значков|Откройте **выберите цвет** (или **значок**) **задать** списка. Выберите набор цветов или значков.|  
    |Определенный цвет или значок|Откройте список значений категорий или свойств. Выберите цвет или значок.|  
  
    > [!NOTE]
    > Можно изменить, удалить или временно отключить стили в **условных обозначений** поле. См. в разделе [изменение поля "Легенда"](#ModifyLegend).  
  
## <a name="ModifyLegend"></a> Изменение поля "Легенда"  
 Можно изменить, удалить или временно отключить стили в **условных обозначений** поле:  
  
1. Откройте контекстное меню стиля в **условных обозначений** поле.  
  
2. Выполните одну из следующих задач:  
  
    |**Задача**|**Choose**|  
    |------------|----------------|  
    |Отключение элемента кода|**Отключено**|  
    |Удаление элемента кода|**Удалить**|  
    |Перемещение стиля вверх|**Переместить вверх**|  
    |Перемещение элемента кода вниз|**Переместить вниз**|  
  
## <a name="CopyLegend"></a> Копирование стилей из одной карты в другую  
  
1. Убедитесь, что **условных обозначений** поле отображается на исходной карте. Если он не отображается, на панели инструментов карты, щелкните **условных обозначений**.  
  
2. Откройте контекстное меню для **условных обозначений** поле. Выберите **Копировать легенду**.  
  
3. Вставьте легенду на целевую карту.  
  
## <a name="MergeMaps"></a> Объединение карт кода  
 Чтобы объединить карты, скопируйте и вставьте элементы кода из одной карты в другую. Если идентификаторы элементов кода совпадают, при вставке элементы кода объединяются. Чтобы упростить эту задачу, поместите все сборки или двоичные файлы, которые нужно визуализировать, в одну папку, чтобы полный путь к каждой сборке или двоичному файлу был одинаков для каждой карты, которую необходимо объединить.  
  
 Кроме того, можно перетащить сборки или двоичные файлы из этой папки на одну и ту же карту.  
  
## <a name="see-also"></a>См. также  
 [Сопоставление зависимостей во всех решениях](../modeling/map-dependencies-across-your-solutions.md)   
 [Использование карт кода для отладки приложений](../modeling/use-code-maps-to-debug-your-applications.md)   
 [Поиск потенциальных проблем, с помощью анализаторов карт кода](../modeling/find-potential-problems-using-code-map-analyzers.md)   
 [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md)   
 [Справочник по языку DGML](../modeling/directed-graph-markup-language-dgml-reference.md)