---
title: Создание UML-проектов моделирования и схем | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.teamarch.addnewdiagramdialog
- vs.teamarch.createnewmodelingprojectdialog
helpviewer_keywords:
- projects [Visual Studio ALM], modeling
- diagrams - modeling, modeling
- modeling diagrams
- projects, UML
- UML, deleting diagrams
- UML
- UML diagrams, adding
- UML, projects
- Visual Studio ALM, modeling projects
- modeling projects
- UML diagrams
- projects, modeling
ms.assetid: c178b04b-4fd2-4bed-97e3-d793dae8649c
caps.latest.revision: 50
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 52c55b2cfdf000d91a83071b53e8e9450187b720
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "75852019"
---
# <a name="create-uml-modeling-projects-and-diagrams"></a>Создание проектов и схем моделирования UML
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Модели UML помогают понять, обсудить и спроектировать системы программного обеспечения. Visual Studio предоставляет шаблоны для пяти наиболее часто используемых схем UML: действия, класса, компонента, последовательности и варианта использования. В дополнение, можно создавать схемы слоев, которые помогают определить структуру системы.

 Схемы моделирования UML и схемы слоев могут существовать только внутри проекта моделирования. Каждый проект моделирования содержит совместную модель UML и несколько схем UML. Каждая схема представляет собой частичный вид модели. Модель UML содержит все элементы схем UML, при этом ее можно открыть при помощи Обозревателя модели UML. Сведения о моделях и их связях с диаграммами см. в разделе [изменение моделей и схем UML](../modeling/edit-uml-models-and-diagrams.md). Сведения о проектах моделирования в системе управления версиями см. в разделе [Управление моделями и диаграммами в системе управления версиями](../modeling/manage-models-and-diagrams-under-version-control.md) и [структурирование решения моделирования](../modeling/structure-your-modeling-solution.md) .

> [!NOTE]
> Существует другой вид схемы, схема класса .NET, которая используется для визуализации программного кода. Дополнительные сведения см. в разделе [Конструирование и Просмотр классов и типов](https://msdn.microsoft.com/library/ab7aty24.aspx).

## <a name="create-a-diagram-in-a-modeling-project"></a><a name="CreatingModelingDiagrams"></a> Создание схемы в проекте моделирования
 Чтобы узнать, какие версии Visual Studio поддерживают эту функцию, см. раздел [Version support for architecture and modeling tools](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport).

#### <a name="to-create-a-diagram-and-add-it-to-a-project"></a>Создание схемы и добавление ее в проект

1. В меню **архитектура** выберите пункт **создать UML или схему слоев**.

2. В диалоговом окне **Добавление новой схемы** выберите нужный тип схемы моделирования.

    ![Диалоговое окно "Добавление новой схемы"](../modeling/media/uml-adddiagram.png "UML_AddDiagram")

3. Введите имя для новой схемы.

4. В поле **Добавить в проект моделирования** выполните следующие действия.

   - Выберите проект моделирования, который уже существует в решении, и нажмите кнопку **ОК**.

     \- или -

   1. Выберите **создать новый проект моделирования**и нажмите кнопку **ОК**.

   2. В диалоговом окне **создать новый проект моделирования** введите имя и расположение для нового проекта, а затем нажмите кнопку **ОК**.

        ![Диалоговое окно "Создание проекта модели"](../modeling/media/uml-createmodel.png "UML_CreateModel")

        Если решение уже открыто, то новый проект будет добавлен в решение. Если открытого решения нет, то можно ввести имя нового решения.

   Если проект моделирования уже существует, можно также использовать следующую процедуру.

#### <a name="to-add-a-diagram-to-an-existing-modeling-project"></a>Добавление схемы в существующий проект моделирования

1. В **Обозреватель решений**щелкните узел проект моделирования.

    > [!NOTE]
    > Проект моделирования содержит папку определения модели с именем **моделдефинитион**.

2. В меню **Проект** выберите **Добавить новый элемент**.

3. В диалоговом окне **Добавление нового элемента —** в *\<project name>* разделе **шаблоны**щелкните тип схемы моделирования, например **Схема компонентов UML**.

4. Введите имя схемы и нажмите кнопку **Добавить**.

     Схема моделирования откроется и появится в проекте моделирования.

    > [!CAUTION]
    > Не следует добавлять, копировать или перетаскивать файлы существующей схемы в другие проекты моделирования или в другие местоположения в решении. Из-за этого могут исчезнуть элементы из скопированных схем или могут возникнуть ошибки при открытии схем. Файл схемы необходимо открывать из проекта моделирования, в котором она была создана. Это обусловлено тем, что схема UML является видом модели, принадлежащей ее проекту моделирования. Чтобы скопировать файл схемы, создайте новую схему, затем скопируйте элементы из схемы-источника в новую схему. Дополнительные сведения см. в разделе [Устранение неполадок проектов моделирования и схем](#TroubleshootingModelingProjects).

#### <a name="to-create-a-blank-modeling-project"></a>Создание пустого проекта моделирования

1. В меню **Файл** укажите **Создать**, затем нажмите **Проект**.

2. В диалоговом окне **Новый проект** в разделе **Установленные шаблоны**щелкните **Проекты моделирования**.

3. В среднем окне щелкните **проект моделирования**.

4. Назовите проект и укажите расположение в полях **имя** и **Расположение** .

5. В поле **решение** выберите **Добавить в решение** , чтобы добавить новый проект в уже открытое решение. или **Создайте новое решение** , чтобы закрыть любое открытое решение и добавить проект в новое решение.

## <a name="removing-modeling-diagrams-from-a-project"></a><a name="RemovingModelingDiagrams"></a> Удаление схем моделирования из проекта
 Можно полностью удалить схему или временно исключить ее из проекта, а затем восстановить.

#### <a name="to-permanently-delete-a-diagram-from-a-project"></a>Полное удаление схемы из проекта

- В **Обозреватель решений**щелкните правой кнопкой мыши основной файл, представляющий схему, и выберите команду **Удалить**.

     Схема удаляется из проекта и из файловой системы. Элементы, показанные на схеме, не удаляются из **обозревателя моделей UML**.

    > [!NOTE]
    > У каждой схемы есть два файла, при этом один является вспомогательным. Например, если создана схема компонентов с именем `CD1`, то надо удалить файл с именем `CD1.componentdiagram`. Его вспомогательный файл с именем `CD1.componentdiagram.layout` удалится автоматически.

#### <a name="to-temporarily-exclude-a-diagram-from-a-project"></a>Временное исключение схемы из проекта

- В **Обозреватель решений**щелкните правой кнопкой мыши файл схемы и выберите пункт **исключить из проекта**.

     Схема удаляется из проекта. Она не удаляется из файловой системы.

    > [!NOTE]
    > Элементы, показанные на схеме, не удаляются из **обозревателя моделей UML**.

#### <a name="to-restore-a-temporarily-excluded-diagram-to-a-project"></a>Восстановление временно исключенной схемы из проекта

1. В **Обозреватель решений**щелкните узел проект моделирования.

    > [!NOTE]
    > Проект моделирования содержит папку определения модели с именем **моделдефинитион**.

2. В меню **Проект** выберите пункт **Добавить существующий элемент**.

3. В диалоговом окне **Добавление существующего элемента** найдите файл диаграммы, выберите файл и нажмите кнопку **Добавить**.

     Схема моделирования откроется и появится в проекте моделирования.

    > [!NOTE]
    > Каждая схема имеет пару файлов в файловой системе. Не выбирайте файл с расширением `.layout`. Visual Studio не поддерживает также добавление существующих схем UML в несколько проектов моделирования. Каждый файл схемы должен открываться только в том проекте моделирования, в котором он был создан. Это обусловлено тем, что схема UML является видом модели, принадлежащей ее проекту моделирования.

## <a name="diagrams-that-do-not-require-modeling-projects"></a><a name="NonModelDiagrams"></a> Схемы, не требующие проектов моделирования
 Следующие виды схем не являются частью проекта моделирования.

- Схемы классов, которые создаются в качестве видов исходного кода. Они не связаны с схемами класса UML. Дополнительные сведения см. в разделе [Конструирование и Просмотр классов и типов](../ide/designing-and-viewing-classes-and-types.md).

- Карты кода. См. раздел [Map dependencies across your solutions](../modeling/map-dependencies-across-your-solutions.md).

- Схемы, которые не относятся к схемам UML или схемам слоев, таким как доменные языки.

## <a name="troubleshooting-modeling-projects-and-diagrams"></a><a name="TroubleshootingModelingProjects"></a> Устранение неполадок проектов и схем моделирования
 В следующей таблице описываются проблемы, которые могут возникать в проектах моделирования или в схемах, и способы их устранения.

|**Проблема**|**Причины**|**Способы устранения:**|
|---------------|----------------|--------------------|
|Проект моделирования не получается открыть или загрузить в решение.<br /><br /> Отобразится следующее сообщение:<br /><br /> "Один или несколько проектов в решении были загружены неправильно. Дополнительную информацию см. в окне вывода."<br /><br /> Окно вывода отображает следующее сообщение:<br /><br /> "*Моделингпрожектфиленамеандпас*. modelproj: ошибка: нераспознанный формат GUID".|У проекта моделирования есть ссылки на проекты с одинаковым именем и в одном решении.<br /><br /> Например, слой связан с проектами с одинаковым именем и в одном решении.|Используйте текстовый редактор, чтобы открыть файл проекта моделирования, удалите ссылки, затем попытайтесь открыть проект моделирования снова.<br /><br /> Чтобы избежать проблем, не добавляйте ссылки на проекты с одинаковым именем. Убедитесь, что проекты имеют уникальные имена.|
|Отсутствуют элементы схемы, добавленные, скопированные или перемещенные в другой проект моделирования или в другие местоположения в решении.<br /><br /> — или —<br /><br /> Отображается следующее решение при попытке открытия схемы:<br /><br /> -"Некоторые фигуры или соединители на схеме отсутствуют, так как их определения не существуют в этом проекте. Определения были удалены из модели в то время, как схема была закрыта, или схема была скопирована в другой проект, в котором такие определения отсутствуют."<br /><br /> — или —<br /><br /> — "Этот документ открыт другим проектом".|Файл схемы был добавлен, перемещен или скопирован из проекта моделирования в другой проект моделирования или в другое расположение в решении.|Чтобы скопировать файл схемы, создайте новую схему, затем скопируйте элементы из схемы-источника в новую схему.|

## <a name="see-also"></a>См. также:
 [Изменение моделей и схем UML](../modeling/edit-uml-models-and-diagrams.md) [Структура решения моделирования](../modeling/structure-your-modeling-solution.md)
