---
title: Развертывание ClickOnce приложений для тестирования и производства серверов без отказа (ru) Документы Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-deployment
ms.topic: conceptual
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce applications, deploying without resigning
- ClickOnce deployment, without resigning
- application updates, ClickOnce
- update location [ClickOnce]
- deploymentProvider tag
- manifests [ClickOnce]
ms.assetid: 1218a98d-1ad5-4eef-95dd-0e0b3c44168c
caps.latest.revision: 12
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: a8e41e67d5e2800acc41e1220fe632001420a274
ms.sourcegitcommit: d6828e7422c8d74ec1e99146fedf0a05f757245f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2020
ms.locfileid: "80395376"
---
# <a name="deploying-clickonce-applications-for-testing-and-production-servers-without-resigning"></a>Развертывание приложений ClickOnce для тестовых и рабочих серверов без повторного подписывания
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Эта тема обсуждает новую функцию ClickOnce, представленную в версии .NET Framework 3.5, которая позволяет развертывать приложения ClickOnce из нескольких сетевых точек без повторного подписания или изменения манифестов ClickOnce.  
  
> [!NOTE]
> Отказ от этого по-прежнему является предпочтительным методом развертывания новых версий приложений. По возможности используйте метод отставки. Дополнительные сведения см. в разделе [Mage.exe (инструмент создания и изменения манифестов)](https://msdn.microsoft.com/library/77dfe576-2962-407e-af13-82255df725a1).  
  
 Сторонние разработчики и ISV могут отказаться от этой функции, что упрощает обновление приложений для своих клиентов. Эта функция может быть использована в следующих ситуациях:  
  
- При обновлении приложения не первая установка приложения.  
  
- При наличии только одной конфигурации приложения на компьютере. Например, если приложение настроено для уточки на две разные базы данных, эту функцию использовать нельзя.  
  
## <a name="excluding-deploymentprovider-from-deployment-manifests"></a>Исключение поставщика развертывания из манифестов развертывания  
 В .NET Framework 2.0 и .NET Framework 3.0 любое приложение ClickOnce, которое устанавливается в систему для доступности в автономном режиме, должно указывать `deploymentProvider` в манифесте развертывания. Часто `deploymentProvider` упоминается как расположение обновления; это место, в котором ClickOnce будет проверять обновления приложений. Это требование в сочетании с необходимостью для издателей приложений подписать свои развертывания, затрудняет для компании обновление приложения ClickOnce от поставщика или других сторонних компаний. Это также затрудняет развертывание одного и того же приложения из нескольких мест в одной сети.  
  
 С изменениями, которые были внесены в ClickOnce в .NET Framework 3.5, это возможно для третьей стороны, чтобы предоставить приложение ClickOnce к другой организации, которая затем может развернуть приложение на своей собственной сети.  
  
 Для того, чтобы воспользоваться этой функцией, `deploymentProvider` разработчики приложений ClickOnce должны исключить из своих манифестов развертывания. Это означает `-providerUrl` исключение аргумента при создании манифестов развертывания с Mage.exe или обеспечение того, чтобы текстовый ящик **о местоположении запуска** на вкладке **Application Manifest** оставался пустым, если вы генерируете манифесты развертывания с MageUI.exe.  
  
## <a name="deploymentprovider-and-application-updates"></a>deploymentProvider и обновления приложений  
 Начиная с .NET Framework 3.5, вам больше `deploymentProvider` не нужно указывать в манифесте развертывания, чтобы развернуть приложение ClickOnce как для онлайн, так и для автономного использования. Это поддерживает сценарий, при котором необходимо упаковать и подписать развертывание самостоятельно, но позволяет другим компаниям развертывать приложение в своих сетях.  
  
 Ключевым моментом, который необходимо помнить, является то, что приложения, которые исключают `deploymentProvider` `deploymentProvider` не может изменить свое местоположение установки во время обновления, пока они не отправят обновление, которое включает тег снова.  
  
 Вот два примера, чтобы прояснить этот момент. В первом примере вы публикуете приложение `deploymentProvider` ClickOnce, которое не имеет `http://www.adatum.com/MyApplication/`тега, и просите пользователей установить его из. Если вы решите опубликовать следующее обновление `http://subdomain.adatum.com/MyApplication/`приложения из, у вас не будет возможности обозначить это в манифесте развертывания, который находится в `http://www.adatum.com/MyApplication/`. Вы можете сделать одну из двух вещей:  
  
- Покажите пользователям удалить предыдущую версию и установить новую версию из нового местоположения.  
  
- Включите `http://www.adatum.com/MyApplication/` обновление о `deploymentProvider` том, что включает в себя указывая на `http://www.adatum.com/MyApplication/`. Затем выпустите `deploymentProvider` еще `http://subdomain.adatum.com/MyApplication/`одно обновление позже с указанием на .  
  
  Во втором примере вы публикуете приложение ClickOnce, которое `deploymentProvider`определяет, и затем вы решаете удалить его. После того, `deploymentProvider` как новая версия без была загружена для клиентов, вы не сможете перенаправить путь, используемый для обновления, пока вы не выпустите версию вашего приложения, которое было восстановлено. `deploymentProvider` Как и в `deploymentProvider` первом примере, сначала следует указать на текущее местоположение обновления, а не на новое местоположение. В этом случае, если вы `deploymentProvider` попытаетесь вставить, что относится к `http://subdomain.adatum.com/MyApplication/`, то следующее обновление не удастся.  
  
## <a name="creating-a-deployment"></a>Создание развертывания  
 Для шаг за шагом руководство по созданию развертываний, которые могут быть развернуты из разных сетевых местоположений, [см. Walkthrough: Ручно развертывание приложения ClickOnce, которое не требует повторной подписи и которое сохраняет информацию](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-app-no-re-signing-required?view=vs-2015)о брендинге.  
  
## <a name="see-also"></a>См. также  
 [Mage.exe (Manifest Поколения и Редактирование инструмент)](https://msdn.microsoft.com/library/77dfe576-2962-407e-af13-82255df725a1)   
 [MageUI.exe (Manifest Поколения и Редактирование инструмент, графический клиент)](https://msdn.microsoft.com/library/f9e130a6-8117-49c4-839c-c988f641dc14)
