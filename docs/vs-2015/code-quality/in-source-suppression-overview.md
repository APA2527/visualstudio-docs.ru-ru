---
title: В обзоре подавления источника | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
helpviewer_keywords:
- source suppression, code analysis
- code analysis, source suppression
ms.assetid: f1a2dc6a-a9eb-408c-9078-2571e57d207d
caps.latest.revision: 42
author: gewarren
ms.author: gewarren
manager: wpickett
ms.openlocfilehash: 5bb3632e1ed7bf07e236322700ba8553b53a75cb
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63426604"
---
# <a name="in-source-suppression-overview"></a>Общие сведения о подавлении в исходном коде
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Подавление в исходном коде является возможность игнорировать нарушения анализа кода в управляемом коде, добавив **SuppressMessage** атрибута в сегменты кода, вызывающие нарушения. **SuppressMessage** атрибут является условным атрибутом, который включается в метаданные промежуточного языка сборки управляемого кода только в том случае, если символ компиляции CODE_ANALYSIS определен во время компиляции.  
  
 В управляемом коде C++/CLI для добавления этого атрибута используйте макрос CA_SUPPRESS_MESSAGE или CA_GLOBAL_SUPPRESS_MESSAGE в файле заголовка.  
  
 Не следует использовать в исходном подавлений в сборках выпуска избежание метаданные подавление в исходном коде случайного. Из-за стоимости обработки подавление в исходном коде производительность вашего приложения также будет снижена, включая метаданные, подавление в исходном коде.  
  
> [!NOTE]
> У вас нет для передачи кода эти атрибуты самостоятельно. Дополнительные сведения см. в разделе [Как Подавление предупреждений при помощи пункта меню](../code-quality/how-to-suppress-warnings-by-using-the-menu-item.md). Пункт меню недоступен для кода C++.  
  
## <a name="suppressmessage-attribute"></a>Атрибут SuppressMessage  
 Если щелкнуть правой кнопкой предупреждение анализа кода в **список ошибок** и нажмите кнопку **подавить сообщения**, **SuppressMessage** добавляется атрибут, либо в коде, либо до файл глобального подавления проекта.  
  
 **SuppressMessage** атрибут имеет следующий формат:  
  
```vb  
<Scope:SuppressMessage("Rule Category", "Rule Id", Justification = "Justification", MessageId = "MessageId", Scope = "Scope", Target = "Target")>  
```  
  
```csharp  
[Scope:SuppressMessage("Rule Category", "Rule Id", Justification = "Justification", MessageId = "MessageId", Scope = "Scope", Target = "Target")]  
  
```  
  
 [C++]  
  
```  
CA_SUPPRESS_MESSAGE("Rule Category", "Rule Id", Justification = "Justification", MessageId = "MessageId", Scope = "Scope", Target = "Target")  
  
```  
  
 Где:  
  
- **Правило категории** -категорию, в котором определено правило. Дополнительные сведения о категориях правил анализа кода, см. в разделе [анализ кода для предупреждений управляемого кода](../code-quality/code-analysis-for-managed-code-warnings.md).  
  
- **ИД правила** -идентификатор правила. Поддержка включает в себя как короткое и длинное имя идентификатора правила. Короткое имя является CAXXXX; длинное имя — CAXXXX:FriendlyTypeName.  
  
- **Обоснование** -текст, который используется для документирования причина подавления сообщения.  
  
- **Идентификатор сообщения** — уникальный идентификатор проблемы для каждого сообщения.  
  
- **Область** -целевой объект, на котором подавляется предупреждение. Если целевой объект не указан, ему присваивается целевой объект атрибута. Ниже приведены поддерживаемые области:  
  
    - Module  
  
    - Пространство имен  
  
    - Ресурс  
  
    - Тип  
  
    - Член  
  
- **Целевой объект** — это идентификатор, который используется для указания целевого объекта, на котором подавляется предупреждение. Он должен содержать элемент полное доменное имя.  
  
## <a name="suppressmessage-usage"></a>Использование SuppressMessage  
 Предупреждения анализа кода подавляются на уровне, к которому экземпляр **SuppressMessage** применяется атрибут. Это предназначено для тесно связать сведения о подавлении в код месте нарушения.  
  
 Общая форма подавления включает категорию правила и идентификатор правила, который содержит представление необязательное понятное имя правила. Например, примененная к объекту директива  
  
 `[SuppressMessage("Microsoft.Design", "CA1039:ListsAreStrongTyped")]`  
  
 При возникновении соображений производительности, сводя к минимуму метаданных подавления в исходном коде, само имя правила можно не использовать. Категория правил и идентификатор правила вместе составляют достаточно уникальное обозначение правила. Например, примененная к объекту директива  
  
 `[SuppressMessage("Microsoft.Design", "CA1039")]`  
  
 Этот формат не рекомендуется из-за проблем.  
  
## <a name="suppressing-multiple-violations-within-a-method-body"></a>Подавление нескольких нарушений в теле метода  
 Атрибуты могут применяться только к методу и не может быть внедрен в теле метода. Тем не менее можно указать идентификатор как идентификатор сообщения, чтобы различать несколько случаев нарушения внутри метода.  
  
 [!code-cpp[InSourceSuppression#1](../snippets/cpp/VS_Snippets_CodeAnalysis/InSourceSuppression/cpp/insourcesuppression.cpp#1)]
 [!code-csharp[InSourceSuppression#1](../snippets/csharp/VS_Snippets_CodeAnalysis/InSourceSuppression/cs/InSourceSuppression.cs#1)]
 [!code-vb[InSourceSuppression#1](../snippets/visualbasic/VS_Snippets_CodeAnalysis/InSourceSuppression/vb/InSourceSuppression.vb#1)]  
  
## <a name="generated-code"></a>Созданный код  
 Компиляторы управляемого кода и некоторые сторонние средства создания кода для упрощения разработки кода. Как правило, созданный компилятором код, который отображается в исходных файлах помечается с помощью **GeneratedCodeAttribute** атрибута.  
  
 Можно выбрать, следует ли подавлять предупреждения модуля анализа кода и ошибки для сформированного кода. Сведения о подавлении таких предупреждений и ошибок, см. в разделе [как: Отключение предупреждений для созданного кода](../code-quality/how-to-suppress-code-analysis-warnings-for-generated-code.md).  
  
 Обратите внимание, что средство анализа кода пропускает **GeneratedCodeAttribute** при применении для всей сборки или одним параметром. Такие ситуации возникают редко.  
  
## <a name="global-level-suppressions"></a>Подавления на глобальном уровне  
 Средство анализа управляемого кода проверяет **SuppressMessage** атрибуты, которые применяются на уровне сборки, модуля, типа, члена или параметра. Оно также выявляет нарушения на уровне ресурсов и пространств имен. Эти нарушения должны применяться на глобальном уровне и являются областью действия и целевые. Например следующее сообщение подавляет нарушение пространство имен:  
  
 `[module: SuppressMessage("Microsoft.Design", "CA1020:AvoidNamespacesWithFewTypes", Scope = "namespace", Target = "MyNamespace")]`  
  
> [!NOTE]
> При подавлении предупреждение в области видимости пространства имен, его подавление применяется к самому пространству имен. Он не подавляет предупреждение для типов в пространстве имен.  
  
 Любое подавление может быть выражен путем указания явного указания области. Такие подавления должны применяться на глобальном уровне. Нельзя указать подавления на уровне элементов, дополняя тип.  
  
 Подавления на уровне Global являются единственным способом для подавления сообщений, которые ссылаются на код, созданный компилятором, который не сопоставляется с явно предоставленным исходным кодом пользователя. Например следующий код отключает нарушение в созданном компилятором конструкторе:  
  
 `[module: SuppressMessage("Microsoft.Design", "CA1055:AbstractTypesDoNotHavePublicConstructors", Scope="member", Target="Microsoft.Tools.FxCop.Type..ctor()")]`  
  
> [!NOTE]
> Целевой объект всегда содержит элемент полное доменное имя.  
  
## <a name="global-suppression-file"></a>Файл глобального подавления  
 Файл глобального подавления поддерживает подавления на глобальном уровне или подавления, для которых не указан целевой объект. Например в этом файле хранятся подавления на уровне сборки. Кроме того подавлений ASP.NET, хранятся в этот файл, так как параметры на уровне проекта недоступны для кода программной части формы. Создается и добавляется в проект при первом выборе глобального подавления **в файле проекта для блокируемых предупреждений** параметр **подавить сообщения** команду в окне списка ошибок. Дополнительные сведения см. в разделе [Как Подавление предупреждений при помощи пункта меню](../code-quality/how-to-suppress-warnings-by-using-the-menu-item.md).  
  
## <a name="see-also"></a>См. также  
 <xref:System.Diagnostics.CodeAnalysis>
