---
title: Практическое руководство. Создание или обновление стандартных политик анализом кода возврата | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.policyeditor
helpviewer_keywords:
- code analysis, migrating check-in policy
ms.assetid: 458eb3b8-bb5e-4056-82b7-7079ce9c4089
caps.latest.revision: 31
author: gewarren
ms.author: gewarren
manager: wpickett
ms.openlocfilehash: 9b1ad310385d5c8c8cecaee408d049a172d53e1e
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63436850"
---
# <a name="how-to-create-or-update-standard-code-analysis-check-in-policies"></a>Практическое руководство. Создание или обновление стандартных политик возврата с анализом кода
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Вы можете потребовать, запуска анализа кода для всех проектов кода в командном проекте с помощью политики возврата анализа кода. Обязательность анализа кода может повысить качество кода, который возвращается в базу кода.  
  
> [!NOTE]
> Эта функция доступна только в том случае, если вы используете Team Foundation Server.  
  
 Политик возврата с анализом кода задаются в параметрах командного проекта и применяются к каждому проекту в командном проекте. Выполнение анализа кода, настроенных для проектов кода в файле проекта (формата .xxproj) для проекта кода. Выполнение анализа кода выполняются на локальном компьютере. При включении политику возврата с анализом кода, файлы в проекте кода, которые должны быть возвращены, которые должны быть скомпилированы после последнего редактирования и выполнения, анализа кода содержит как минимум, правила в параметры командного проекта необходимо выполнить на компьютере, где c ожидающие изменения были внесены.  
  
- Установите политику возврата для управляемого кода, путем задания *набор правил* , содержащий подмножество правил анализа кода.  
  
- Для кода C/C++ политики возврата требует, что выполняются все правила анализа кода. Можно добавить директивы препроцессора для отключения определенных правил для отдельных проектов кода командного проекта.  
  
  После указания политики возврата для управляемого кода, члены команды можно синхронизировать свои параметры анализа кода для проектов кода, параметры политики для командного проекта.  
  
### <a name="to-open-the-check-in-policy-editor"></a>Чтобы открыть редактор политики возврата  
  
1. В Team Explorer, щелкните правой кнопкой мыши имя командного проекта, выберите пункт **параметры командного проекта**, а затем нажмите кнопку **системы управления версиями**.  
  
2. В **системы управления версиями** выберите **политики возврата** вкладки.  
  
3. Выполните одно из следующих действий.  
  
    - Нажмите кнопку **добавить** для создания новой политики возврата.  
  
    - Дважды щелкните существующий **анализа кода** элемент **тип политики** списка, чтобы изменить политику.  
  
### <a name="to-set-policy-options"></a>Чтобы задать параметры политики  
  
- Установите или снимите следующие параметры:  
  
    |Параметр|Описание|  
    |------------|-----------------|  
    |**Включить возврат файлов, которые являются частью текущего решения.**|Анализ кода можно выполнять только с файлами, указанными в файлах конфигурации решения и проекта. Эта политика гарантирует, что весь код, который является частью решения анализируется.|  
    |**Принудительное применение анализа кода C/C++ (/ analyze)**|Требует, что все проекты C или C++ быть построены с / analyze-параметр компилятора, чтобы запустить анализ кода, прежде чем они могут быть возвращены.|  
    |**Принудительно использовать анализ кода для управляемого кода**|Необходимо выполнить анализ кода и сборку, прежде чем они могут быть возвращены все управляемые проекты.|  
  
- 
  
### <a name="to-specify-a-managed-rule-set"></a>Чтобы указать набор правил для управляемого кода  
  
- Из **выполнить этот набор правил** список, используйте один из следующих методов:  
  
    - Выберите набор стандартных правил Майкрософт.  
  
    - Чтобы выбрать настраиваемый набор правил, щелкните  **\<выбрать набор правил из системы управления версиями... >**, а затем введите путь управления версиями в браузере системы управления версиями набора правил. Используется следующий синтаксис пути системы управления версиями:  
  
    - **$/** `TeamProjectName` **/** `VersionControlPath`  
  
    - Дополнительные сведения о том, как создать и применить правило настраиваемой политики, см. в разделе [реализация пользовательских политик возврата для управляемого кода](../code-quality/implementing-custom-code-analysis-check-in-policies-for-managed-code.md).  
  
## <a name="see-also"></a>См. также  
 [Создание и использование политик возврата с анализом кода](../code-quality/creating-and-using-code-analysis-check-in-policies.md)
