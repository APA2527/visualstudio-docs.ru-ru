---
title: Как создать настраиваемый набор правил | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.addremoverulesets
helpviewer_keywords:
- Development Edition, rule sets
ms.assetid: bcc42508-9592-4802-9f66-a50111641d73
caps.latest.revision: 26
author: jillre
ms.author: jillfra
manager: wpickett
ms.openlocfilehash: 6e4aef02a2bb320112d7d268da28cf66b1ec6751
ms.sourcegitcommit: a8e8f4bd5d508da34bbe9f2d4d9fa94da0539de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2019
ms.locfileid: "72657451"
---
# <a name="how-to-create-a-custom-rule-set"></a>Практическое руководство. Создание настраиваемого набора правил
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

В [!INCLUDE[vsUltShort](../includes/vsultshort-md.md)], [!INCLUDE[vsPreShort](../includes/vspreshort-md.md)] и [!INCLUDE[vsPro](../includes/vspro-md.md)] можно создать и изменить набор настраиваемых *правил* для удовлетворения конкретных потребностей проекта, связанных с анализом кода. Чтобы создать настраиваемый набор правил, откройте один или несколько стандартных наборов правил в редакторе набора правил. Затем можно добавить или удалить определенные правила, а также изменить действие, выполняемое при анализе кода, чтобы определить, нарушено ли правило.

 Чтобы создать новый настраиваемый набор правил, сохраните его с новым именем файла. Настраиваемый набор правил автоматически назначается проекту.

## <a name="opening-the-rule-set-editor"></a>Открытие редактора набора правил

#### <a name="to-open-an-empty-rule-set-file-in-the-rule-set-editor"></a>Открытие пустого файла набора правил в редакторе набора правил

1. В меню **файл** [!INCLUDE[vs_current_short](../includes/vs-current-short-md.md)] выберите команду **создать** , а затем — **файл**.

2. В диалоговом окне **новый файл** щелкните **Общие** в списке **Установленные шаблоны** , а затем выберите **набор правил анализа кода**.

3. Откроется редактор набора правил. В списке редактора не выбрано ни одного правила.

#### <a name="to-create-a-custom-rule-from-a-single-existing-rule-set"></a>Создание настраиваемого правила на основе одного существующего набора правил

1. В обозреватель решений щелкните правой кнопкой мыши проект и выберите пункт **Свойства**.

2. На вкладке **Свойства** щелкните **анализ кода**.

3. В раскрывающемся списке **набор правил** выполните одно из следующих действий.

   - Выберите набор правил, который требуется настроить.

     \- или -

   - Выберите **\<Browse... >** , чтобы указать существующий набор правил, отсутствующий в списке.

4. Нажмите кнопку **Открыть** , чтобы отобразить правила в редакторе набора правил.

#### <a name="to-create-a-custom-rule-set-from-multiple-existing-rule-sets"></a>Создание настраиваемого набора правил на основе нескольких существующих наборов правил

1. В обозреватель решений щелкните правой кнопкой мыши проект и выберите пункт **Свойства**.

2. На вкладке **Свойства** щелкните **анализ кода**.

3. Выберите **\<Choose нескольких наборов правил... >** **выполнить этот набор правил**.

4. В диалоговом окне **Добавление или удаление наборов правил** выберите наборы правил, на которых необходимо создать новый набор правил, а затем нажмите кнопку **ОК**.

5. Сохраните новый набор правил.

     Имя нового набора правил выбирается в списке **выполнить этот набор правил** . Отображаемое имя набора правил можно изменить на следующем шаге.

6. Используемых Чтобы изменить отображаемое имя набора правил, в меню **вид** выберите пункт **окно свойств**. Введите отображаемое имя в поле **имя** .

7. Чтобы добавить, удалить или изменить конкретные правила анализа кода в новом наборе правил, нажмите кнопку **Открыть**.

## <a name="modifying-a-rule-set"></a>Изменение набора правил

#### <a name="to-modify-a-rule-set-in-the-rule-set-editor"></a>Изменение набора правил в редакторе набора правил

- Чтобы изменить отображаемое имя набора правил, в меню **вид** выберите пункт **окно свойств**. Введите отображаемое имя в поле **имя** . Обратите внимание, что отображаемое имя может отличаться от имени файла.

- Чтобы добавить все правила группы в настраиваемый набор правил, установите флажок для группы. Чтобы удалить все правила группы, снимите флажок.

- Чтобы добавить определенное правило в набор настраиваемых правил, установите флажок для этого правила. Чтобы удалить правило из набора правил, снимите флажок.

- Чтобы изменить действие, выполняемое при нарушении правила в ходе анализа кода, щелкните поле **действия** для правила, а затем выберите одно из следующих значений:

     **Warn** — выдает предупреждение.

     **Ошибка** -выдает ошибку.

     **Нет** — отключает правило. Это действие аналогично удалению правила из набора правил.

## <a name="changing-the-rule-set-editor-display"></a>Изменение отображаемого редактора набора правил

#### <a name="to-group-filter-or-change-the-fields-in-the-rule-set-editor-by-using-the-rule-set-editor-toolbar"></a>Группирование, фильтрация или изменение полей в редакторе набора правил с помощью панели инструментов редактора набора правил

- Чтобы развернуть правила во всех группах, щелкните **Развернуть все**.

- Чтобы свернуть правила во всех группах, щелкните **Свернуть все**.

- Чтобы изменить поле, по которому группируются правила, выберите поле в списке **Группировать по** . Чтобы отобразить правила, разгруппированные, выберите **\<None >** .

- Чтобы добавить или удалить поля в столбцах правил, щелкните **Параметры столбцов**.

- Чтобы скрыть правила, которые не применяются к текущему решению, **Скройте правила, которые не применяются к текущему решению**.

- Чтобы переключиться между отображением и скрытием правил, которым назначено действие ошибка, щелкните **Показать правила, которые могут формировать ошибки анализа кода**.

- Чтобы переключиться между отображением и скрытием правил, которым назначено действие предупреждение, щелкните **Показать правила, которые могут формировать предупреждения анализа кода**.

- Чтобы переключиться между отображением и скрытием правил, которым назначено действие **нет** , щелкните **Показать правила, которые не включены**.

- Чтобы добавить или удалить наборы правил Майкрософт по умолчанию для текущего набора правил, щелкните **Добавить или удалить дочерние наборы правил**.

## <a name="see-also"></a>См. также раздел
 [Руководство. Настройка анализа кода для](../code-quality/how-to-configure-code-analysis-for-a-managed-code-project.md) [справочника по набору правил анализа кода](../code-quality/code-analysis-rule-set-reference.md) проекта управляемого кода
