---
title: Меню и команды
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
ms.assetid: 0a1ed675-2bd1-4603-ba3a-f40dfb5cfb69
caps.latest.revision: 5
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 681df08c02813e209738e629495190ad889caf31
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "68202094"
---
# <a name="menus-and-commands-for-visual-studio"></a>Меню и команд для Visual Studio
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

## <a name="command-usage"></a>Использование команды

### <a name="overview"></a>Обзор
 В отличие от Microsoft Office, который представляет собой набор, который состоит из многих отдельных программных продуктов, Visual Studio содержит множество продуктов, что каждый contribute их наборов команд для глобального Visual Studio IDE. Интегрированной среды разработки, который управляет сложности тысяч команд фильтрации функциональные возможности, доступные для пользователя на основе контекста.

 При изменении контекста пользователя — например нужно перейти в окне конструктора окна редактора кода — функциональные возможности, не имеющих отношения к исчезает новый контекст. В то же время, новые функциональные возможности поверхности вместе с соответствующим динамические сведения, такие как параметры свойств и элементов. Пользователь не должны заметить замена набор доступных команд. Если пользователь является отвлекают или озадачить команды, появляющихся или исчезают, дизайн пользовательского интерфейса должен коррекции. Текущий контекст пользователя всегда указывается в одним или несколькими способами, например, в строке заголовка интегрированной среды разработки, окне «Свойства» или диалоговом окне страницы свойств.

 Панели команд для обеспечения гибкости в пользовательском Интерфейсе. Только команда структуры встроенные в Visual Studio, среды, в главном меню и панели основных команд, который могут быть настроены и даже скрыты. Другим панелям команд появляются и исчезают в зависимости от состояния приложения. Окна инструментов и редакторы документа также может содержать внедренных панелей инструментов в их краев окна.

#### <a name="basic-guidelines"></a>Основные рекомендации

##### <a name="use-existing-shared-commands-command-groups-and-menus-whenever-possible"></a>Используйте существующие общие команды группы команд и меню, когда это возможно.
 Так как команды являются обычно отображаются в контексте, использование существующего общего меню и группы команд гарантирует, что структура команд остается относительно стабильной между изменениями в контексте. Повторное использование общих команд и размещение новых команд близко к связанных общих команд также снижает сложность интегрированной среды разработки и создает удобство работы. Если новая команда должна быть задана, попробуйте поместить его в существующую группу общих команд. Если новая группа должна быть задана, поместите его в существующее общего меню рядом с соответствующей командой группы перед созданием нового меню верхнего уровня.

##### <a name="do-not-create-icons-for-every-command"></a>Не создавайте значки для каждой команды.
 Тщательно планировать создание значок команды. Значки должны создаваться только для команд:

- отображаются на панели инструментов по умолчанию.

- скорее всего, могут добавить пользователей на панели инструментов с помощью **Настройка...** диалоговое окно.

- имеют значок, связанный с одним действием в другим продуктом корпорации Майкрософт.

##### <a name="limit-the-addition-of-keyboard-shortcuts"></a>Ограничить Добавление сочетания клавиш
 Подавляющее большинство пользователей используют лишь небольшую часть всех доступных сочетаний клавиш. Если вы сомневаетесь, не привязан компонента клавиш. Работа с пользователей возникают team перед добавлением новых сочетаний клавиш.

##### <a name="give-commands-a-default-menu-placement"></a>Присвойте в положении по умолчанию меню команд.
 Имейте в виду, что ваши команды будут настраиваться другими пользователями и разрабатывать их соответствующим образом. Нет такого понятия, как скрытые команды. Все команды Visual Studio отображаются в **средства > Настройка** диалоговое окно, в окне командной строки автозавершение, **средства > Параметры > клавиатура** диалогового окна, а среда средств разработки (DTE). Обязательно укажите имя и всплывающей подсказки в файле .ctc вашей команды, чтобы их будет проще найти.

##### <a name="do-not-duplicate-shared-commands-on-an-embedded-toolbar"></a>Не дублируют общих команд на встроенной панели инструментов.
 Это полезно для размещения команды в непосредственной близости к области фокуса пользователя. Один из способов сделать это является создание встроенной панели инструментов в верхней части окна инструментов или документов редактора. Команды, на панели инструментов должно быть точным для области содержимого в пределах окна. Не дублируют общих команд на этих панелях инструментов. Например никогда не размещайте значок «Сохранить» в рамках встроенной панели инструментов.

### <a name="content-and-command-visibility"></a>Видимость содержимого и команды
 Команды находятся в следующих областях: **Среда**, **иерархии**, и **документа**. Знаете каждой из областей, чтобы быть уверенным в размещения команд.

 Команды в **среды** область установления основного контекста и являются общими для нескольких контекстах. Они изменяют видимости и упорядочения документов и окна инструментов. Команды среды области перечислены **новый проект**, **соединение с сервером**, **присоединение процессу**, **Вырезать**,  **Копировать**, **вставить**, **найти**, **параметры**, **настроить**, **новое окно**, и **Просмотр справки**.

 Команды в **иерархии** область управление иерархиями в Visual Studio, включая **проекта**, **Team**, и **данных**. Они относятся к вложенного контекста проекта — например, **Отладка**, **построения**, **теста**, **архитектура**, или **анализ** . Команды в иерархии области перечислены **Добавление нового элемента**, **новый запрос**, **параметры проекта**, **добавить новый источник данных**, **Запустить мастер производительности**, и **новую схему**.

 Команды в **документа** область выполнение действий над ними содержимое документа, например код, конструктор или запрос рабочих элементов (WIQ). Они также действуют в представлении окна инструментов или в противном случае относятся к окну инструментов. Команды области документа также действуют на объекты файлов, которые сами конкретных иерархии, таких как **удалить из проекта**. Среди команд в документе есть область **рефакторинг > Переименовать**, **создать копию рабочего элемента**, **развернуть все**, **Свернуть все**, и **Создать задачу пользователя**.

### <a name="command-placement-decisions"></a>Решений о размещении команды
 Если вы решили создать команду, необходимо определить его правильного размещения и следует ли создавать сочетания клавиш. Перейдите по этому пути принятия решений для установления поместить команду:

 ![Диаграмма решения размещения команды](../../extensibility/ux-guidelines/media/0501-a-commandplacement.png "0501 a_CommandPlacement")

 **Путь принятия решений для размещения команд в Visual Studio**

### <a name="command-placement-in-menus"></a>Размещение команды в меню

#### <a name="main-menu-bar"></a>Главное меню
 В строке главного меню должно быть стандартное расположение команд любых пакетов контекстные меню, которые участвуют в пользовательский интерфейс. Строку главного меню отличается от других структур команды в том, что в среде используется его к элементу управления, какие команды являются видимыми. Другим панелям команд просто отключите команды, которые находятся за пределами контекста, помещаются в меню или на панели инструментов.

 Среда определяет набор команд, встроенные в строку главного меню, которые являются общими для всей интегрированной среды разработки и несколько доменов задач. Эти команды отображаются всегда независимо от того из которых загружаются пакетов VSPackage в среде. Несмотря на то, что пакеты VSPackage может расширить этот набор команд, набор из каждого продукта и размещения своих команд команд отвечает каждой группы.

 Структура в главном меню Visual Studio можно разделить на следующие категории меню:

##### <a name="core-menus"></a>Меню Core

- Файл

- Правка

- Просмотр

- Инструменты

- Окно

- Help

##### <a name="project-specific-menus"></a>Меню для конкретного проекта

- Проект

- Построить

- Отладка

##### <a name="context-specific-menus"></a>Контекстные меню

- Команда

- Данные

- Тест

- Архитектура

- Анализ

##### <a name="document-specific-menus"></a>Меню для конкретного документа

- Формат

- Таблица

##### <a name="when-designing-main-menus-adhere-to-these-rules"></a>При разработке главных меню, соответствуют следующим правилам:

- Не превышает 25 элементы верхнего уровня в данном контексте

- Меню никогда не должен превышать 600 пикселей в высоту.

- Оценка главного меню в нескольких контекстах, например в Ultimate SKU, а также общие профиль.

- Всплывающее меню являются допустимыми.

- Всплывающее меню должен содержать по крайней мере три элемента и не более семи.

- Всплывающее меню должны начать выполняться только один уровень глубокой — некоторые пункты меню Visual Studio есть каскадных подменю, но этот шаблон не рекомендуется.

- Использовать не более шести разделители. Группирований должны придерживаться следующей иллюстрации:

     ![Рекомендации по группированию главного меню](../../extensibility/ux-guidelines/media/0501-b-mainmenus.png "0501 b_MainMenus")

- Хотя это не обязательно для каждой группы на рисунке, добавив дополнительные группы ограничено.

- Каждой группы должны иметь от двух до семи элементов меню.

#### <a name="main-menu-ordering"></a>Упорядочение главного меню
 Прежде чем добавлять новый элемент верхнего уровня, рекомендуется поместить команду в существующее меню верхнего уровня. При добавлении нового меню верхнего уровня, не забудьте поместить его в нужное место. Решите, является ли меню для проекта, контекст или документа. Оставьте краткое имя для меню верхнего уровня и использовать только одно слово.

 Меню core следует форзац остальная часть команды. Файл, редактирования и просмотра всегда должен быть направлен слева и средства, окно, и всегда должна быть Справка справа.

#### <a name="context-menus"></a>Контекстные меню
 Размещение слишком много функциональности в контекстные меню результаты в интерфейсе сложно для изучения. Все основные функции должны быть доступны в этой строке главного меню. Размещение команд должны быть согласованы со существующие команды, чтобы избежать повторяющихся команд. Для контекстных меню интерпретатор команд определяет стандартное меню группы, которые должны быть включены в зависимости от того, в контекстном меню для решения, узла проекта или элемента проекта.

 При разработке контекстные меню, соответствуют тем же правилам, что и для главного меню и в дополнение:

- Не превышает 25 пункты меню верхнего уровня.

- Всплывающее меню являются допустимыми, но должен не превышать один уровень глубже – никогда не используйте каскадные всплывающие окна.

- Использовать не более шести разделители.

### <a name="command-placement-in-toolbars"></a>Размещения команд на панелях инструментов

#### <a name="general-toolbars"></a>Общие панели инструментов
 При разработке и упорядочивание панелей инструментов, выполните эти стандарты.

- Не используйте больше одной команды на кнопку. Одна кнопка = одно действие.

- Текст для элемента значок следует используйте только в том случае, если это необходимо проявится с меткой.

- Используйте поле со списком исключительно для свойств, которые переключаются несколько раз за один сеанс. В противном случае — предоставить свойство в другом месте.

- Ширина самой длинной элемента в поле + 30%, должно быть равно ширина поля со списком. Например если самая длинная элемент является 200 пикселей, поле со списком необходимо 260 пикселей в ширину.

- Ограничьте использование разделителей. Разделитель рядом с раскрывающийся список обусловлено антишаблоном, фигуры, из раскрывающегося списка, сам выступает в качестве визуального разделителя.

- Значок группы должен содержать от 3 до шести значки.

- Если несколько полезных команд квалификаторы, используйте Разворачивающаяся кнопка, которая сохраняет последний параметр:

     ![Разбивка кнопок в Visual Studio](../../extensibility/ux-guidelines/media/0501-c-splitbuttons.png "0501 c_SplitButtons")

     **Пример разворачивающейся кнопке. Шесть команд в левой части можно вместо этого помещаются в одну кнопку.**

#### <a name="product-specific-toolbars"></a>Панели инструментов конкретного продукта
 Каждый продукт может предоставить что по умолчанию панель инструментов, которая содержит часто используемые и важные команды и панели инструментов по умолчанию для каждого продукта, которые должны отображаться при первом запуске Visual Studio после установки продукта.

 Продукты должны также использовать группы общих команд и меню, предоставляемые интегрированной среды разработки. Каждая группа общих команд помещается в общее меню, предназначены для упорядочения связанных команд в понятной для пользователя. Очень важно использовать структуру общих команд для снижения сложности.

#### <a name="global-toolbars"></a>Глобальные панелей инструментов
 Помещается на одной строке стандартно необходимы глобальной панели инструментов. При создании новой главной панели инструментов, необходимо следуйте рекомендациям для этого типа на панели инструментов.

 **Инструкции по общей панели инструментов:**

- Каждая панель инструментов содержит 24 пикселя в элементах управления (захвата, переполнения).

- Каждой кнопки панели инструментов — 22 пикселей в ширину, включая заполнения. Что делает значок разворачивающуюся кнопку добавляет другой 11 пикселей от ширины.

- Допускается дублирование команд на панели инструментов.

  **Панели инструментов для конкретного документа** отображается при активном файлов определенных типов и исчезает, когда становится активным в файл другого типа.

- Панели инструментов для конкретного документа не может иметь более 12 кнопок.

- Общая ширина панели инструментов не может превышать 300 пикселей.

- Каждый тип файла может иметь один встроенной панели инструментов или одного конкретного документа главной панели инструментов, но не оба.

  **Контекстно зависимое панелей инструментов** появляются при определенном контексте присвоено значение и обычно остаются активными в течение длительного времени.

- Кнопка для всех панелей инструментов зависящего от контекста это значение равно 18.

- Если большинство пользователей не будет постоянно использовать команды эта панель инструментов, при активном контексте, затем не связать эта панель инструментов с контекстом.

- Убедитесь, что панель инструментов не отображается, при выходе из контекста. Ни один из этих панелей инструментов должна отображаться при запуске.

  **Панели инструментов без контекста** никогда не появляются автоматически. Они показывают, только когда пользователь активирует их. Сохраните Максимальная ширина ниже 200 пикселей.

### <a name="general-organization-and-shell-defined-groups"></a>Общая организация и определенные shell группы
 Используйте существующие общие команды, группы команд и меню. Если новая команда должна быть задана, попробуйте поместить его в существующую группу общих команд. Если новая группа должна быть задана, попробуйте поместить его в существующее общего меню рядом с соответствующей командой группы перед созданием нового меню верхнего уровня. Это уменьшает сложность команды, обеспечивая согласованное команд размещения в интегрированной среде разработки.

 Общий **формат** меню обычно отображаются в контексте окна конструктора стиле документов, показана на следующем рисунке:

 ![Меню формата Visual Studio с выносками](../../extensibility/ux-guidelines/media/0501-d-formatmenu.png "0501 d_FormatMenu")

 **Группы меню в Visual Studio**

### <a name="reducing-and-reusing-commands"></a>Сокращение и повторное использование команд
 Команды обычно отображаются в контексте, чтобы сократить количество команд, которые пользователь видит в любой момент времени. Тем не менее следует также повторно использовать существующие общие меню и группы команд, чтобы убедиться, что структура команд остается относительно стабильной работы между изменениями в контексте.

 Повторное использование общих команд и размещение новых команд близко к связанных общих команд снижает сложность интегрированной среды разработки и создает удобство работы.

## <a name="naming-commands"></a>Именование команды

### <a name="naming-conventions"></a>Соглашения об именах
 Согласованное команда именования крайне важно, чтобы пользователи могут находить и выполнять команды, либо с помощью командной строки или привязки клавиш. Имена команд также помочь пользователю понять, какие цели команды служит, когда она появится на панели инструментов или в каскадных или команду контекстного меню.

#### <a name="when-naming-commands"></a>При именовании команды:

- Создайте текст, так как это было удобно локализовать. Дополнительные сведения о локализации текста, см. в разделе [рекомендации по локализации](/dotnet/standard/globalization-localization/best-practices-for-developing-world-ready-apps#localization-best-practices).

- Краткая форма изложения. Команды следует использовать не более трех слов.

- Используйте заглавные буквы регистр: должна быть прописной первую букву каждого слова. Дополнительные сведения о форматировании в Visual Studio, см. в разделе [стиль текста](../../extensibility/ux-guidelines/fonts-and-formatting-for-visual-studio.md#BKMK_TextStyle).

- Имейте в виду, где будет размещаться команда. Это в меню верхнего уровня или всплывающее окно? Например, когда команды выравнивания группирования в всплывающего меню, команд верхнего уровня должен быть «Выравнивание» и команд всплывающего меню должен быть «Слева,» «Вправо», «Center», «выравнивание» и так далее. Излишне для именования команд всплывающего меню «Выровнять по левому краю» или «Выровнять Right».

     ![Меню формата Visual Studio](../../extensibility/ux-guidelines/media/0502-a-formatmenu.png "0502 a_FormatMenu")

### <a name="using-icons-with-commands"></a>С помощью значков с командами
 Быть резервирования в использовании значок выполнить связывание с помощью команды. Несмотря на то, что связывание уникальный образ с помощью команды ускоряет возможность определить команды, визуального загромождения и неэффективность возникать чрезмерного использования образа. Следующие правила помогут при принятии значок команды "Создать".

#### <a name="use-an-icon-with-a-command-only-if"></a>Используйте значок с помощью команды только в том случае, если:

- Та же команда имеет значок, связанный с ним в другом продукте заметной Майкрософт, например, одна из приложения Microsoft Office.

- Команда будет помещен в панель инструментов по умолчанию.

- Команда — это специальные команды, пользователи могут добавить панель инструментов с помощью **«Настройка...»** диалоговое окно.

## <a name="access-and-shortcut-keys"></a>Доступ и сочетания клавиш

### <a name="overview"></a>Обзор
 Существует два вида назначения клавиш клавиатуры.

- **Ключи доступа** (также известный как ускорители) Разрешить доступ с клавиатуры с помощью меню для команды, так и для каждой метки в диалоговом окне пользовательского интерфейса. Ключи доступа являются главным образом для специальных возможностей, назначаются всех меню и большинство элементов управления полей диалогового окна, не обязательно быть запомнен, влияют на только текущее окно и локализованы.

- **Сочетания клавиш** чаще всего используется элемент управления (Ctrl) и последовательности ключей функция (ло). Они более предназначены для опытных пользователей и помогающих в производительности. Они назначаются только наиболее часто используемых команд и обеспечить быстрый доступ в режиме обход в главном меню. Сочетания клавиш предназначены для быть запомненные и, поэтому должны быть назначены соответствуют схеме профиля. Схемы ключа контекстное зависит от профиля для профиля. Пользователь может настроить сочетания клавиш, через **Сервис > Параметры > клавиатура**.

### <a name="assigning-access-keys"></a>Назначение клавиш доступа
 Ключи доступа состоят из клавиши Alt, а также буквенно-цифровых. Назначение клавиши доступа к каждому элементу меню без исключений. Выполните Windows и общих соглашений для назначение клавиш доступа. Например, ключ доступа для **файл > создать** всегда должно быть **Alt, F, N**.

 Не буквы одним ширина в пикселях, например, «i» (в верхнем или нижнем регистре) или строчную букву «l» и не используйте символы с подстрочных элементов (g, j, p, q и y), как их трудно отличить.

 Старайтесь не использовать повторяющиеся ключи, когда это возможно. В случаях, когда дублирование неизбежно система меню обрабатывает конфликты циклически все команды, использующие ключ. Например, для гипотетического «Number» команды в меню «файл», которое дублирует ключ доступа «N» **Alt, F, N** будет создан новый файл, и **Alt "," F "," N "," N** выполнит команду «Number».

### <a name="assigning-shortcut-keys"></a>Назначение сочетаний клавиш
 Не следует назначать новые сочетания клавиш, так как они не являются обязательными для каждой команды и уплаты налогов системы (и памяти пользователя), если поскольку вызовет перегрузку. Данные из программы улучшения качества клиента (CEIP) показывает, что пользователям Visual Studio использовать только небольшой набор интегрированных сочетания клавиш.

 При определении сочетания клавиш, подчиняются следующим правилам:

- **Использование функций управления (Ctrl) и последовательности ключей функция (ло).**

- **Сохранить часто используемые сочетания клавиш.** Поддерживать наиболее широко используемые сочетания клавиш.

- **Упрощают введите сочетаний клавиш.** Привязывать сочетания клавиш для типа к командам, что разработчики должны большинство при написании кода. Например **Edit.InvokeSmartTag** должен иметь быстрый сочетания клавиш, например Ctrl +/ и не Alt + Shift + F10.

- **Стремитесь к постоянно тематические сочетания клавиш.**

- **Следуйте рекомендациям Windows, чтобы определить, какие модификатор ключей, чтобы использовать.** Используйте сочетания клавиш Ctrl для команд, которые имеют крупномасштабных эффекты, такие как команды, применимые к всему документу. Используйте сочетания клавишу Shift для команд, которые расширяют или дополняют действия стандартные сочетания клавиш. Не используйте комбинации Ctrl + Alt.

- **Удалите лишние сочетания клавиш.** Если у вас есть устаревшие функции, рекомендуется удалить ярлыки, которые используются с extreme infrequency (менее 10 раз на основе данных программы улучшения качества по) или средняя infrequency (менее 100 раз из данных программы улучшения качества по), если ключ доступа обеспечивает быстрый доступ к той же команды. Например: C ALT, H, откроется справка/содержимое.

  Не является простой способ проверить доступность ярлыка. Если вы хотите добавить ярлык, выполните следующие действия:

1. Ознакомьтесь со списком [клавиш Visual Studio 2013](http://visualstudioshortcuts.com/2013/) для определения наличия аналогичных команд для группирования, выбираете с.

2. Перейдите к **средства > Параметры > среда > клавиатура** и протестировать ярлык. Убедитесь, что каждая схема назначений клавиш в списке «Применить следующую дополнительную схему назначений Дополнительные сочетания.» Проверьте профили Общие, C#, VB и C++, как те, совместно использовать уникальные сочетания клавиш. Ярлык доступен в том случае, если он не сопоставлен в любом из этих мест.
