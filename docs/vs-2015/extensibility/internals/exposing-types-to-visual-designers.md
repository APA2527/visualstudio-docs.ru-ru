---
title: Предоставление типов конструкторам визуальных элементов | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- types [Visual Studio SDK], exposing to visual designers
- designers [Visual Studio SDK], exposing types
- custom tools, exposing types to visual designers
ms.assetid: a7a32ad4-3a0a-4eb8-a6ac-491c42885639
caps.latest.revision: 12
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 2db026367e43c1092cf9744817449ce51556a4a6
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63436314"
---
# <a name="exposing-types-to-visual-designers"></a>Предоставление типов конструкторам визуальных элементов
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

[!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] должен иметь доступ к определения классов и типов во время разработки для отображения визуального конструктора. Классы, загружаются из предопределенного набора сборок, которые включают набор зависимостей завершения текущего проекта (ссылки, а также их зависимости). Он также может потребоваться для визуальные конструкторы для классов доступа к и типы, определенные в файлах, созданные пользовательскими средствами.  
  
 [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] И [!INCLUDE[csprcs](../../includes/csprcs-md.md)] проекта системы обеспечивают поддержку доступа к созданных классов и типов через временные переносимые исполняемые файлы (временных PE). Любой файл, созданный с помощью пользовательских средств можно скомпилировать во временную сборку, чтобы типы могут загружаться из этих сборок и предоставляются для конструкторов. Выходные данные каждого пользовательского средства компилируется в отдельные временного PE и успешности этой временной компиляции зависит только от того, является ли созданный файл можно скомпилировать. Несмотря на то, что проект не может быть построен в целом, отдельных временных PE по-прежнему могут быть доступны для конструкторов.  
  
 Система проектов обеспечивает полную поддержку для отслеживания изменений в выходном файле файлом настраиваемого средства, при условии, что эти изменения являются результатом работы пользовательского инструмента. Каждый раз выполняется настраиваемый инструмент, создается новый временный PE, и соответствующие уведомления отправляются для конструкторов.  
  
> [!NOTE]
> Так как файл исполняемого файла создания временной происходит в фоновом режиме, ошибки не выводятся пользователю, если компиляция завершается с ошибкой.  
  
 Пользовательские инструменты, использующие преимущества поддержки временного PE должна соответствовать следующим правилам:  
  
- `GeneratesDesignTimeSource` должно быть установлено в 1 в реестре.  
  
     Без компиляции исполняемый файл программы происходит без этого параметра.  
  
- Созданный код должен быть на том же языке, что в качестве глобальных проектов.  
  
     Независимо от того, что именно пользовательское средство сообщает о запрошенное расширение в компилируется временного PE <xref:Microsoft.VisualStudio.Shell.Interop.IVsSingleFileGenerator.DefaultExtension%2A> условии, что `GeneratesDesignTimeSource` имеет значение 1 в реестре. Расширение не нужно быть .vb, .cs или расширением JSL; Это может быть любое расширение.  
  
- Код, созданный с помощью пользовательского средства должен быть допустимым, и его необходимо скомпилировать в свой собственный набор ссылок в проекте одновременно используют <xref:Microsoft.VisualStudio.Shell.Interop.IVsSingleFileGenerator.Generate%2A> завершения выполнения.  
  
     При компиляции временного PE только исходный файл, предоставленный компилятору является выходные данные пользовательского инструмента. Таким образом пользовательское средство, которое использует временный PE необходимо создать выходные файлы, которые могут быть скомпилированы независимо от других файлов в проекте.  
  
## <a name="see-also"></a>См. также  
 [Знакомство с объектом BuildManager](http://msdn.microsoft.com/50080ec2-c1c9-412c-98ef-18d7f895e7fa)   
 [Реализация генераторов одного файла](../../extensibility/internals/implementing-single-file-generators.md)   
 [Определение пространства имен по умолчанию проекта](../../misc/determining-the-default-namespace-of-a-project.md)   
 [Регистрация генераторов одного файла](../../extensibility/internals/registering-single-file-generators.md)
