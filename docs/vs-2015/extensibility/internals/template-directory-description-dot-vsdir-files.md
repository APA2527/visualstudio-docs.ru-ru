---
title: Описание каталога шаблона (. Файлы VSDir) | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- .vsdir files
- VSDIR files
- template directory description files
ms.assetid: 9df51800-190e-4662-b685-fdaafcff1400
caps.latest.revision: 9
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: cd224f84dd1d0be8167ee55fa7b40264d742c4f7
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "68156030"
---
# <a name="template-directory-description-vsdir-files"></a>Файлы описания каталога шаблона (VSDIR-файлы)
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Файл описания каталога шаблона (VSDir-) — это текстовый файл, который позволяет среде разработки (IDE) для отображения папок, мастера VSZ-файлы и файлы шаблонов, связанных с проектом в диалоговых окнах. Содержание включает одну запись для каждого файла или папки. Объединяются все файлов VSDir в расположении, на которую указывает ссылка, несмотря на то, что только один VSDir-файл, как правило, предоставляется для описания несколько папок, мастера или файлы шаблонов.  

 Папки (подкаталоги), файлы, которые указаны в VSDir-файл, а сам VSDir-файл находятся в том же каталоге. При интегрированной среды разработки запускает мастер, или отображает папку или файл в **новый проект** или **Добавление нового элемента** диалоговые окна, в интегрированной среде разработки проверяет каталог, содержащий выполненного файлы, чтобы определить, является ли VSDir-файл присутствует. При обнаружении VSDir-файл, считывает интегрированной среды разработки, его, чтобы определить, содержит ли запись для выполняемой или отображается папка или файл. Если такая запись имеется, интегрированная среда разработки использует данные выполнения мастера или отображения содержимого.  

 Следующий пример кода взят из файла SourceFiles.vsdir в \<EnvSDK > \BscPrj\BscPrj\BscPrjProjectItems\Source_Files раздел реестра:  

```  
HeaderFile.h|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#125|130|#126|0|0|0|#127  
SourceFile.cpp|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#122|110|#123|0|0|0|#124  
```  

 В этом случае две записи содержатся в одном файле. Строки (возврат каретки) отделяет каждую запись. Каждая строка представляет в файл другого типа. Канал (&#124;) отделяет поля в каждой записи. Один каталог может содержать несколько файлов VSDir, которые имеют разные имена, или у вас есть один VSDir-файл для каждого типа файлов.  

## <a name="fields"></a>Поля  
 В следующей таблице перечислены поля, указанные для каждой записи.  

|                              Поле                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 Относительный путь (RelPathName)                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                        Имя папки, шаблона или .vsz файла, например HeaderFile.h или MyWizard.vsz. Это поле также может быть имя, используемое для представления в папку.                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|                          {clsidPackage}                          |                                                                                                                                                                                                                                                                              Идентификатор GUID VSPackage, который обеспечивает доступ к локализованные строки, например LocalizedName, описание, IconResourceId и SuggestedBaseName, в динамической компоновки библиотеки (DLL) в пакете VSPackage вспомогательных ресурсов. IconResourceId применяется, если DLLPath не задано. **Примечание.**  Это поле является необязательным, если один или несколько предыдущих полей — это идентификатор ресурса. Как правило, это поле пусто для файлов VSDir, которые соответствуют с помощью мастеров независимых производителей, которые не следует локализировать их текст.                                                                                                                                                                                                                                                                              |
|                          LocalizedName                           |                                                                                                                                                                                                                                                                                                                                                                                        Локализованное имя файла шаблона или мастера. Это поле может быть строка или идентификатор ресурса в форме «#ResID». Это имя будет отображаться в **Добавление нового элемента** диалоговое окно. **Примечание.**  Если LocalizedName является идентификатором ресурса, {clsidPackage} является обязательным.                                                                                                                                                                                                                                                                                                                                                                                         |
|                           SortPriority                           |                                                                                     Целое число, представляющее относительный приоритет этого мастера или файл шаблона. Например если этот элемент имеет значение 1, этот элемент отображается рядом с других элементов со значением 1 и заранее все элементы, имеющие значение сортировки 2 или более.<br /><br /> Приоритет сортировки задается относительно элементы в том же каталоге. В одном каталоге может быть несколько VSDir-файл. В этом случае элементы из всех \*.\* файлы VSDir в этом каталоге будут объединены. Элементы с одинаковым приоритетом, перечислены в регистра лексикографическим порядком отображаемым именем. `_wcsicmp` Функция используется для упорядочения элементов.<br /><br /> Элементы, не описанные в файлов VSDir включают номер приоритета, размер которых превышает наибольший номер приоритета, перечисленные в файлов VSDir. Результатом является эти элементы должны быть в конце списка независимо от их имени.                                                                                     |
|                           Описание                            |                                                                                                                                                                                                                                                                                                                                                                                                           Локализованное описание, файл шаблона или мастера. Это поле может быть строка или идентификатор ресурса в форме «#ResID». Эта строка отображается в **новый проект** или **Добавление нового элемента** диалоговое окно, если элемент выделен.                                                                                                                                                                                                                                                                                                                                                                                                            |
|                    DLLPath или {clsidPackage}                     |                                                                                                                                                                                                                                                                                                                                                       Использовать для загрузки значок для мастера или файл шаблона. Значок загружается как ресурс из файла .dll или .exe с помощью IconResourceId. Этот файл .dll или .exe можно идентифицировать с помощью полного пути или с помощью GUID пакета VSPackage. Реализация библиотеки DLL объекта VSPackage используется загружается значок (не вспомогательной библиотеки DLL).                                                                                                                                                                                                                                                                                                                                                        |
|                          IconResourceId                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Идентификатор ресурса в библиотеку DLL или VSPackage реализации библиотеки DLL, которая определяет значок, отображаемый.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Флаги (<xref:Microsoft.VisualStudio.Shell.Interop.__VSDIRFLAGS>) |                                                                                                                                                                                                                                                            Используется для включения или отключения **имя** и **расположение** поля на **Добавление нового элемента** диалоговое окно. Значение **флаги** поле является десятичным эквивалентом комбинации требуется битовых флагов.<br /><br /> Когда пользователь выбирает элемент в **New** вкладке проекта определяет поля имя и расположение, отображаются ли при **Добавление нового элемента** сначала диалоговое окно. Элемент, с помощью VSDir-файл, можно управлять только, включены ли поля и отключена при выборе элемента.                                                                                                                                                                                                                                                             |
|                        SuggestedBaseName                         | Представляет имя по умолчанию для файла, мастер или шаблон. Это поле является строкой или идентификатором ресурса в форме «#ResID». Интегрированная среда разработки использует это значение по умолчанию имя для элемента. Это основное значение дополняется значение типа integer, чтобы сделать имя уникальным, например MyFile21.asp.<br /><br /> В списке выше описание, DLLPath, IconResourceId, флаги и SuggestedBaseNumber применяются только к файлы шаблонов и мастера. Эти поля не применяются к папкам. Этот факт проиллюстрирован на код в файле BscPrjProjectItems в \<EnvSDK > \BscPrj\BscPrj\BscPrjProjectItems раздел реестра. Этот файл содержит три записи (по одному для каждой папки) с четыре поля для каждой записи: RelPathName {clsidPackage}, LocalizedName и SortPriority.<br /><br /> `General&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#110&#124;100`<br /><br /> `Source_Files&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#111&#124;110`<br /><br /> `Env&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#112&#124;120` |

 При создании файла мастера, также следует учитывать следующие проблемы.  

- Любое необязательное поле, для которого нет значимых данных должен содержать 0 (ноль) в качестве заполнителя.  

- Если локализованное имя не указано, имя относительного пути используется в файле мастера.  

- DLLPath переопределяет clsidPackage расположение значка.  

- Если значок не определен, IDE подставляет значок по умолчанию для файла с этим расширением.  

- Если нет предлагаемых базовое имя не указано, используется «Project».  

- При удалении VSZ-файлы, папки или файлы шаблонов, необходимо также удалить их связанные записи из VSDir-файл.  

## <a name="see-also"></a>См. также  
 [Мастеры](../../extensibility/internals/wizards.md)   
 [Файл мастера (VSZ-файл)](../../extensibility/internals/wizard-dot-vsz-file.md)
