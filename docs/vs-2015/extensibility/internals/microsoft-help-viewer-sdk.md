---
title: Пакет SDK для окно справки (Майкрософт) | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
ms.assetid: 620d7dcd-d462-475e-a449-fbfa06ff12c5
caps.latest.revision: 34
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 96647f362566f0687cb04b7da4459331ac56b031
ms.sourcegitcommit: c150d0be93b6f7ccbe9625b41a437541502560f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2020
ms.locfileid: "75851908"
---
# <a name="microsoft-help-viewer-sdk"></a>Пакет SDK окна справки (Майкрософт)
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Эта статья содержит следующие задачи для интеграторов окна справки Visual Studio:

- Создание раздела (поддержка F1)

- Создание пакета фирменной символики содержимого в средстве просмотра справки

- Развертывание набора статей

- Добавление справки в оболочку Visual Studio (интегрированная или изолированная)

- Дополнительные ресурсы

### <a name="creating-a-topic-f1-support"></a>Создание раздела (поддержка F1)
 В этом разделе содержится обзор компонентов представленного раздела, требования к разделам, краткое описание создания раздела (включая требования поддержки F1) и, наконец, пример раздела с отображаемым результатом.

 **Обзор раздела справки**

 При вызове раздела для подготовки к просмотру средство просмотра справки получает элементы пакета фирменной символики, связанные с тем во время установки или последнего обновления, вместе с разделом XHTML и объединяет эти два результата в представленное представление содержимого (данные фирменной символики + данные раздела).  Пакет фирменной символики содержит логотипы, поддержку поведения содержимого и текст фирменной символики (авторские права и т. д.).  Дополнительные сведения о элементах пакета фирменной символики см. в разделе "Создание пакета фирменной символики" ниже.  В случае отсутствия пакета фирменной символики, связанного с этим разделом, в средстве просмотра справки будет использоваться пакет фирменной символики, расположенный в корне приложения для просмотра справки (Branding_en-US. MSHC).

 **Требования к разделу окна справки**

 Для правильного отображения в средстве просмотра справки необработанное содержимое раздела должно состоять из W3C Basic 1,1 XHTML.

 Раздел обычно содержит два раздела:

- Метаданные (см. Справочник по метаданным содержимого): данные о теме, например уникальный идентификатор раздела, значение ключевого слова, идентификатор ОГЛАВЛЕНИя раздела, идентификатор родительского узла и т. д.

- Содержимое текста: совместимо с W3C Basic 1,1 XHTML, включая поддерживаемые поведения содержимого (Свертываемая область, фрагмент кода и т. д.). Ниже приведен полный список.

  Поддерживаемые элементы управления для пакета фирменной символики Visual Studio:

- связей

- CodeSnippet

- коллапсиблеареа

- Наследуемый член

- лангуажеспеЦификтекст

  Поддерживаемые строки языка (без учета регистра):

- javascript

- CSharp или c #

- кплусплус или VisualC + + или c++

- jscript

- VisualBasic или VB

- f # или FSharp или FS

- Other — строка, представляющая имя языка

  **Создание раздела средства просмотра справки**

  Создайте новый документ XHTML с именем ContosoTopic4. htm и добавьте в него тег Title (ниже).

```html
<html>
<head>
<title>Contoso Topic 4</title>
</head>

<body>

</body>
</html>

```

 Затем добавьте данные, чтобы определить, как будет представлен раздел (с собственной фирменной символикой), как сослаться на этот раздел для F1, где этот раздел существует в СОДЕРЖАНИи, его идентификатор (для ссылки на ссылку в других разделах) и т. д.  Полный список поддерживаемых метаданных см. в таблице "метаданные содержимого" ниже.

- В этом случае мы будем использовать наш пакет фирменной символики — вариант пакета фирменной символики для окна справки Visual Studio.

- Добавьте имя и значение Meta («Microsoft. Help. F1» Content = «ContosoTopic4»), которые будут соответствовать указанному значению F1 в контейнере свойств интегрированной среды разработки.  (Дополнительные сведения см. в разделе о поддержке F1.)   Это значение, совпадающее с вызовом F1 в интегрированной среде разработки для вывода этого раздела при выборе в интегрированной среде разработки F1.

- Добавьте идентификатор раздела. Это строка, которая используется в других разделах для ссылки на этот раздел.  Это идентификатор окна справки для этого раздела.

- Для ОГЛАВЛЕНИя добавьте родительский узел этого раздела, чтобы определить, где будет отображаться этот узел содержания раздела.

- Для ОГЛАВЛЕНИя добавьте в этот раздел порядок узлов. Если у родительского узла n число дочерних узлов, определите в порядке следования дочерних узлов в этом расположении раздела. Например, в этом разделе содержится номер 4 из 4 дочерних разделов.)

  Пример раздела метаданных:

```html
<html>
<head>
<title>Contoso Topic 4</title>

<meta name="SelfBranded" content="false" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Microsoft.Help.Id" content="ContosoTopic4" />
<meta name="Microsoft.Help.F1" content=" ContosoTopic4" />
    <meta name="Language" content="en-us" />
<meta name="Microsoft.Help.TocParent" content="ContosoTopic0" />
<meta name="Microsoft.Help.TocOrder" content="4" />

</head>

<body>

</body>
</html>

```

 **Текст раздела**

 Текст (не включая верхний и нижний колонтитул) раздела будет содержать ссылки на страницы, раздел примечаний, Свертываемая область, фрагмент кода и раздел текста, относящегося к определенному языку.  Сведения об этих областях представленного раздела см. в разделе Фирменная символика.

1. Добавить тег заголовка раздела: `<div class="title">Contoso Topic 4</div>`

2. Добавить раздел примечаний: `<div class="alert"> add your table tag and text </div>`

3. Добавление сворачиваемой области: `<CollapsibleArea Expanded="1" Title="Collapsible Area Test Heading"> add text  </CollapsibleArea>`

4. Добавьте фрагмент кода: `<CodeSnippet EnableCopyCode="true" Language="CSharp" ContainsMarkup="false" DisplayLanguage="C#" > a block of code </CodeSnippet>`

5. Добавить текст, относящийся к языку кода: `<LanguageSpecificText devLangcs="CS" devLangvb="VB" devLangcpp="C++" devLangnu="F#" />` Обратите внимание, что Девлангну = позволяет вводить другие языки. Например, Девлангну = "Fortran" будет отображать Fortran, когда фрагмент кода Дисплайлангуаже = Fortran.

6. Добавить ссылки на страницы: `<a href="ms-xhelp://?Id=ContosoTopic1">Main Topic</a>`

> [!NOTE]
> Примечание. для неподдерживаемых новых цветов "язык интерфейса" (например F#, COBOL, Fortran) фрагмент кода будет монохромным.

 **Пример средства просмотра справки** В коде показано, как определить метаданные, фрагмент кода, свертываемые область и текст, зависящий от языка.

```
<?xml version="1.0" encoding="utf-8"?>
<html>
<head>
<title>Contoso Topic 4</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Microsoft.Help.Id" content="ContosoTopic4" />
<meta name="Microsoft.Help.F1" content=" ContosoTopic4" />
    <meta name="Language" content="en-us" />
<meta name="Microsoft.Help.TocParent" content="ContosoTopic0" />
<meta name="Microsoft.Help.TocOrder" content="4" />
<meta name="SelfBranded" content="false" />
</head>

<body>
<div class="title">Contoso Topic 4</div>

  <div id="header">
<table id="bottomTable" cellpadding="0" cellspacing="0"  width="100%">
        <tr id="headerTableRow2"><td align="left">
            <span id="nsrTitle">Contoso Topic 1</span>
          </td>
<td align="right">
</td></tr>
<tr id="headerTableRow1"><td align="left">
            <span id="runningHeaderText">Contoso Widgets & Sprockets</span>
          </td></tr>
      </table>
</div>

<h2>Table of Contents</h2>

<ul class="toc">
<li class="tocline1"><a href="#introduction" target="_self">1.0 Introduction</a></li>
<li class="tocline1"><a href="#seealso" target="_self">2.1 See Also</a></li>
</ul>

<div class="topic">

<div id="mainSection">
<div id="mainBody">

<a name="introduction"></a>
<h2>1.0 Introduction</h2>
<p>[This documentation is for sample purposes only.]</p>

<p>Contoso Topic 1 contains examples of:
<ul>
<li>Collapsible Area</li>
<li>Bookmark ("See also")</li>
<li>Code Snippets from Branding Package</li>
</ul>
 </p>
<div class="alert"><table><tr><th>
<strong>Note </strong></th></tr>
<tr><td>
<p>This is an example of a <span class="label">Note </span>section.
Call out important items for your reader in this <span class="label">Note </span>box.
</p></td></tr>
</table>
</div>
</div>

<CollapsibleArea Expanded="1" Title="Collapsible Area Test Heading">

            <a id="sectionToggle0"><!----></a>

<div>
Example of Collapsible Area
<br/>
Lorem ipsum dolor sit amet...
</div>
</CollapsibleArea>

<div id="snippetGroup" >
<CodeSnippet EnableCopyCode="true" Language="VisualBasic" ContainsMarkup="false" DisplayLanguage="Visual Basic" >
Private Sub ToolStripRenderer1_RenderGrip(sender as Object, e as ToolStripGripRenderEventArgs) _ Handles ToolStripRenderer1.RenderGrip
Dim messageBoxVB as New System.Text.StringBuilder()
    messageBoxVB.AppendFormat("{0} = {1}", "GripBounds", e.GripBounds)
    messageBoxVB.AppendLine()
 ...
    MessageBox.Show(messageBoxVB.ToString(),"RenderGrip Event")
End Sub
</CodeSnippet>

<CodeSnippet EnableCopyCode="true" Language="CSharp" ContainsMarkup="false" DisplayLanguage="C#" >
private void ToolStripRenderer1_RenderGrip(Object sender, ToolStripGripRenderEventArgs e)
{
System.Text.StringBuilder messageBoxCS = new System.Text.StringBuilder();
messageBoxCS.AppendFormat("{0} = {1}", "GripBounds", e.GripBounds );
messageBoxCS.AppendLine();
...
MessageBox.Show(messageBoxCS.ToString(), "RenderGrip Event" );
}
</CodeSnippet>

<CodeSnippet EnableCopyCode="true" Language="fsharp" ContainsMarkup="false" DisplayLanguage="F#" >
some F# code
</CodeSnippet>
</div>

<h4 class="subHeading">Example of code specific text</h4>Language = <LanguageSpecificText devLangcs="CS" devLangvb="VB" devLangcpp="C++" devLangnu="F#" />

<a name="seealso"></a>
<h1 class="heading">See Also</h1>

    <div id="seeAlsoSection" class="section">
    <div class="seeAlsoStyle">
        <a href="ms-xhelp://?Id=ContosoTopic1">Main Topic</a>
    </div>
 </div>
</div>
</div>
</body>
</html>

```

 **Поддержка F1**

 В Visual Studio при выборе клавиши F1 создаются значения, полученные из положения курсора в интегрированной среде разработки, и заполняет "контейнер свойств" заданными значениями (в зависимости от положения курсора). Когда курсор находится над функцией x, функция x активна/в фокусе и заполняет контейнер свойств значениями.  При выборе клавиши F1 контейнер свойств заполняется, и Visual Studio Code проверяет, является ли источником справки по умолчанию для клиентов локальным или оперативным (по умолчанию используется режим "в сети"), а затем создает соответствующую строку на основе параметра "Пользователи" (по умолчанию используется режим "в сети") – Shell Execute (если локальная справка используется по умолчанию или URL-адрес MSDN с ключевым словом в списке параметров, обратитесь к руководству администратора справки для параметров запуска exe) с параметрами локального средства просмотра справки и ключевых слов в контейнере свойств.

 Если для клавиши F1 возвращаются три строки, которые называются строкой с несколькими значениями, принимают первый термин, ищет попадание и, если они найдены, все готово. Если нет, перейдите к следующей строке.  Порядок важен. Представление ключевых слов с несколькими значениями должно быть длинной строкой с самой короткой строкой.  Чтобы проверить это в случае использования многозначных ключевых слов, просмотрите строку URL-адреса F1 в Интернете, в которой будет содержаться выбранное ключевое слово.

 В Visual Studio 2012 мы намеренно сделали более надежный делитель между режимами "в сети" и "вне сети". Таким образом, если пользователь находился в режиме "в сети", мы просто передали запрос F1 непосредственно в нашу службу запросов в Интернете на MSDN, а не через агент библиотеки справки. в Visual Studio 2010. Затем мы полагаетесь на состояние "установлено содержимое поставщика = true", чтобы определить, нужно ли делать что-то другое в этом контексте. Если значение равно true, то эта логика анализа и маршрутизации выполняется в зависимости от того, что вы хотите поддерживать для ваших клиентов. Если значение равно false, то просто перейдите на сайт MSDN. Если параметр пользователя имеет значение Local, все вызовы поступают в локальный обработчик справки.

 Схема потока F1:

 ![Поток F1](../../extensibility/internals/media/f1flow.png "F1flow")

 Если для источника содержимого справки по умолчанию в окне справки выбрано значение в сети (запустить в браузере):

- Функции участника Visual Studio (VSP) выдают значение в контейнер свойств F1 (префикс контейнера свойств. ключевое слово и URL-адрес в Интернете для префикса, найденного в реестре): F1 отправляет браузеру URL-адрес и параметры VSP.

- Функции Visual Studio (редактор языка, пункты меню для Visual Studio и т. д.): F1 отправляет браузеру URL-адрес Visual Studio.

  Если для источника содержимого справки по умолчанию в окне справки выбрано значение Локальная справка (запуск в средстве просмотра справки):

- Функции VSP, в которых ключевое слово совпадает между контейнером свойств F1 и индексом локального хранилища (то есть префиксом контейнера свойств. ключевое слово — это значение, найденное в локальном индексе хранилища): F1 отрисовывает раздел в средстве просмотра справки.

- Функции Visual Studio (нет параметра для VSP для переопределения контейнера свойств, созданного из компонентов Visual Studio): F1 отрисовывает раздел Visual Studio в средстве просмотра справки.

  Задайте следующие значения реестра, чтобы включить резервный переход на F1 для содержимого справки поставщика. Откат клавиш F1 означает, что средство просмотра справки настроено на поиск содержимого справки F1 в Интернете, а содержимое поставщика устанавливается локально на жесткий диск пользователя. Средство просмотра справки должно просмотреть локальную справку по содержимому, несмотря на то, что параметр по умолчанию предназначен для справки в Интернете.

1. Задайте значение **вендорконтент** в разделе реестра Help 2,1:

   - Для 32-разрядных операционных систем:

        HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Help\v2.1\Catalogs\VisualStudio12

        "Вендорконтент" = DWORD: 00000001

   - Для 64-разрядных операционных систем:

        HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12

        "Вендорконтент" = DWORD: 00000001

2. Зарегистрируйте пространство имен партнеров в разделе реестра Help 2,1:

   - Для 32-разрядных операционных систем:

      HKEY_LOCAL_MACHINE \SOFTWARE\Microsoft\Help\v2.1\Partner<em>\\< пространства имен\></em>

      «Location» = «offline»

   - Для 64-разрядных операционных систем:

      HKEY_LOCAL_MACHINE \SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Partner<em>\\< пространства имен\></em>

      «Location» = «offline»

   **Анализ базового пространства имен Native**

   Чтобы включить синтаксический анализ базового пространства имен, в реестре добавьте новый DWORD с именем: Басенативенамеспацес и задайте для него значение 1 (под ключом каталога, который требуется поддерживать).  Например, если вы хотите использовать каталог Visual Studio, можно добавить ключ в путь:

   HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12

   При обнаружении ключевого слова F1 в формате "/" будет выполнен синтаксический анализ символа "/", что приведет к следующей конструкции:

- Заголовок: будет пространством имен, которое можно использовать для регистрации в реестре.

- МЕТОД. это будет ключевое слово, которое передается через.

  Например, при наличии пользовательской библиотеки с именем Кустомлибрари и метода, именуемого MyTestMethod, при по запроса F1 он будет отформатирован как `CustomLibrary/MyTestMethod`.

  Пользователь может зарегистрировать Кустомлибрари в качестве пространства имен в кусте Partners, а также указать требуемый ключ местоположения, а ключевое слово, передаваемое в запрос, будет MyTestMethod.

  **Включение средства отладки справки в интегрированной среде разработки**

  Добавьте следующий раздел реестра и значение:

  HKEY_CURRENT_USER ключ справки \Software\Microsoft\VisualStudio\12.0\Dynamic: Отображение выходных данных отладки в розничной стоимости: Да

  В интегрированной среде разработки в пункте меню "Справка" выберите "Отладка контекста справки".

  **Метаданные содержимого**

  В следующей таблице любая строка, которая появляется между скобками, — это заполнитель, который должен быть заменен распознанным значением. Например, в \<meta Name = "Microsoft. Help. locale" Content = "[код языка]"/>, "[код языка]" должен быть заменен на значение "en-US".

|Свойство (представление HTML)|Описание|
|--------------------------------------|-----------------|
|\< meta Name = "Microsoft. Help. locale" содержимое = "[язык код]"/>|Задает языковой стандарт для этого раздела. Если этот тег используется в разделе, он должен использоваться только один раз и должен быть вставлен над любым другим тегом справки Майкрософт. Если этот тег не используется, текст текста раздела индексируется с помощью средства разбиения по словам, связанного с языковым стандартом продукта, если оно указано. в противном случае используется средство разбиения по словам для английского языка (EN-US). Этот тег соответствует исок RFC 4646. Чтобы обеспечить правильную работу справки Майкрософт, используйте это свойство вместо атрибута общего языка.|
|\< meta Name = "Microsoft. Help. Топиклокале" Content = "[язык-кода]"/>|Задает языковой стандарт для этого раздела, если также используются другие языковые стандарты. Если этот тег используется в разделе, его необходимо использовать только один раз. Используйте этот тег, если каталог содержит содержимое на нескольких языках. Несколько разделов в каталоге могут иметь один и тот же идентификатор, но каждый из них должен указывать уникальный Топиклокале. Раздел, в котором указывается Топиклокале, соответствующий языку каталога, — это раздел, который отображается в содержании. Однако все языковые версии раздела отображаются в результатах поиска.|
|заголовок \< > [title]\</Title >|Задает заголовок этого раздела. Этот тег является обязательным и должен использоваться только один раз в разделе. Если текст раздела не содержит заголовок \<div >, этот заголовок отображается в разделе и в содержании.|
|\< meta Name = "Microsoft. Help. keywords" Content = "[Акэйвордфрасе]"/>|Задает текст ссылки, отображаемой на панели «индекс» в средстве просмотра справки. При нажатии ссылки отображается раздел. Можно указать несколько ключевых слов индекса для раздела или опустить этот тег, если не нужно, чтобы ссылки на этот раздел отображались в индексе. Ключевые слова "K" из более ранних версий справки можно преобразовать в это свойство.|
|\< meta Name = "Microsoft. Help. ID" Content = "[ТопиЦид]"/>|Задает идентификатор для этого раздела. Этот тег является обязательным и должен использоваться только один раз в разделе. Идентификатор должен быть уникальным в разделах каталога, имеющих одинаковый параметр языкового стандарта. В другом разделе можно создать ссылку на этот раздел с помощью этого идентификатора.|
|\< meta Name = "Microsoft. Help. F1" содержимое = "[System. Windows. Controls. примитивы. Ирециклингитемконтаинерженератор]"/>|Задает ключевое слово F1 для этого раздела. Можно указать несколько ключевых слов F1 для раздела или опустить этот тег, если этот раздел не должен отображаться, когда пользователь приложения нажмет клавишу F1. Как правило, для раздела задано только одно ключевое слово F1. Ключевые слова "F" из более ранних версий справки можно преобразовать в это свойство.|
|\< meta Name = "Описание" Content = "[описание раздела]"/>|Содержит краткую сводку по содержимому этого раздела. Если этот тег используется в разделе, его необходимо использовать только один раз. Доступ к этому свойству осуществляется непосредственно библиотекой запросов. Он не хранится в файле индекса.|
 Meta Name = "Microsoft. Help. Токпарент" Content = "[parent_Id]"/>|Указывает родительский раздел этого раздела в содержании. Этот тег является обязательным и должен использоваться только один раз в разделе. Значением является Microsoft.Help.Id родителя. Раздел может содержать только одно расположение в содержании. "-1" считается ИДЕНТИФИКАТОРом раздела для корня ОГЛАВЛЕНИя. В [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]Эта страница является домашней страницей средства просмотра справки. Это та же причина, по которой мы добавили Токпарент =-1 к некоторым темам, чтобы они отображались на верхнем уровне. Домашняя страница средства просмотра справки — это системная страница, которая является незаменяемой. Если VSP пытается добавить страницу с ИДЕНТИФИКАТОРом-1, она может быть добавлена в набор содержимого, но средство просмотра справки всегда будет использовать страницу «система» — «Домашняя страница».|
|\< meta Name = "Microsoft. Help. Токордер" Content = "[положительное целое число]"/>|Указывает, где в оглавлении этот раздел отображается относительно соответствующих разделов. Этот тег является обязательным и должен использоваться только один раз в разделе. Значение представлено целым числом. Раздел, указывающий целочисленное значение с меньшим значением, отображается над темой, которая указывает целое число с большим значением.|
|\< meta Name = "Microsoft. Help. Product" Content = "[код продукта]"/>|Указывает продукт, описанный в этом разделе. Если этот тег используется в разделе, его необходимо использовать только один раз. Эти сведения также могут быть переданы в качестве параметра, передаваемого в индексатор справки.|
|\< meta Name = "Microsoft. Help. ProductVersion" Content = "[номер версии]"/>|Указывает версию продукта, описанную в этом разделе. Если этот тег используется в разделе, его необходимо использовать только один раз. Эти сведения также могут быть переданы в качестве параметра, передаваемого в индексатор справки.|
|\< meta Name = "Microsoft. Help. Category" Content = "[строка]"/>|Используется продуктами для распознавания подразделов содержимого. Можно указать несколько подразделов для раздела или опустить этот тег, если не нужно, чтобы ссылки определяли какие-либо подразделы. Этот тег используется для хранения атрибутов Таржетос и TargetFrameworkMoniker при преобразовании раздела из более ранней версии справки. Содержимое имеет формат AttributeName: AttributeValue.|
|\< meta Name = "Microsoft. Help. Топикверсион Content =" [номер версии раздела] "/>|Указывает эту версию раздела, если в каталоге существует несколько версий. Поскольку Microsoft.Help.Id не обязательно должен быть уникальным, этот тег является обязательным, если в каталоге существует несколько версий раздела, например, если каталог содержит раздел для .NET Framework 3,5 и раздел для .NET Framework 4 и оба имеют одинаковый микрокод мягкий. Help.Id.|
|\< meta Name = "Селфбрандед" Content = "[TRUE или FALSE]"/>|Указывает, используется ли в этом разделе пакет фирменной символики для запуска диспетчера библиотек справки или пакет фирменной символики, относящийся к данной теме. Этот тег должен быть либо TRUE, либо FALSE. Если это так, пакет фирменной символики для связанного раздела переопределяет пакет фирменной символики, заданный при запуске диспетчера библиотек справки, чтобы раздел отображался так, как задумано, даже если он отличается от отрисовки другого содержимого. Если значение равно FALSE, текущий раздел отображается в соответствии с пакетом фирменной символики, заданным при запуске диспетчера библиотек справки. По умолчанию диспетчер библиотек справки предполагает, что для самонастройки задано значение false, если переменная Селфбрандед не объявлена как ИСТИНная. Поэтому нет необходимости объявлять \<meta Name = "Селфбрандед" Content = "FALSE"/>.|

### <a name="creating-a-branding-package"></a>Создание пакета фирменной символики
 Выпуск Visual Studio охватывает ряд различных продуктов Visual Studio, включая изолированные и интегрированные оболочки для партнеров Visual Studio.  Каждый из этих продуктов требует некоторой степени поддержки фирменной символики содержимого справки на основе разделов, уникальной для продукта.  Например, разделы Visual Studio должны иметь единую фирменную презентацию, в то время как в SQL Studio, оболочке для оболочки ISO, требуется собственная уникальная Справка по фирменной символике содержимого для каждого раздела.  Интегрированному участнику оболочки может потребоваться, чтобы разделы справки наблюдались в родительском содержимом справки Visual Studio, сохраняя при этом собственные фирменные символики.

 Пакеты фирменной символики устанавливаются продуктом, содержащим средство просмотра справки.  Для продуктов Visual Studio:

- Резервный пакет фирменной символики (Branding_\<locale >. MSHC) устанавливается в корне приложения справки 2,1 (например, C:\Program Files (x86) \Microsoft Help Viewer\v2.1) с помощью языкового пакета средства просмотра справки.  Это используется в случаях, когда пакет фирменной символики продукта не установлен (содержимое не установлено) или если установленный пакет фирменной символики поврежден.  Элементы Visual Studio (эмблема и обратная связь) игнорируются, если используется пакет фирменной символики для корневого приложения.

- При установке содержимого Visual Studio из службы пакета содержимого также устанавливается пакет фирменной символики (для первого сценария установки содержимого).  Если пакет фирменной символики обновлен, то обновление устанавливается при возникновении следующего обновления содержимого или установки дополнительного пакета.

  Окно справки (Майкрософт) поддерживает фирменную символику разделов на основе метаданных раздела.

- Где метаданные раздела определяют собственное значение = true, подготавливает раздел как есть, не предпринимайте никаких действий (как фирменная символика).

- Где метаданные раздела определяют собственные фирменные значения = false, используйте пакет фирменной символики, связанный со значением метаданных Топиквендор.

- Где метаданные раздела определяет Name = "Microsoft. Help. Топиквендор" Content =\< имя пакета фирменной символики в > поставщика MSHA, используйте пакет фирменной символики, определенный в значении содержимого.

- В каталоге Visual Studio имеется приоритетное приложение фирменной символики пакетов.  Применяется первая фирменная символика по умолчанию Visual Studio, а затем, если она определена в метаданных раздела и поддерживается со связанным пакетом фирменной символики (как определено в MSHA установки), в качестве переопределения применяется фирменная символика, определенная поставщиком.

  Элементы фирменной символики обычно делятся на три основные категории:

- Элементы заголовка (примеры включают ссылку на отзыв, текст условного заявления об отказе, логотип)

- Поведение содержимого (примеры включают в себя элементы управления "развернуть/свернуть" и элементы фрагментов кода)

- Элементы нижнего колонтитула (пример авторского права)

  Элементы, которые считаются элементами с фирменной символикой, включают (см. описание в этой спецификации):

- Логотип каталога или продукта (например, Visual Studio)

- Ссылки на отзыв и элементы электронной почты

- Текст заявления об отказе

- Текст об авторских правах

  Вспомогательные файлы в пакете фирменной символики для средства просмотра справки Visual Studio включают:

- Графика (эмблемы, значки и т. д.)

- Фирменная символика. JS — файлы скриптов, поддерживающие поведение содержимого

- Branding. XML — строки, которые постоянно используются в содержимом каталога.  Примечание. для текстовых элементов локализации Visual Studio в файле фирменной символики. XML включите _locID = "\<уникальное значение >".

- Фирменная символика. CSS — определения стилей для согласованности представления

- Printing. CSS — определения стилей для единообразной печатной презентации

  Как отмечалось выше, пакеты фирменной символики связаны с разделом:

- Если в метаданных определено Селфбрандед = false, раздел наследует пакет фирменной символики каталога.

- Или, если Селфбрандед = false и имеется уникальный пакет фирменной символики, определенный в MSHA и доступный при установке содержимого

  Для использования VSPs, реализующего пользовательские пакеты фирменной символики (VSP Content, Селфбрандед = true), можно начать с резервного пакета фирменной символики (установленного с помощью средства просмотра справки) и изменить имя файла соответствующим образом.  Файл Branding_\<locale >. MSHC является ZIP-файлом с расширением MSHC, поэтому просто измените расширение с MSHC на ZIP и извлеките содержимое.  Ознакомьтесь с фирменной символикой элементов пакета и измените соответствующим образом (например, замените эмблему на логотип VSP и ссылку на логотип в файле фирменной символики. XML, обновите фирменную символику. XML на конкретные единицы VSP и т. д.).

  После внесения всех изменений создайте ZIP-файл, содержащий нужные элементы фирменной символики, и измените расширение на. MSHC.

  Чтобы связать пользовательский пакет фирменной символики, создайте MSHA, содержащий ссылку на файл MSHC фирменной символики вместе с содержимым MSHC (содержащего разделы).  Как создать базовый MSHA, см. ниже "MSHA".

  Файл фирменной символики. XML содержит элементы списка, используемые для согласованного отображения конкретных элементов в разделе, если раздел содержит \<meta Name = "Microsoft. Help. Селфбрандед" Content = "false"/>.  Список элементов Visual Studio в файле фирменной символики. XML приведен ниже.  Этот список предназначен для использования в качестве шаблона для внедрения оболочки ISO, где они изменяют эти элементы (например, логотип, Отзывы и авторские права) для удовлетворения своих потребностей в фирменной символике продукта.

  Примечание. переменные, отмеченные "{n}", имеют зависимости кода — удаление или изменение этих значений приведут к ошибкам и, возможно, к сбою приложения. Идентификаторы локализации (например, _locID = "CodeSnippet. n") включены в пакет фирменной символики Visual Studio.

  **Фирменная символика. XML**

|||
|-|-|
|Функция:|**коллапсиблеареа**|
|Используйте:|Разворачивание свертывания текста элемента управления содержимым|
|**Элемент**|**Значение**|
|експандтекст|Развернуть|
|коллапсетекст|Свернуть|
|Функция:|**CodeSnippet**|
|Используйте:|Текст элемента управления фрагмента кода.  Примечание. содержимое фрагмента кода с "неразрывным" пространством будет заменено на "пространство".|
|**Элемент**|**Значение**|
|копитоклипбоард|Копировать в буфер обмена|
|виевколоризедтекст|Цветной вид|
|комбинедвбтабдисплайлангуаже|Visual Basic (пример)|
|вбдекларатион|Декларация|
|вбусаже|Метрики|
|Функция:|**Отзыв, нижний колонтитул и эмблема**|
|Используйте:|Предоставьте элемент управления обратной связи для клиента, чтобы отправить отзыв по текущему разделу по электронной почте.  Текст об авторских правах на содержимое.  Определение логотипа.|
|**Элемент**|**Значение (эти строки можно изменить в соответствии с потребностями, необходимым для нужды содержимого.)**|
|Информация|© Корпорация Майкрософт (Microsoft Corporation), 2013. Все права защищены.|
|сендфидбакк|\<a href = "{0}" {1}> Отправить отзыв\</a > в этом разделе в корпорацию Майкрософт.|
|FeedbackLink||
|логотитле|[!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]|
|логофиленаме|vs_logo_bk. gif|
|логофиленамехк|vs_logo_wh. gif|
|Функция:|**Заявление об отказе от ответственности**|
|Используйте:|Набор относящихся к регистру отказов от ответственности за содержимое, переведенное с компьютера.|
|**Элемент**|**Значение**|
|MT_Editable|Эта статья переведена на машинный перевод. При наличии подключения к Интернету выберите "просмотреть этот раздел в сети", чтобы просмотреть эту страницу в режиме редактирования с исходным содержимым на английском языке одновременно.|
|MT_NonEditable|Эта статья переведена на машинный перевод. При наличии подключения к Интернету выберите "просмотреть этот раздел в сети", чтобы просмотреть эту страницу в режиме редактирования с исходным содержимым на английском языке одновременно.|
|MT_QualityEditable|Эта статья переведена вручную. При наличии подключения к Интернету выберите "просмотреть этот раздел в сети", чтобы просмотреть эту страницу в режиме редактирования с исходным содержимым на английском языке одновременно.|
|MT_QualityNonEditable|Эта статья переведена вручную. При наличии подключения к Интернету выберите "просмотреть этот раздел в сети", чтобы просмотреть эту страницу в режиме редактирования с исходным содержимым на английском языке одновременно.|
|MT_BetaContents|Эта статья переведена на машинный перевод для предварительного выпуска. При наличии подключения к Интернету выберите "просмотреть этот раздел в сети", чтобы просмотреть эту страницу в режиме редактирования с исходным содержимым на английском языке одновременно.|
|MT_BetaRecycledContents|Эта статья была переведена вручную для предварительного выпуска. При наличии подключения к Интернету выберите "просмотреть этот раздел в сети", чтобы просмотреть эту страницу в режиме редактирования с исходным содержимым на английском языке одновременно.|
|Функция:|**линктабле**|
|Используйте:|Поддержка ссылок на разделы в Интернете|
|**Элемент**|**Значение**|
|линктаблетитле|Таблица связей|
|топиценулинктекст|Просмотрите английскую версию\</a > этой статьи, доступной на компьютере.|
|топиконлинелинктекст|Просмотрите этот раздел \<элемент HREF = "{0}" {1}> Online\</a >|
|OnlineText|Online|
|Функция:|**Управление звуком видео**|
|Используйте:|Отображение элементов и текста для видеоматериала|
|**Элемент**|**Значение**|
|мултимедианотсуппортед|Для поддержки {0} содержимого необходимо установить Internet Explorer 9 или более поздней версии.|
|видеотекст|отображение видео|
|аудиотекст|Потоковая передача звука|
|онлиневидеолинктекст|\<p > для просмотра видео, связанного с этим разделом, щелкните {0}\<a href = "{1}" >{2}/a\<.\</p >|
|OnlineAudioLinkText|\<p > для прослушивания звука, связанного с этим разделом, щелкните {0}\<a href = "{1}" >{2}/a\<.\</p >|
|Функция:|**Управление содержимым не установлено**|
|Используйте:|Текстовые элементы (строки), используемые для отрисовки контентнотинсталлед. htm|
|**Элемент**|**Значение**|
|контентнотинсталледтитле|Содержимое на вашем компьютере не найдено.|
|контентнотинсталледдовнлоадконтенттекст|\<p > для загрузки содержимого на компьютер \<a href = "{0}" {1}> щелкните вкладку Управление\</a >.\</p >|
|контентнотинсталледтекст|\<p > на компьютере не установлено ни одного содержимого. Обратитесь к администратору для установки содержимого локальной справки.\</p >|
|Функция:|**Элемент управления раздела не найден**|
|Используйте:|Текстовые элементы (строки), используемые для отрисовки топикнотфаунд. htm|
|**Элемент**|**Значение**|
|топикнотфаундтитле|Не удается найти запрошенный раздел на компьютере.|
|TopicNotFoundViewOnlineText|\<p > запрашиваемый раздел не найден на компьютере, но вы можете \<{1}href = "{0}" > просмотреть раздел Online\</a >.\</p >|
|топикнотфаунддовнлоадконтенттекст|\<p > Просмотрите ссылки на Похожие разделы в области навигации или \<a href = "{0}" {1}> щелкните вкладку Управление\</a >, чтобы загрузить содержимое на компьютер.\</p >|
|топикнотфаундтекст|\<p > запрошенный раздел не найден на компьютере.\</p >|
|Функция:|**Поврежденный элемент управления раздела**|
|Используйте:|Текстовые элементы (строки), используемые для отрисовки топиккорруптед. htm|
|**Элемент**|**Значение**|
|топиккорруптедтитле|Не удалось отобразить запрошенный раздел.|
|топиккорруптедвиевонлинетекст|\<p > Help Viewer не удается отобразить запрошенный раздел. Возможно, произошла ошибка в содержимом раздела или базовой системной зависимости.\</p >|
|Функция:|**Элемент управления домашней страницы**|
|Используйте:|Текст, поддерживающий отображение содержимого узла верхнего уровня средства просмотра справки.|
|**Элемент**|**Значение**|
|HomePageTitle|Домашняя страница средства просмотра справки|
|хомепажеинтродуктион|\<p > Добро пожаловать в окно справки (Майкрософт), важный источник информации для всех пользователей, использующих средства, продукты, технологии и службы Майкрософт. Средство просмотра справки предоставляет доступ к инструкциям и справочным сведениям, примерам кода, техническим статьям и т. д. Чтобы найти нужные материалы, просмотрите оглавление, используйте полнотекстовый поиск или перейдите по содержимому с помощью ключевого слова index.\</p >|
|хомепажеконтентинсталлтекст|\<p >\<br/> Используйте вкладку \<a href = "{0}" {1}> Управление содержимым\</a >, чтобы выполнить следующие действия:\<UL >\<li > Добавить содержимое на компьютер.\</li >\<li > проверить наличие обновлений для локального содержимого.\</li >\<li > удалить содержимое с компьютера.\</li >\</UL >\</p >|
|хомепажеинсталледбукс|Установленные книги|
|хомепаженобуксинсталлед|Содержимое на вашем компьютере не найдено.|
|хомепажехелпсеттингс|Параметры содержимого справки|
|хомепажехелпсеттингстекст|\<p > текущим параметром является локальная справка. В окне справки отображается содержимое, установленное на компьютере.\<br/> чтобы изменить источник содержимого справки, в строке меню Visual Studio последовательно выберите пункты \<span Style = "{0}" > Справка, задайте параметры справки\</span >.\<br/>\</p >|
|Мегабайт|МБ|

 **Фирменная символика. js**

 Файл фирменной символики. js содержит JavaScript, используемый элементами фирменной символики средства просмотра справки Visual Studio.  Ниже приведен список элементов фирменной символики и вспомогательной функции JavaScript.  Все строки, которые должны быть локализованы для этого файла, определены в разделе "локализуемые строки" в верхней части этого файла.  Файл ИКЛ был создан для строк Loc в файле фирменной символики. js.

||||
|-|-|-|
|**Функция фирменной символики**|**Функция JavaScript**|**Описание**|
|Var...||Определение переменных|
|Получение языка пользовательского кода|сетусерпреференцеланг|Сопоставляет индекс # с языком кода|
|Установка и получение значений файлов cookie|setCookie||
|Наследуемый член|чанжемемберслабел|Развернуть или свернуть наследуемый член|
|Когда Селфбрандед = false|onLoad|Прочтите строку запроса, чтобы проверить, является ли он запросом на печать.  Установите все CodeSnippets, чтобы сосредоточиться на вкладке предпочитаемый пользователем.  Если это запрос на печать, установите для Испринтерфриендли значение true. Проверьте режим высокой контрастности.|
|Фрагмент кода|аддспеЦификтекстлангуажетагсет||
||жетиндексфромдевланг||
||чанжетаб||
||сеткодесниппетланг||
||сеткуррентланг||
||копитоклипбоард||
|коллапсиблеареа|аддтоколлапсиблеконтролсет|запись всего объекта свертываемого элемента управления в список.|
||CA_Click|в зависимости от состояния сворачиваемой области определяет, какое изображение и текст следует представлять.|
|Контрастная поддержка для логотипа|Исблаккбаккграунд ()|Вызывается для определения, является ли фон черным.  Точность только в режиме высокой контрастности.|
||Ишигхконтраст ()|использовать цветной диапазон для обнаружения режима высокой контрастности|
||Онхигхконтраст (черный)|Вызывается при обнаружении высокой контрастности|
|Функция LST|||
||Аддтоланспектекстидсет (идентификатор)||
||Упдателст (Куррентланг)||
||Жетдевлангфромкодесниппет (lang)||
|Функции мультимедиа|подпись (начало, конец, текст, стиль)||
||Финдаллмедиаконтролс (Нормализедид)||
||Жетактивеплайер (Нормализедид)||
||Каптионсонофф (идентификатор)||
||Тосекондс (t)||
||Жеталлкомментс (node)||
||Стилеректифи (styleName, styleValue)||
||Шовкк (идентификатор)||
||Подзаголовок (идентификатор)||

 **HTM, ФАЙЛЫ**

 Пакет фирменной символики содержит набор HTM-файлов, которые поддерживают сценарии для обмена сведениями о ключах, чтобы помочь пользователям содержимого, например домашнюю страницу, содержащую раздел с описанием установленных наборов содержимого и страниц, говорящих пользователю, когда разделы не могут найти в локальном наборе разделов. Эти HTM файлы можно изменять для каждого продукта.  Поставщики оболочки ISO могут взять пакет фирменной символики по умолчанию и изменить поведение и содержимое этих страниц в соответствии с их нуждами.  Эти файлы относятся к соответствующему пакету фирменной символики, чтобы теги фирменной символики могли получить соответствующее содержимое из файла фирменной символики. XML.

||||
|-|-|-|
|**Файл**|**Назначение**|**Отображаемый источник содержимого**|
|Homepage. htm|Это страница, на которой отображается текущее установленное содержимое, а также любое другое сообщение, подходящее пользователю о своем содержимом.  Этот файл содержит дополнительный атрибут метаданных "Microsoft.Help.Id" Content = "-1", который размещает это содержимое в верхней части ОГЛАВЛЕНИя локального содержимого.||
||< META_HOME_PAGE_TITLE_ADD/>|Фирменная символика. XML, Tag \<Хомепажетитле >|
||<HOME_PAGE_INTRODUCTION_SECTION_ADD />|Фирменная символика. XML, Tag \<Хомепажеинтродуктион >|
||<HOME_PAGE_CONTENT_INSTALL_SECTION_ADD />|Фирменная символика. XML, Tag \<Хомепажеконтентинсталлтекст >|
||<HOME_PAGE_BOOKS_INSTALLED_SECTION_ADD />|Тег фирменной символики раздела заголовка. XML\<Хомепажеинсталледбукс >, данные, созданные из приложения, \<Хомепаженобуксинсталлед >, если книги не установлены.|
||< HOME_PAGE_SETTINGS_SECTION_ADD/>|Заголовок раздела "фирменная символика". XML-тег \<Хомепажехелпсеттингс >, текст раздела \<Хомепажехелпсеттингстекст >.|
|топиккорруптед. htm|Если раздел существует в локальном наборе, но по какой-либо причине не может быть отображено (поврежденное содержимое).||
||<META_TOPIC_CORRUPTED_TITLE_ADD />|Фирменная символика. XML, Tag \<Топиккорруптедтитле >|
||<TOPIC_CORRUPTED_SECTION_ADD />|Фирменная символика. XML, Tag \<Топиккорруптедвиевонлинетекст >|
|топикнотфаунд. htm|Если раздел не найден в локальном наборе содержимого и не доступен в сети||
||< META_TOPIC_NOT_FOUND_TITLE_ADD/>|Фирменная символика. XML, Tag \<Топикнотфаундтитле >|
||< META_TOPIC_NOT_FOUND_ID_ADD/>|Брендинг. XML, Tag \<Топикнотфаундвиевонлинетекст > + \<Топикнотфаунддовнлоадконтенттекст >|
||< TOPIC_NOT_FOUND_SECTION_ADD/>|Фирменная символика. XML, Tag \<Топикнотфаундтекст >|
|контентнотинсталлед. htm|Если для продукта не установлено локальное содержимое.||
||<META_CONTENT_NOT_INSTALLED_TITLE_ADD />|Фирменная символика. XML, Tag \<Контентнотинсталледтитле >|
||<META_CONTENT_NOT_INSTALLED_ID_ADD />|Фирменная символика. XML, Tag \<Контентнотинсталледдовнлоадконтенттекст >|
||<CONTENT_NOT_INSTALLED_SECTION_ADD />|Фирменная символика. XML, Tag \<Контентнотинсталледтекст >|

 **Файлы CSS**

 Пакет фирменной символики средства просмотра справки Visual Studio содержит два файла CSS для поддержки единообразного представления содержимого справки Visual Studio:

- Branding. CSS — содержит элементы CSS для отрисовки, где Селфбрандед = false.

- Printer. CSS — содержит элементы CSS для отрисовки, где Селфбрандед = false.

  В файлы фирменной символики. CSS входят определения для Visual Studio, а также сведения о том, что фирменная символика. CSS, содержащаяся в Branding_\<locale >. MSHC из службы пакетов, может измениться.

  **Графические файлы**

  В содержимом Visual Studio отображается эмблема Visual Studio и другая графика.  Полный список графических файлов в пакете фирменной символики средства просмотра справки Visual Studio приведен ниже.

||||
|-|-|-|
|**Файл**|**Назначение**|**Примеры**|
|очистить GIF|Используется для визуализации сворачиваемой области||
|footer_slice. gif|Презентация нижнего колонтитула||
|info_icon. gif|Используется при отображении информации|Заявление|
|online_icon. gif|Этот значок будет связан с онлайн-ссылками||
|Таблефтбд. gif|Используется для отрисовки контейнера фрагмента кода||
|Табригхтбд. gif|Используется для отрисовки контейнера фрагмента кода||
|vs_logo_bk. gif|Используется для ссылок на эмблему с нормальным контрастом, как определено в теге фирменной символики. XML \<Логофиленаме >.  Для продуктов Visual Studio имя логотипа — vs_logo_bk. gif.||
|vs_logo_wh. gif|Используется для обычных ссылок на эмблему, как определено в теге фирменной символики. XML \<Логофиленамехк >.  Для продуктов Visual Studio имя логотипа — vs_logo_wh. gif.||
|Ккофф. png|Рисунок субтитров||
|ККОН. png|Рисунок субтитров||
|Имажесприте. png|Используется для визуализации сворачиваемой области|развернутая или свернутая графика|

### <a name="deploying-a-set-of-topics"></a>Развертывание набора разделов
 Это простое и быстрое руководство по созданию набора развертывания содержимого средства просмотра справки, состоящего из файла MSHA и набора CAB-файлов или Мшкс, содержащих разделы. MSHA — это XML-файл, описывающий набор файлов CAB или MSHC. Средство просмотра справки может прочитать MSHA, чтобы получить список содержимого (. CAB или. Файлы MSHC) доступны для локальной установки.

 Это лишь учебник, описывающий очень простую схему XML для средства просмотра справки MSHA.  Ниже приводится пример реализации, представленный в этом кратком обзоре, и пример Хелпконтентсетуп. MSHA.

 Имя MSHA для целей этого учебника — Хелпконтентсетуп. msha (имя файла может быть любым, с расширением. MSHA). Хелпконтентсетуп. msha (пример ниже) должен содержать список доступных CAB-файлов или Мшкс.  Тип файла должен быть одинаковым в пределах MSHA (не поддерживает сочетание типов файлов MSHA и CAB). Для каждого CAB-файла или MSHC должен быть \<div class = "Package" >...\</див > (см. пример ниже).

 Примечание. в приведенном ниже примере реализации мы включили пакет фирменной символики. Это крайне важно для включения, чтобы получить необходимые элементы отрисовки содержимого Visual Studio и поведения содержимого.

 Пример файла Хелпконтентсетуп. msha: (замените "имя набора содержимого 1", "имя набора содержимого 2" и т. д. именами файлов.)

```
<html>
<head />
<body class="vendor-book">
<div class="details">
<span class="vendor">Your Company</span>
<span class="locale">en-us</span>
<span class="product">Your Company Help Content</span>
<span class="name">Your Company Help Content</span>
</div>
<div class="package-list">
<div class="package">
<span class="name">Your_Company _Content_Set_1</span>
<span class="deployed">True</span>
<a class="current-link" href="Your_Company _Content_Set_1.mshc">Your_Company _Content_Set_1.mshc </a>
</div>
<div class="package">
<span class="name">Your_Company _Content_Set_2</span>
<span class="deployed">True</span>
<a class="current-link"href=" Your_Company _Content_Set_2.mshc "> Your_Company _Content_Set_2.mshc </a>
</div>.

```

1. Создать локальную папку, что вроде "К:\самплеконтент"

2. В этом примере мы будем использовать файлы MSHC для хранения разделов.  MSHC — это ZIP-файл с расширением ZIP, для которого изменено значение. MSHC.

3. Создайте файл Хелпконтентсетуп. msha в виде текстового файла (Блокнот использовался для создания файла) и сохраните его в указанной выше папке (см. шаг 1).

   Класс "фирменная символика" существует и уникален. Фирменная символика MSHC включена в этот учебник, чтобы установленное содержимое содержало фирменную символику, а поведение содержимого в Мшкс будет иметь соответствующие элементы поддержки, содержащиеся в пакете фирменной символики. Без этого ошибки будут возникать, когда система ищет элементы поддержки, которые не являются частью скопированного (установленного) содержимого.

   Чтобы получить пакет фирменной символики Visual Studio, скопируйте файл Branding_en-US. MSHC в папку C:\Program Files (x86) \Microsoft Help Viewer\v2.1\ in the Work Folder.

```html
<html>
<head />
<body class="vendor-book">
<div class="details">
<span class="vendor">Your Company</span>
<span class="locale">en-us</span>
<span class="product">Your Company Help Content</span>
<span class="name">Your Company Help Content</span>
</div>
<div class="package-list">
<div class="package">
<span class="name">Your_Company _Content_Set_1</span>
<span class="deployed">True</span>
<a class="current-link" href="Your_Company _Content_Set_1.mshc">Your_Company _Content_Set_1.mshc </a>
</div>
<div class="package">
<span class="name">Your_Company _Content_Set_2</span>
<span class="deployed">True</span>
<a class="current-link"href=" Your_Company _Content_Set_2.mshc "> Your_Company _Content_Set_2.mshc </a>
</div>
<div class="package">
<span class="packageType">branding</span>
<span class="name">Branding_en-US</span>
<span class="deployed">True</span>
<a class="current-link" href="Branding_en-US.mshc">Branding_en-US.mshc</a>
</div>
</div>
</body>
</html>

```

 **Сводка**

 Использование и расширение описанных выше действий позволит VSPs развернуть свои наборы содержимого для окна справки Visual Studio.

### <a name="adding-help-to-the-visual-studio-shell-integrated-and-isolated"></a>Добавление справки в оболочку Visual Studio (интегрированная и изолированная)
 **Введение**

 В этом пошаговом руководстве показано, как включить содержимое справки в приложение оболочки Visual Studio, а затем развернуть его.

 **Requirements**

1. [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]

2. [Visual Studio 2013 изолированной среды](https://aka.ms/VS2013/IsoShell-LP/all)

   **Обзор**

   Оболочка [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] — это версия интегрированной среды разработки [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)], на которой можно создать приложение. Такие приложения содержат изолированную оболочку вместе с создаваемыми расширениями. Используйте шаблоны проектов изолированной оболочки, которые включены в пакет SDK для [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)], для сборки расширений.

   Основные шаги по созданию изолированного приложения на основе оболочки и его помощи:

3. Получите [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] распространяемый пакет оболочки ISO (Загрузка Майкрософт).

4. В Visual Studio создайте расширение справки на основе изолированной оболочки, например, расширение справки Contoso, описанное далее в этом пошаговом руководстве.

5. Заключите расширение и распространяемый пакет оболочки ISO в MSI-файл развертывания (Настройка приложения). В этом пошаговом руководстве не содержится шаг установки.

   Создайте хранилище содержимого Visual Studio. Для сценария интегрированной оболочки измените значение Visual Studio12 на имя каталога продуктов следующим образом:

- Создать папку C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\VisualStudio12.

- Создайте файл с именем CatalogType. XML и добавьте его в папку. Файл должен содержать следующие строки кода:

  ```
  <?xml version="1.0" encoding="UTF-8"?>
  <catalogType>UserManaged</catalogType>
  ```

  Определите хранилище содержимого в реестре. Для интегрированной оболочки измените VisualStudio12 на имя каталога продуктов:

- HKLM\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12

   Ключ: LocationPath строковое значение: C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\VisualStudio12\

- HKLM\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12\en-US

   Ключ: CatalogName строковое значение: Документация по [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]

  **Создание проекта**

  Чтобы создать расширение изолированной оболочки, выполните следующие действия.

1. В Visual Studio в разделе **файл**выберите **Новый проект**, в разделе **другие типы проектов** выберите **расширяемость**, а затем выберите **изолированная оболочка Visual Studio**. Назовите проект `ContosoHelpShell`), чтобы создать проект расширения, основанный на шаблоне изолированной оболочки Visual Studio.

2. В обозреватель решений в проекте Контосохелпшеллуи в папке файлы ресурсов откройте файл ApplicationCommands. vsct. Убедитесь, что эта строка снабжена комментариями (выполните поиск по запросу "No_Help"): `<!-- <define name=“No_HelpMenuCommands”/> -->`

3. Нажмите клавишу F5, чтобы скомпилировать и запустить **отладку**. В экспериментальном экземпляре интегрированной среды разработки изолированной оболочки выберите меню **Справка** . Убедитесь, что отображаются команды **Просмотр справки**, **Добавление и удаление содержимого справки**и **Настройка параметров справки** .

4. В обозреватель решений в проекте Контошелпшелл в папке "Настройка оболочки" Откройте Контосохелпшелл. pkgdef. Чтобы определить каталог справки Contoso, добавьте следующие строки:

   ```
    [$RootKey$\Help]
   "Product"="Contoso"
   "Catalog"="Contoso"
   “Version"="100"
   "BrandingPackage"="ContosoBrandingPackage.mshc"
   ```

5. В обозреватель решений в проекте Контошелпшелл откройте Контосохелпшелл. Application. pkgdef в папке "Настройка оболочки". Чтобы включить справку F1, добавьте следующие строки:

   ```
   // F1 Help Provider

   [$RootKey$\HelpProviders\{C99BDC23-FF29-46bf-9658-ADD634CCAED8}]
   "Name"="13407"
   "Package"="{DA9FB551-C724-11d0-AE1F-00A0C90FFFC3}"
   @="Help3 Provider"
   [$RootKey$\HelpProviders]
   @="{C99BDC23-FF29-46bf-9658-ADD634CCAED8}"
   [$RootKey$\Services\{C99BDC23-FF29-46bf-9658-ADD634CCAED8}]
   "Name"="Help3 Provider"
   @="{4A791146-19E4-11D3-B86B-00C04F79F802}"
   ```

6. В обозреватель решений в контекстном меню решения Контосохелпшелл выберите пункт меню **Свойства** . В разделе **Свойства конфигурации**выберите **Configuration Manager**. В столбце **Конфигурация** измените все значения "Отладка" на "выпуск".

7. Выполните сборку решения. При этом создается набор файлов в папке выпуска, который будет использоваться в следующем разделе.

   Чтобы проверить это, как если бы оно было развернуто:

8. На компьютере, на котором вы развертываете Contoso, установите скачанную (из более поздней версии) оболочку ISO.

9. Создайте папку в папке \\\Program Files (x86)\\и назовите ее `Contoso`.

10. Скопируйте содержимое из папки Release Контосохелпшелл в папку \\\Program Files (x86) \Контосо\.

11. Запустите редактор реестра, выбрав команду **выполнить** в меню **пуск** и введя `Regedit`. В редакторе реестра выберите **файл**, а затем **Импорт**. Перейдите в папку проекта Контосохелпшелл. В подпапке Контосохелпшелл выберите Контосохелпшелл. reg.

12. Создайте хранилище содержимого.

     Для оболочки ISO — создание хранилища содержимого Contoso C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\ContosoDev12

     Для [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] интегрированной оболочки создайте папку C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\VisualStudio12

13. Создайте CatalogType. XML и добавьте в хранилище содержимого (предыдущий шаг), содержащее:

    ```
    <?xml version="1.0" encoding="UTF-8"?>
    <catalogType>UserManaged</catalogType>
    ```

14. Добавьте следующие разделы реестра:

     HKLM\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12Key: LocationPath строковый параметр:

     Для оболочки ISO:

     C:ProgramDataMicrosoftHelpLibrary2CatalogsVisualStudio12

     Встроенная оболочка [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]:

     C:ProgramDataMicrosoftHelpLibrary2CatalogsVisualStudio12en-US

     Ключ: CatalogName строковое значение: [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] документация. Для оболочки ISO это имя каталога.

15. Скопируйте содержимое (CAB-файлы или MSHC и MSHA) в локальную папку.

16. Пример командной строки интегрированной оболочки для тестирования хранилища содержимого. Для оболочки ISO измените значения каталога и Лаунчингапп, чтобы они соответствовали продукту.

      «C:\Program Files (x86) \Microsoft Help Viewer\v2.1\HlpViewer.exe»/CatalogName. VisualStudio12/Хелпкуери Method = «Page & ID = ContosoTopic0»/Лаунчингапп Microsoft, VisualStudio, 12.0

17. Запустите приложение Contoso (из корневого каталога приложения Contoso). В оболочке ISO выберите пункт меню " **Справка** " и измените параметр " **задать параметры справки** ", чтобы **использовать локальную справку**.

18. В оболочке выберите пункт меню " **Справка** " и **просмотрите справку**. Должно запуститься локальное средство просмотра справки. Перейдите на вкладку **Управление содержимым** . В разделе **источник установки**выберите переключатель **диск** . Нажмите кнопку **...** и перейдите к локальной папке, содержащей содержимое Contoso (скопированное в локальную папку на предыдущем шаге). Выберите Хелпконтентсетуп. MSHA. Компания Contoso должна отобразиться в виде книги в области выбора книги. Выберите **Добавить**, а затем нажмите кнопку **Обновить** (в правом нижнем углу).

19. В интегрированной среде разработки Contoso нажмите клавишу F1, чтобы проверить функциональность F1.

### <a name="additional-resources"></a>Дополнительные ресурсы

Сведения об API среды выполнения см. в разделе [API справки Windows](https://msdn.microsoft.com/library/windows/desktop/hh447318\(v=vs.85\).aspx).

Дополнительные сведения о том, как использовать API справки, см. в разделе [примеры кода окна справки](https://marketplace.visualstudio.com/items?itemName=RobChandlerHelpMVP.HelpViewer20CodeExamples).

Сведения о критических проблемах см. в окне [справки](https://go.microsoft.com/fwlink/?LinkId=255960).
