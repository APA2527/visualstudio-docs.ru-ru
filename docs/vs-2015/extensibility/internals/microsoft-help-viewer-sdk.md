---
title: Пакет SDK для окна справки (Майкрософт) | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
ms.assetid: 620d7dcd-d462-475e-a449-fbfa06ff12c5
caps.latest.revision: 34
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: ba6fce72e3e27fbba9f8abdb424dabb778bd270c
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63440406"
---
# <a name="microsoft-help-viewer-sdk"></a>Пакет SDK окна справки (Майкрософт)
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Эта статья содержит следующие задачи для интеграторов окна справки Visual Studio:

- Создание раздела (поддержка F1)

- Создание пакета фирменной символики содержимого средства просмотра справки

- Развертывание набора статей

- Добавление справочных для оболочки Visual Studio (изолированная или интегрированная)

- Дополнительные ресурсы

### <a name="creating-a-topic-f1-support"></a>Создание раздела (поддержка F1)
 Этот раздел содержит обзор компонентов, представленных раздела, требования раздела, приводится краткое описание способов создания раздела (в том числе требования к поддержке F1) и наконец, пример раздела с его результат.

 **Обзор средства просмотра раздела справки**

 При вызове раздел для подготовки к просмотру справки получает элементы фирменной настройки пакета, которые связаны с разделом во время установки или последнего обновления, а также раздел XHTML и объединяет два с последующим получением представленных представление содержимого (фирменная символика данных + данные темы).  Пакет фирменной символики содержит эмблемы, поддержка поведение содержимого и текст фирменной символики (об авторских правах, т. д.).  См. в разделе «Создание пакета фирменной символики» ниже дополнительные сведения о фирменной символике элементов пакета.  В событии отсутствует пакет фирменной символики, связанных с разделом, средство просмотра справки будет использовать резервный пакет фирменной символики, расположенный в корневой каталог приложения средства просмотра справки (Branding_en US.mshc).

 **Средство просмотра раздел требований**

 Чтобы правильно отображаться в средстве просмотра справки, необработанный раздел содержимое должно быть W3C основные XHTML 1.1.

 Раздел обычно содержит два раздела:

- Метаданные (см. в разделе содержимого ссылку на метаданные): данные по теме, например, уникальный идентификатор раздела, значение ключевого слова, раздел идентификатор Оглавление, родительский идентификатор узла и т. д.

- Контент: совместимые с W3C основные XHTML 1.1, который включает поддерживается поведение содержимого (сворачиваемой области, фрагмент кода, и т.д. Полный список ниже).

  Пакет фирменной символики Visual Studio поддерживает элементы управления:

- Ссылки

- CodeSnippet

- CollapsibleArea

- Наследуемый член

- LanguageSpecificText

  Поддерживаемые строки языка (без учета регистра):

- javascript

- c# или c#

- cplusplus или visualc ++ или c ++

- JScript

- VisualBasic или vb

- f # или fsharp или fs

- другой — строка, представляющая имя языка

  **Создание раздела справки**

  Создание нового документа XHTML с именем ContosoTopic4.htm и включить тег заголовка (см. ниже).

```html
<html>
<head>
<title>Contoso Topic 4</title>
</head>

<body>

</body>
</html>

```

 Добавьте данные, чтобы определить, каким образом раздела представления (собственная типизированной или нет), как должна указывать ссылка в этом разделе для F1, где существует этот раздел в Содержании, его идентификатор (для ссылки связи в других разделах), и т.д.  См. в таблице «Метаданные содержимого» ниже полный список поддерживаемых метаданных.

- В этом случае мы будем использовать собственный фирменной символикой variant пакета фирменной символики окна справки Visual Studio.

- Добавьте F1 meta имя и значение («Microsoft.Help.F1» content = «ContosoTopic4»), будет соответствовать заданному F1 в контейнере свойств интегрированной среды разработки.  (См. в разделе поддержки F1 Дополнительные сведения).   Это значение, которое сопоставляется с F1 вызов из интегрированной среды разработки для отображения в этом разделе, при выборе F1 в интегрированной среде разработки.

- Добавьте идентификатор раздела. Это строка, который используется в других разделах для ссылки на этот раздел.  Это идентификатор средства просмотра справки для этого раздела.

- Для Оглавления добавьте родительский узел в этом разделе, чтобы определить, где отображается этот узел раздела Оглавления.

- Для Оглавления добавьте порядок узлов в этом разделе. Если n — количество дочерних узлов родительского узла, определите порядок дочерних узлов расположение в этом разделе. Например, в этом разделе — это номер 4 из 4 дочерних разделов.)

  Раздел метаданных в примере:

```html
<html>
<head>
<title>Contoso Topic 4</title>

<meta name="SelfBranded" content="false" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Microsoft.Help.Id" content="ContosoTopic4" />
<meta name="Microsoft.Help.F1" content=" ContosoTopic4" />
    <meta name="Language" content="en-us" />
<meta name="Microsoft.Help.TocParent" content="ContosoTopic0" />
<meta name="Microsoft.Help.TocOrder" content="4" />

</head>

<body>

</body>
</html>

```

 **Текст раздела**

 Текст (не включая верхний и нижний колонтитул) раздела будет содержать ссылки на страницы, раздел примечание, сворачиваемой области, фрагмент кода и раздел текста определенного языка.  Сведения об этих областях раздела, представленных в разделе фирменной символики.

1. Добавьте тег заголовка раздела:  `<div class="title">Contoso Topic 4</div>`

2. Добавьте раздел Примечание: `<div class="alert"> add your table tag and text </div>`

3. Добавьте сворачиваемой области:  `<CollapsibleArea Expanded="1" Title="Collapsible Area Test Heading"> add text  </CollapsibleArea>`

4. Добавьте фрагмент кода:  `<CodeSnippet EnableCopyCode="true" Language="CSharp" ContainsMarkup="false" DisplayLanguage="C#" > a block of code </CodeSnippet>`

5. Добавьте код языка, определенный текст:  `<LanguageSpecificText devLangcs="CS" devLangvb="VB" devLangcpp="C++" devLangnu="F#" />` Обратите внимание, что devLangnu = можно ввести другие языки. Например, devLangnu = «Fortran» будет отображаться Fortran при фрагмента кода DisplayLanguage = Fortran

6. Добавьте ссылки на страницы: `<a href="ms-xhelp://?Id=ContosoTopic1">Main Topic</a>`

> [!NOTE]
> Примечание: для неподдерживаемых new «Язык» (пример, F#, Кобол, ФОРТРАН) выделение кода цветом в фрагменте кода будет монохромная.

 **Пример в справке средства просмотра** код иллюстрирует способ определения метаданных, фрагмент кода, сворачиваемой области и определенного текста с письмом.

```
<?xml version="1.0" encoding="utf-8"?>
<html>
<head>
<title>Contoso Topic 4</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Microsoft.Help.Id" content="ContosoTopic4" />
<meta name="Microsoft.Help.F1" content=" ContosoTopic4" />
    <meta name="Language" content="en-us" />
<meta name="Microsoft.Help.TocParent" content="ContosoTopic0" />
<meta name="Microsoft.Help.TocOrder" content="4" />
<meta name="SelfBranded" content="false" />
</head>

<body>
<div class="title">Contoso Topic 4</div>

  <div id="header">
<table id="bottomTable" cellpadding="0" cellspacing="0"  width="100%">
        <tr id="headerTableRow2"><td align="left">
            <span id="nsrTitle">Contoso Topic 1</span>
          </td>
<td align="right">
</td></tr>
<tr id="headerTableRow1"><td align="left">
            <span id="runningHeaderText">Contoso Widgets & Sprockets</span>
          </td></tr>
      </table>
</div>

<h2>Table of Contents</h2>

<ul class="toc">
<li class="tocline1"><a href="#introduction" target="_self">1.0 Introduction</a></li>
<li class="tocline1"><a href="#seealso" target="_self">2.1 See Also</a></li>
</ul>

<div class="topic">

<div id="mainSection">
<div id="mainBody">

<a name="introduction"></a>
<h2>1.0 Introduction</h2>
<p>[This documentation is for sample purposes only.]</p>

<p>Contoso Topic 1 contains examples of:
<ul>
<li>Collapsible Area</li>
<li>Bookmark ("See also")</li>
<li>Code Snippets from Branding Package</li>
</ul>
 </p>
<div class="alert"><table><tr><th>
<strong>Note </strong></th></tr>
<tr><td>
<p>This is an example of a <span class="label">Note </span>section.
Call out important items for your reader in this <span class="label">Note </span>box.
</p></td></tr>
</table>
</div>
</div>

<CollapsibleArea Expanded="1" Title="Collapsible Area Test Heading">

            <a id="sectionToggle0"><!----></a>

<div>
Example of Collapsible Area
<br/>
Lorem ipsum dolor sit amet...
</div>
</CollapsibleArea>

<div id="snippetGroup" >
<CodeSnippet EnableCopyCode="true" Language="VisualBasic" ContainsMarkup="false" DisplayLanguage="Visual Basic" >
Private Sub ToolStripRenderer1_RenderGrip(sender as Object, e as ToolStripGripRenderEventArgs) _ Handles ToolStripRenderer1.RenderGrip
Dim messageBoxVB as New System.Text.StringBuilder()
    messageBoxVB.AppendFormat("{0} = {1}", "GripBounds", e.GripBounds)
    messageBoxVB.AppendLine()
 ...
    MessageBox.Show(messageBoxVB.ToString(),"RenderGrip Event")
End Sub
</CodeSnippet>

<CodeSnippet EnableCopyCode="true" Language="CSharp" ContainsMarkup="false" DisplayLanguage="C#" >
private void ToolStripRenderer1_RenderGrip(Object sender, ToolStripGripRenderEventArgs e)
{
System.Text.StringBuilder messageBoxCS = new System.Text.StringBuilder();
messageBoxCS.AppendFormat("{0} = {1}", "GripBounds", e.GripBounds );
messageBoxCS.AppendLine();
...
MessageBox.Show(messageBoxCS.ToString(), "RenderGrip Event" );
}
</CodeSnippet>

<CodeSnippet EnableCopyCode="true" Language="fsharp" ContainsMarkup="false" DisplayLanguage="F#" >
some F# code
</CodeSnippet>
</div>

<h4 class="subHeading">Example of code specific text</h4>Language = <LanguageSpecificText devLangcs="CS" devLangvb="VB" devLangcpp="C++" devLangnu="F#" />

<a name="seealso"></a>
<h1 class="heading">See Also</h1>

    <div id="seeAlsoSection" class="section">
    <div class="seeAlsoStyle">
        <a href="ms-xhelp://?Id=ContosoTopic1">Main Topic</a>
    </div>
 </div>
</div>
</div>
</body>
</html>

```

 **Поддержка F1**

 В Visual Studio выбрав F1 создает значения, передаваемые из значения расположения курсора в интегрированной среде разработки и заполняет «контейнер свойств» с предоставленными значениями (на основании положения курсора. Когда курсор находится над функции x, функции x находится активный или в центре внимания и заполняет контейнер свойств со значениями.  При выборе F1 заполняется контейнер свойств, и Visual Studio F1 код выглядит так, находится ли источник справки по умолчанию клиенты локальной или online (online по умолчанию), затем создает соответствующую строку, основанный на количестве пользователей, в параметр (online по умолчанию) — оболочки (см. в разделе справки руководства для администратора для EXE-файла параметры запуска) с параметрами, локальное средство просмотра справки + ключевые слова из контейнера свойств, если локальная справка по умолчанию или URL-адрес MSDN с ключевым словом в списке параметров.

 Если три строки возвращаются для F1, называется как строка несколькими значениями, выполняемое первым условием, найдите для нажатия, и если найден, мы завершили работу; в противном случае перейдите к следующей строке.  Порядок имеет значение. Презентации ключевых слов многозначное должно быть самой длинной строки для короткой строки.  Чтобы проверить это, в случае для нескольких ключевых слов, взгляните на online строки F1 URL-адрес, который будет включать выбранного ключевого слова.

 В Visual Studio 2012 мы специально сделано более надежные деления между сетевой и автономный режим, таким образом, если для сети пользователя, затем мы просто передать запрос F1 непосредственно к нашей службе online запроса на MSDN, а не маршрутизации через агент библиотек справки что нам необходимо было в Visual Studio 2010. Затем мы полагаемся на состояние «поставщика содержимое, установленное = true» для определения необходимости делать нечто иное в этом контексте. Если значение равно true, выполните эту логику синтаксического анализа и маршрутизации, в зависимости от того, что вы хотите поддерживать для ваших клиентов. Если значение равно false, затем мы перейдем к MSDN. Если пользователя — Local, то все вызовы перейти на ядро локальной справки.

 F1 схема потока:

 ![Поток F1](../../extensibility/internals/media/f1flow.png "F1flow")

 Когда источник содержимого справки по умолчанию средство просмотра справки задано значение online (запуск в браузере):

- Возможности Visual Studio партнера (VSP) выдавать значение в наборе свойств F1 (prefix.keyword контейнер свойств и online URL-адрес для префикса, найден в реестре): F1 отправляет URL-адрес VSP + параметров браузера.

- Функции Visual Studio (редактор языка, элементы меню Visual Studio, и т.д.):  F1 отправляет URL-адрес Visual Studio в браузер.

  Если источник содержимого справки по умолчанию средство просмотра справки присвоить локальной справки (запустить в средстве просмотра справки):

- Функции VSP, где ключевое слово F1 контейнер свойств и совпадают индекс локального хранилища (то есть контейнер prefix.keyword свойство = значение, найденное в локальном хранилище индекса):  F1 отображает раздел в средстве просмотра справки.

- Функции Visual Studio (разверткой VSP-ФАЙЛЕ для переопределения контейнер свойств, извлекаемыми из возможностей Visual Studio): F1 отображает раздел в средстве просмотра справки Visual Studio.

  Установите следующие значения реестра для включения F1 Fallback для поставщика содержимого справки. Откат F1 означает, что окно справки имеет значение для поиска содержимого справки F1, через Интернет и поставщика содержимого устанавливается локально пользователей жесткий диск. Средство просмотра справки следует обратить внимание на локальную справку для содержимого, несмотря на то, что значение по умолчанию — для справки в Интернете.

1. Задайте **VendorContent** значение раздела реестра справки 2.1:

   - Для 32-разрядных операционных системах:

        HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Help\v2.1\Catalogs\VisualStudio12

        "VendorContent"=dword:00000001

   - Для 64-разрядных операционных системах:

        HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12

        "VendorContent"=dword:00000001

2. Зарегистрируйте пространство имен партнера в разделе реестра справки 2.1:

   - Для 32-разрядных операционных системах:

      HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Help\v2.1\Partner<em>\\< пространство имен\></em>

      «расположение «=» вне сети»

   - Для 64-разрядных операционных системах:

      HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Partner<em>\\<namespace\></em>

      «расположение «=» вне сети»

   **Синтаксический анализ базового собственного пространства имен**

   Чтобы включить анализ базового собственного пространства имен, в реестре добавьте новый параметр DWORD с именем: BaseNativeNamespaces и присвойте ему значение 1 (в разделе каталога, они должны поддерживаться).  Например если вы хотите использовать каталог Visual Studio, можно добавить ключ к пути:

   HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12

   Если ключевое слово F1 в тот формат, который встречается заголовок или МЕТОДА, символ «/» будет проанализирована, приводит к Следующая конструкция:

- Заголовок: будет содержать пространство имен, который может использоваться для регистрации в реестре

- МЕТОД: это станет ключевое слово, которое передается через.

  Например, если вызывается CustomLibrary пользовательской библиотеки и метод, вызванный MyTestMethod, когда F1, запрос поступает в нем будут отформатированы как `CustomLibrary/MyTestMethod`.

  Пользователь затем можно зарегистрировать CustomLibrary как пространство имен куста партнеров, а также предоставить ключ независимо от расположения, пожелает и ключевое слово, переданных в запрос будет MyTestMethod.

  **Включить справку инструмента в Интегрированной среде отладки**

  Добавьте следующий раздел реестра и значение:

  HKEY_CURRENT_USER\Software\Microsoft\VisualStudio\12.0\Dynamic Help key: Для отображения вывода данных отладки в Розничная стоимость: да

  В интегрированной среде разработки, в пункте меню справки выберите «Отладка контекста справки»

  **Метаданные содержимого**

  В следующей таблице любая строка, которая отображается в квадратных скобках — это заполнитель, который необходимо заменить распознаваемого значения. Например, в \<meta name="Microsoft.Help.Locale» содержимое = «[код языка]» / >, «[код языка]» необходимо заменить значение такие как «en-США».

|Свойства (представление HTML)|Описание|
|--------------------------------------|-----------------|
|\< name="Microsoft.Help.Locale meta» content = «[коде языка]» / >|Задает языковой стандарт для этого раздела. Если этот тег из раздела, она должна использоваться только один раз и должен вставляться выше теги справки (Майкрософт). Если этот тег не используется, основной текст раздела индексируется с помощью разбиения по словам, связанное с языковой стандарт продукта, если он задан; в противном случае en-us используется средство разбиения по словам. Этот тег соответствует БЫТОВОЕ RFC 4646. Чтобы убедиться, что справки (Майкрософт) работает правильно, используйте это свойство вместо общего атрибута языка.|
|\< name="Microsoft.Help.TopicLocale meta» content = «[коде языка]» / >|Задает языковой стандарт для этого раздела, когда также используются другими языковыми стандартами. Если этот тег используется в разделе, он должен использоваться только один раз. Используйте этот тег, если каталог содержит содержимое в более чем один язык. Несколько разделов в каталоге может иметь тот же идентификатор, но каждый необходимо указать уникальный TopicLocale. В разделе, который указывает TopicLocale, соответствующий языку каталога является темой, отображаемый в оглавлении. Тем не менее в результатах поиска отображаются все языковые версии этого раздела.|
|\< Title > [Title] \< /title >|Задает заголовок в этом разделе. Этот тег является обязательным и должен использоваться только один раз в разделе. Если в теле раздела не содержит заголовок \<div > в разделе и в оглавление отображается раздел, в данной книге.|
|\< Meta name =» Microsoft.Help.Keywords» content = «[aKeywordPhrase]» / >|Задает текст ссылки, отображаемый в области индекса справки. При выборе ссылки отображается раздел. Можно указать несколько ключевые слова в индексе для раздела, или этот тег можно опустить, если вы не хотите ссылки на этот раздел отображается в индексе. Ключевые слова «K» из более ранних версиях справки можно преобразовать к этому свойству.|
|\< name="Microsoft.Help.Id meta» content = «[аргумент TopicID]» / >|Задает идентификатор для этого раздела. Этот тег является обязательным и должен использоваться только один раз в разделе. Идентификатор должен быть уникальным среди всех разделов в каталоге, которые имеют один и тот же параметр языкового стандарта. В другом разделе можно создать ссылку на этот раздел с помощью этого идентификатора.|
|\< Meta name="Microsoft.Help.F1» content="[System.Windows.Controls.Primitives.IRecyclingItemContainerGenerator]"/ >|Указывает ключевое слово F1 для этого раздела. Можно указать несколько ключевых слов F1 для раздела, или этот тег можно опустить, если не хотите, чтобы в этом разделе, отображаемый, когда пользователь приложения нажимает клавишу F1. Как правило для раздела указывается только одно ключевое слово F1. Ключевые слова «F» из более ранних версиях справки можно преобразовать к этому свойству.|
|\< Meta name = «Description» content = «[Описание раздела]» / >|Предоставляет краткое описание содержимого в этом разделе. Если этот тег используется в разделе, он должен использоваться только один раз. Это свойство осуществляется непосредственно в библиотеке запроса; не сохраняется в файле индекса.|
 meta name="Microsoft.Help.TocParent" content="[parent_Id]"/>|Указывает своим родительским разделом этого раздела в содержании. Этот тег является обязательным и должен использоваться только один раз в разделе. Значение равно Microsoft.Help.Id родительского элемента. Раздел может иметь только в одном месте в таблице содержимое. «-1» считается идентификатор раздела для корневого Оглавления. В [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)], эта страница является домашней страницей справки. Это же причине, в частности мы добавим TocParent =-1 на некоторые разделы, чтобы убедиться, что они отображаются в верхнем уровне. Домашняя страница справки является страницей системы и таким образом. Если VSP пытается добавить страницу с Идентификатором -1, он может получить добавлен в набор содержимого, но окно справки всегда использует страницу системы – начальная страница окна справки|
|\< name="Microsoft.Help.TocOrder meta» content = «[положительное целое число]» / >|Указывает, где в оглавление в этом разделе отображается относительно его разделов однорангового узла. Этот тег является обязательным и должен использоваться только один раз в разделе. Значение представляет собой целое число. Указывает, является целым числом с меньшим значением в этом разделе отображается над на раздел, который указывает, является целым числом более высокого значения.|
|\< name="Microsoft.Help.Product meta» content = «[product code]» / >|Указывает продукт, описанной в этом разделе. Если этот тег используется в разделе, он должен использоваться только один раз. Эта информация может также предоставляться как параметр, передаваемый индексатор справки.|
|\< name="Microsoft.Help.ProductVersion meta» content = «[номер версии]» / >|Указывает версию продукта, описанной в этом разделе. Если этот тег используется в разделе, он должен использоваться только один раз. Эта информация может также предоставляться как параметр, передаваемый индексатор справки.|
|\< name="Microsoft.Help.Category meta» content = «[string]» / >|Используемых продуктов для выявления подразделах содержимого. Можно определить несколько подразделов для раздела, или этот тег можно опустить, если требуется запретить ссылки для идентификации любой из подразделов. Этот тег используется для хранения атрибутов параметр "targetos" и моникер целевой платформы, если раздела преобразуется из более ранней версии справки. Формат содержимого — AttributeName:AttributeValue.|
|\< содержимое метаданных name="Microsoft.Help.TopicVersion = «[раздел номер версии]» / >|Указывает эта версия раздела, когда существует несколько версий в каталоге. Потому что Microsoft.Help.Id не обязательно должны быть уникальными, этот тег является обязательным, если более одной версии раздела существует в каталоге, например, если каталог содержит раздел для .NET Framework 3.5 и раздел для .NET Framework 4 и оба имеют же Micro обратимо. Help.Id.|
|\< Meta name = «SelfBranded» content = «[TRUE или FALSE]» / >|Указывает, использует ли в этом разделе фирменной символикой при запуске диспетчера библиотек справки или пакет фирменной символики, характерное для раздела. Этот тег должен иметь значение TRUE или FALSE. Если он имеет значение TRUE, то пакет фирменной символики для соответствующего раздела переопределяет пакет фирменной символики, который устанавливается при запуске диспетчера библиотек справки, чтобы раздел отображается так, как предполагалось, даже если он отличается от отрисовки другого содержимого. Если он имеет значение FALSE, подготавливается к просмотру текущего раздела в соответствии с фирменной символикой, который задается при запуске диспетчера библиотек справки. По умолчанию диспетчер библиотек справки предполагает самостоятельно фирменной настройки, чтобы иметь значение false, если SelfBranded переменная не объявлена как TRUE; Таким образом, нет необходимости объявлять \<meta name = «SelfBranded» content = «FALSE» / >.|

### <a name="creating-a-branding-package"></a>Создание пакета фирменной символики
 Этот выпуск Visual Studio включает в себя ряд различных продуктов Visual Studio, включая изолированной и интегрированной оболочек для партнеров Visual Studio.  Каждый из этих продуктов требует некоторой степени тематическое содержимое справки, фирменная символика поддержки, уникальные для продукта.  Например разделы Visual Studio требуется единообразными фирменными презентации, тогда как SQL Studio, которое создает оболочку для оболочки ISO, требуется свой собственный уникальный справки содержимого фирменной символики для каждого раздела справки.  Партнером интегрированной оболочки может потребоваться их разделы справки для обеспечения в родительском элементе содержимого справки продукта Visual Studio, гарантируя собственные разделе фирменной символики.

 Пакеты устанавливаются на продукт, содержащий средства просмотра справки.  Для продуктов Visual Studio:

- Резервный пакет фирменной символики (Branding_\<языкового стандарта > .mshc) устанавливается в корне приложения средства просмотра справки 2.1 (пример: C:\Program \Microsoft Help Viewer\v2.1 файлы (x86)), языковой пакет средства просмотра справки.  Это используется для случаев, где не установлен продукт, фирменная символика пакета (содержимое не установлен) или где поврежден установленный пакет фирменной символики.  Элементы Visual Studio (логотип и обратная связь) учитываются при использовании приложения корневой резервный фирменной настройки пакета.

- При установке Visual Studio содержимое из службы содержимого пакета (для первого сценария установки содержимого времени) также устанавливается пакет фирменной символики.  Есть ли обновление для пакета фирменной символики, обновление устанавливается в случае следующего обновления содержимого или действия установки дополнительных пакетов.

  Средство просмотра справки Microsoft поддерживает фирменную символику статей в зависимости от раздела метаданных.

- Где раздел метаданных определяет self типизированной = true, отображения раздела как есть, не выполнять никаких действий (вплоть до фирменную символику).

- Где раздел метаданных определяет self типизированной = false, использовать пакет фирменной символики, связанный с TopicVendor значение метаданных.

- Где раздел метаданных определяет name="Microsoft.Help.TopicVendor» content =\< фирменной символики имя пакета в поставщика MSHA >, используйте пакет фирменной символики, определенные в значение содержимого.

- В каталоге Visual Studio есть приоритетного приложения пакетов фирменной символики.  Первый Visual Studio фирменной символики по умолчанию применяется, а затем, если задается в разделе метаданных и поддерживаются в связанных фирменную символику пакета (как определено в msha установки), определяется поставщиком фирменная символика применяется как переопределение.

  Элементы фирменной настройки обычно делятся на три основные категории:

- Элементы заголовка (примеры включают ссылка обратной связи, текст условного заявления об отказе, эмблема)

- Содержимое поведения (примеры: развернуть или свернуть элемент управления текстовые элементы и элементы фрагмента кода)

- Нижний колонтитул элементы (например, авторские права)

  Считать типизированные элементы включают элементы (см. в этой спецификации):

- Логотип каталога/продукта (например, Visual Studio)

- Элементы link и электронной почты обратной связи

- Текст заявления об отказе

- Текст об авторских правах

  Вспомогательные файлы в пакет фирменной символики окна справки Visual Studio включают:

- Графики (логотипов, значков, и т.д.)

- Файлы скриптов Branding.js — вспомогательные поведение содержимого

- Branding.XML — строки, которые постоянно используются по содержимому каталога.  Примечание: для Visual Studio локализации текстовых элементов во branding.xml включают _locID =»\<уникальное значение >»

- Branding.CSS — определения стилей для обеспечения согласованности презентации

- Printing.CSS — определения стилей для согласованного представления печати

  Как отмечалось выше, пакеты фирменной символики связаны в этом разделе:

- Когда SelfBranded = false определен в метаданных, раздел наследует каталога, фирменная символика пакета

- Или когда SelfBranded = false и существует уникальный пакет фирменной символики заданного в MSHA, доступных при установке содержимого

  Для реализации пользовательских пакетов фирменной символики VSP (VSP содержимое, SelfBranded = True), для продолжения рекомендуется начать с резервной пакет фирменной символики (устанавливается с помощью средства просмотра справки), и измените имя файла соответствующим образом.  Branding_\<языкового стандарта > .mshc файл является ZIP-файл с расширением файла изменен для выполнения, поэтому просто измените расширение из .mshc на ZIP-файл и извлеките его содержимое.  Ниже приведены элементы пакета фирменной символики и изменить соответствующим образом (например, изменить логотип VSP логотип и ссылку на логотип в файле Branding.xml, обновляются Branding.xml в особенности VSP и т. д.).

  Когда все изменения выполняются, создать ZIP-файл, содержащий нужные элементы фирменной символики и измените расширение на .mshc.

  Чтобы связать пользовательский пакет фирменной символики, создайте MSHA, который содержит ссылку на файл фирменной символики mshc вместе с содержимым mshc, (содержащий разделы).  См. ниже «MSHA» по созданию основных MSHA.

  Файл Branding.xml содержит список элементов, используемых для постоянно прорисовки конкретных элементов в разделе, при в этом разделе приводятся \<meta name="Microsoft.Help.SelfBranded» content = «false» / >.  Ниже приводится список элементов в файле Branding.xml Visual Studio.  Этот список предназначен для использования в качестве шаблона для пользователей, выполняющих оболочки ISO, где они изменять эти элементы (например логотип, отзывы и авторских правах) в соответствии с собственные продукта фирменной символики.

  Примечание: переменные, с «{n}» имеют зависимостей кода — удаление или изменение этих значений приведет к ошибки и, возможно, сбой приложения. Идентификаторы локализации (пример _locID="codesnippet.n»), включаются в фирменной символики пакета Visual Studio.

  **Branding.XML**

|||
|-|-|
|Функция:|**CollapsibleArea**|
|Использовать:|Разверните свертывание текста элемента управления содержимым|
|**Элемент**|**Значение**|
|ExpandText|Expand|
|CollapseText|Свернуть|
|Функция:|**CodeSnippet**|
|Использовать:|Текст элемента управления фрагмента кода.  Примечание. Пространство изменится содержимого фрагмента кода с местом «Не критическое».|
|**Элемент**|**Значение**|
|CopyToClipboard|Копировать в буфер обмена|
|ViewColorizedText|Цветной вид|
|CombinedVBTabDisplayLanguage|Visual Basic (пример)|
|VBDeclaration|Объявление|
|VBUsage|Использование|
|Функция:|**Отзывы, нижний колонтитул и логотип**|
|Использовать:|Укажите элемент управления обратной связи для клиентов предоставить отзыв для текущей темы по электронной почте.  Текст об авторских правах для содержимого.  Определение логотип.|
|**Элемент**|**Значение (эти строки можно изменить для удовлетворения потребностей содержимого первых пользователей.)**|
|Авторские права|© Корпорация Майкрософт 2013. Все права защищены.|
|SendFeedback|\<a href =»{0}" {1}> Отправить отзыв\</a > по этой теме в корпорацию Майкрософт.|
|FeedbackLink||
|LogoTitle|[!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]|
|LogoFileName|vs_logo_bk.gif|
|LogoFileNameHC|vs_logo_wh.gif|
|Функция:|**Заявление об отказе**|
|Использовать:|Набор вариантов определенных заявления об отказе для машины переведенного контента.|
|**Элемент**|**Значение**|
|MT_Editable|В этой статье был машинного перевода. Если у вас есть подключение к Интернету, выберите «Просмотреть раздел в Интернете», чтобы открыть эту страницу в режиме редактирования параллельно с исходным англоязычным контентом в то же время.|
|MT_NonEditable|В этой статье был машинного перевода. Если у вас есть подключение к Интернету, выберите «Просмотреть раздел в Интернете», чтобы открыть эту страницу в режиме редактирования параллельно с исходным англоязычным контентом в то же время.|
|MT_QualityEditable|Эта статья переведена вручную. Если у вас есть подключение к Интернету, выберите «Просмотреть раздел в Интернете», чтобы открыть эту страницу в режиме редактирования параллельно с исходным англоязычным контентом в то же время.|
|MT_QualityNonEditable|Эта статья переведена вручную. Если у вас есть подключение к Интернету, выберите «Просмотреть раздел в Интернете», чтобы открыть эту страницу в режиме редактирования параллельно с исходным англоязычным контентом в то же время.|
|MT_BetaContents|В этой статье был машинного перевода для предварительной версии. Если у вас есть подключение к Интернету, выберите «Просмотреть раздел в Интернете», чтобы открыть эту страницу в режиме редактирования параллельно с исходным англоязычным контентом в то же время.|
|MT_BetaRecycledContents|Эта статья переведена вручную для предварительной версии. Если у вас есть подключение к Интернету, выберите «Просмотреть раздел в Интернете», чтобы открыть эту страницу в режиме редактирования параллельно с исходным англоязычным контентом в то же время.|
|Функция:|**LinkTable**|
|Использовать:|Поддержка ссылок раздела в Интернете|
|**Элемент**|**Значение**|
|LinkTableTitle|Таблица ссылок|
|TopicEnuLinkText|Просмотреть англоязычную версию\</a > этой статьи, которая доступна на компьютере.|
|TopicOnlineLinkText|Этот раздел \<a href =»{0}" {1}> online\</a >|
|OnlineText|Online|
|Функция:|**Элемент управления видео аудио**|
|Использовать:|Отображение элементов и текста для видео|
|**Элемент**|**Значение**|
|MultiMediaNotSupported|Internet Explorer 9 или более поздней версии установить для поддержки {0} содержимого.|
|VideoText|Отображение видео|
|AudioText|потоковое аудио|
|OnlineVideoLinkText|\<p > Чтобы просмотреть видео, связанного с этим разделом, щелкните {0} \<a href =»{1}«>{2}здесь\</a >.\< /p >|
|OnlineAudioLinkText|\<p > для прослушивания связанного с этим разделом звука щелкните {0} \<a href =»{1}«>{2}здесь\</a >.\< /p >|
|Функция:|**Элемент управления содержимым не установлен**|
|Использовать:|Для отображения contentnotinstalled.htm текстовых элементов (строк)|
|**Элемент**|**Значение**|
|ContentNotInstalledTitle|Содержимое не найден на компьютере.|
|ContentNotInstalledDownloadContentText|\<p > для загрузки содержимого на свой компьютер, \<a href =»{0}" {1}> щелкните вкладку" Управление "\</a >.\< /p >|
|ContentNotInstalledText|\<p > на компьютере установлено никакое содержимое. Обратитесь к администратору для локальной установки содержимого справки. \</p >|
|Функция:|**Элемент управления не найден раздел**|
|Использовать:|Для отображения topicnotfound.htm текстовых элементов (строк)|
|**Элемент**|**Значение**|
|TopicNotFoundTitle|Не удается найти запрошенный раздел на компьютере.|
|TopicNotFoundViewOnlineText|\<p > запрашиваемый раздел не найден на компьютере, но вы можете \<a href =»{0}" {1}> просмотреть раздел в Интернете\</a >.\< /p >|
|TopicNotFoundDownloadContentText|\<p > см. в разделе области переходов для ссылки на сходные разделы или \<a href =»{0}" {1}> щелкните вкладку" Управление "\</a > для загрузки содержимого на компьютер.\< /p >|
|TopicNotFoundText|\<p > запрашиваемый раздел не найден на компьютере. \</p >|
|Функция:|**Раздел поврежден элемента управления**|
|Использовать:|Для отображения topiccorrupted.htm текстовых элементов (строк)|
|**Элемент**|**Значение**|
|TopicCorruptedTitle|Не удается открыть запрашиваемый раздел.|
|TopicCorruptedViewOnlineText|\<p > не удается открыть запрашиваемый раздел справки. Возможно, ошибка в содержимом раздела или зависимость базовой системы. \</p >|
|Функция:|**Домашняя страница управления**|
|Использовать:|Текст, поддержкой отображения содержимого справки узел верхнего уровня.|
|**Элемент**|**Значение**|
|HomePageTitle|Начальная страница окна справки|
|HomePageIntroduction|\<p > вас приветствует окно справки Майкрософт, — ценный источник информации для всех, кто использует средства Microsoft, продукты, технологии и службы. Средство просмотра справки предоставляет доступ на практические руководства и справочные сведения, примеры кода, технические статьи и многое другое. Для поиска содержимого, необходимо просмотреть содержание, используйте компонент full-text search или Навигация с помощью индекса ключевого слова. \</p >|
|HomePageContentInstallText|\<p >\<br / > Используйте \<a href =»{0}" {1}> Управление содержимым\</a > вкладки для следующих целей:\<ul >\<li > Добавить содержимое на компьютер.\< /li >\<li > Проверка обновлений локального содержимого.\< /li >\<li > Удаление содержимого с компьютера.\< /li >\</ul >\</p >|
|HomePageInstalledBooks|Установленные книги|
|HomePageNoBooksInstalled|Содержимое не найден на компьютере.|
|HomePageHelpSettings|Параметры содержимого справки|
|HomePageHelpSettingsText|\<p > текущие настройки является локальной справки. Средство просмотра справки отображает содержимое, установленный на компьютере. \<br / > Чтобы изменить источник содержимого справки, в строке меню Visual Studio, выберите \<span style =»{0}«> Справка, задать параметры справки\</span >.\< br / >\</p >|
|Мегабайт|МБ|

 **Branding.js**

 Файл branding.js содержит JavaScript, используемые элементы фирменной настройки окна справки Visual Studio.  Ниже приведен список элементов фирменной настройки, а также вспомогательные функции JavaScript.  В разделе «Локализуемые строки» в верхней части этого файла определяются все строки должен быть локализован для данного файла.  Локализация строк в файле branding.js была создана ICL файл.

||||
|-|-|-|
|**Функции настройки фирменной символики**|**Функция JavaScript**|**Описание**|
|Var...||Определение переменных|
|Получить язык кода пользователя|setUserPreferenceLang|Сопоставляет индекс # для языка кода|
|Задать и получить значения файла cookie|getCookie setCookie||
|Наследуемый член|changeMembersLabel|Развернуть/свернуть наследуемый член|
|Когда SelfBranded = False|onLoad|Чтение строки запроса для проверки того, является ли он запросом печати.  Задайте все codesnippets сосредоточиться на основной вкладке пользователя.  Если данный запрос печати, установите isPrinterFriendly значение true. Проверка режима высокой контрастности.|
|Фрагмент кода|addSpecificTextLanguageTagSet||
||getIndexFromDevLang||
||ChangeTab||
||setCodesnippetLang||
||setCurrentLang||
||CopyToClipboard||
|CollapsibleArea|addToCollapsibleControlSet|запись всех объекта свертываемые элемента управления в список.|
||CA_Click|на основе состояния сворачиваемой области, определяет, какие изображение и текст для представления|
|Поддержка контрастности для логотипа|isBlackBackground()|Вызывается, чтобы определить, является ли черный фон.  Только точные when в режиме высокой контрастности.|
||isHighContrast()|Используйте цветной диапазон для проверки режима высокой контрастности|
||onHighContrast(black)|Вызывается при обнаружении высокой контрастности|
|Функциональные возможности LST|||
||addToLanSpecTextIdSet(id)||
||updateLST(currentLang)||
||getDevLangFromCodeSnippet(lang)||
|Мультимедийные функции|Заголовок (начало, конец, текст, стиль)||
||findAllMediaControls(normalizedId)||
||getActivePlayer(normalizedId)||
||captionsOnOff(id)||
||toSeconds(t)||
||getAllComments(node)||
||styleRectify (styleName, styleValue)||
||showCC(id)||
||Subtitle(ID)||

 **HTM-ФАЙЛЫ**

 Пакет фирменной символики содержит набор HTM-файлы, которые поддерживают сценарии для взаимодействия сведения о ключе содержимого пользователям справки, например домашней страницы, содержащий раздел, описывающий, какие наборы содержимого устанавливаются и страницы, сообщает пользователю, когда разделы нельзя найти в локальный набор разделов. Можно изменить эти файлы HTM каждого продукта.  Поставщики оболочки ISO возможность взять пакет фирменной символики по умолчанию и изменить поведение и содержимое этих страниц на suite их требованиям.  Эти файлы называть их соответствующий пакет фирменной символики в порядке для фирменной настройки тегов получить соответствующее содержимое из файла branding.xml.

||||
|-|-|-|
|**Файл**|**Используйте**|**Отображаемый источник содержимого**|
|HomePage.htm|Это страница, на которой отображаются установленные содержимое и все остальные сообщения, подходящие для предоставления пользователю об их содержимое.  Этот файл содержит дополнительное содержимое «Microsoft.Help.Id» данных атрибута meta-«1", который помещает это содержимое в верхней части локального содержимого Оглавление.||
||<META_HOME_PAGE_TITLE_ADD />|Branding.XML, тег \<HomePageTitle >|
||<HOME_PAGE_INTRODUCTION_SECTION_ADD />|Branding.XML, тег \<HomePageIntroduction >|
||<HOME_PAGE_CONTENT_INSTALL_SECTION_ADD />|Branding.XML, тег \<HomePageContentInstallText >|
||<HOME_PAGE_BOOKS_INSTALLED_SECTION_ADD />|Заголовок раздела тега Branding.xml\<HomePageInstalledBooks >, данные, созданные из приложения, \<HomePageNoBooksInstalled > Если никакие книги не установлены.|
||<HOME_PAGE_SETTINGS_SECTION_ADD />|Заголовок раздела тега Branding.xml \<HomePageHelpSettings >, раздел текста \<HomePageHelpSettingsText >.|
|topiccorrupted.htm|Если существует раздел в локальном наборе, но для какой-либо причине не могут отображаться (повреждения содержимого).||
||<META_TOPIC_CORRUPTED_TITLE_ADD />|Branding.XML, тег \<TopicCorruptedTitle >|
||<TOPIC_CORRUPTED_SECTION_ADD />|Branding.XML, тег \<TopicCorruptedViewOnlineText >|
|topicnotfound.htm|Если раздел не найден в локальное содержимое задано и недоступна online||
||<META_TOPIC_NOT_FOUND_TITLE_ADD />|Branding.XML, тег \<TopicNotFoundTitle >|
||<META_TOPIC_NOT_FOUND_ID_ADD />|Branding.xml, tag \<TopicNotFoundViewOnlineText> + \<TopicNotFoundDownloadContentText>|
||<TOPIC_NOT_FOUND_SECTION_ADD />|Branding.XML, тег \<TopicNotFoundText >|
|contentnotinstalled.htm|Если нет локального содержимого, установленный для продукта.||
||<META_CONTENT_NOT_INSTALLED_TITLE_ADD />|Branding.XML, тег \<ContentNotInstalledTitle >|
||<META_CONTENT_NOT_INSTALLED_ID_ADD />|Branding.XML, тег \<ContentNotInstalledDownloadContentText >|
||<CONTENT_NOT_INSTALLED_SECTION_ADD />|Branding.XML, тег \<ContentNotInstalledText >|

 **CSS-файлов**

 Пакет Visual Studio Справка средства просмотра фирменная символика содержит два файла css для поддержки согласованного представления содержимого справки Visual Studio:

- Branding.CSS — содержит элементы css для подготовки к просмотру where SelfBranded = false

- Printer.CSS — содержит элементы css для подготовки к просмотру where SelfBranded = false

  Файлы Branding.CSS включает определения для Visual Studio раздел presentation (недостаток заключается в том, что branding.css содержатся в Branding_\<языкового стандарта > выполнения из пакета службы может измениться).

  **Графические файлы**

  Материалы Visual Studio отображает логотип Visual Studio, а также другие рисунки.  Ниже приведен полный список графических файлов в пакет фирменной символики окна справки Visual Studio.

||||
|-|-|-|
|**Файл**|**Используйте**|**Примеры**|
|Clear.gif|Используется для отрисовки сворачиваемой области||
|footer_slice.gif|Нижний колонтитул презентации||
|info_icon.gif|Используемый при отображении сведения|Отказ от ответственности|
|online_icon.gif|Этот значок должен быть связан с веб-ссылки||
|tabLeftBD.gif|Используется для отрисовки контейнера фрагмента кода||
|tabRightBD.gif|Используется для отрисовки контейнера фрагмента кода||
|vs_logo_bk.gif|Используется для ссылок на обычном контрастности логотип, согласно определению в теге Branding.xml \<LogoFileName >.  Для продуктов Visual Studio логотип зовут vs_logo_bk.gif.||
|vs_logo_wh.gif|Используется для ссылок на обычном высокой логотип, согласно определению в теге Branding.xml \<LogoFileNameHC >.  Для продуктов Visual Studio логотип зовут vs_logo_wh.gif.||
|ccOff.png|График субтитров||
|ccOn.png|График субтитров||
|ImageSprite.png|Используется для отрисовки сворачиваемой области|развернуть или свернуть график|

### <a name="deploying-a-set-of-topics"></a>Развертывание набора разделов
 Это упрощает и убыстряет учебник для создания набора развертывания содержимого средства просмотра справки, состоящего из MSHA-файл и набор CAB-файлов или MSHCs, содержащий в разделах. MSHA является XML-файл, описывающий набор CAB-файлы или файлы MSHC. Средство просмотра справки можно прочитать MSHA для получения списка содержимого (. CAB-файла или. MSHC-файлы) для локальной установки.

 Это только учебник, описывающий очень простой XML-схемы для MSHA средства просмотра справки.  Есть пример реализации ниже Этот краткий обзор и пример HelpContentSetup.msha.

 MSHA, этот учебник, в рамках называется HelpContentSetup.msha (имя файла может быть чем угодно, с расширением. MSHA). HelpContentSetup.msha (пример ниже) должен содержать список CAB-файлы или доступные MSHCs.  Тип файла должны быть согласованы в MSHA, (не поддерживает сочетание MSHA- и CAB-файл типов). Для каждого CAB-файла или MSHC, должно быть \<класс div = «пакет» >...  \< /div > (см. пример ниже).

 Примечание: в следующем примере реализация, мы добавили пакет фирменной символики. Это крайне важно для включения, чтобы получить необходимые элементы визуализация содержимого облегчают использование Visual Studio и поведение содержимого.

 Пример файла HelpContentSetup.msha. (Замените «содержимое имя набора 1» и «содержимого, имя набора 2» и т.д. с помощью имен файлов.)

```
<html>
<head />
<body class="vendor-book">
<div class="details">
<span class="vendor">Your Company</span>
<span class="locale">en-us</span>
<span class="product">Your Company Help Content</span>
<span class="name">Your Company Help Content</span>
</div>
<div class="package-list">
<div class="package">
<span class="name">Your_Company _Content_Set_1</span>
<span class="deployed">True</span>
<a class="current-link" href="Your_Company _Content_Set_1.mshc">Your_Company _Content_Set_1.mshc </a>
</div>
<div class="package">
<span class="name">Your_Company _Content_Set_2</span>
<span class="deployed">True</span>
<a class="current-link"href=" Your_Company _Content_Set_2.mshc "> Your_Company _Content_Set_2.mshc </a>
</div>.

```

1. Создайте локальные папки, например «C:\SampleContent»

2. В этом примере мы будем использовать файлы MSHC должен содержать разделы.  MSHC является ZIP-файл с расширением файла из ZIP-файл, чтобы изменить. MSHC.

3. Создайте ниже HelpContentSetup.msha как текстовый файл (для создания файла использовалась Блокнот) и сохраните его в папке выше отмечалось (см. шаг 1).

   Класс «Реклама» существует и является уникальным. Mshc фирменной символики включается в этот учебник, чтобы установленное содержимое будет иметь фирменную символику и поведение содержимого, которые содержатся в MSHCs будет иметь соответствующую поддержку элементов, содержащихся в пакет фирменной символики. Без этого возникнут ошибки, когда система ищет поддержку элементов, которые не являются частью скопированных (установлено) содержимого.

   Чтобы получить Visual Studio, фирменная символика пакета, скопируйте файл Branding_en US.mshc в C:\Program Files (x86) \Microsoft Help Viewer\v2.1\ в вашу рабочую папку.

```html
<html>
<head />
<body class="vendor-book">
<div class="details">
<span class="vendor">Your Company</span>
<span class="locale">en-us</span>
<span class="product">Your Company Help Content</span>
<span class="name">Your Company Help Content</span>
</div>
<div class="package-list">
<div class="package">
<span class="name">Your_Company _Content_Set_1</span>
<span class="deployed">True</span>
<a class="current-link" href="Your_Company _Content_Set_1.mshc">Your_Company _Content_Set_1.mshc </a>
</div>
<div class="package">
<span class="name">Your_Company _Content_Set_2</span>
<span class="deployed">True</span>
<a class="current-link"href=" Your_Company _Content_Set_2.mshc "> Your_Company _Content_Set_2.mshc </a>
</div>
<div class="package">
<span class="packageType">branding</span>
<span class="name">Branding_en-US</span>
<span class="deployed">True</span>
<a class="current-link" href="Branding_en-US.mshc">Branding_en-US.mshc</a>
</div>
</div>
</body>
</html>

```

 **Сводка**

 Использование и расширение описанные выше действия позволит VSP для развертывания своих наборов данных для окна справки Visual Studio.

### <a name="adding-help-to-the-visual-studio-shell-integrated-and-isolated"></a>Добавление справки для оболочки Visual Studio (интегрированная и изолированная)
 **Введение**

 В этом пошаговом руководстве показано, как внедрить содержимое справки в приложении оболочки Visual Studio, а затем развернуть его.

 **Требования**

1. [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)]

2. [Visual Studio 2013 изолированной оболочки Redist](http://www.microsoft.com/visualstudio/11/downloads#vs-shell)

   **Обзор**

   [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] Оболочки — это версия [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] интегрированной среды разработки, на котором можно построить приложение. Такие приложения содержат изолированной оболочки, а также расширения, создаваемые. Используйте шаблоны проектов изолированной оболочки, которые входят в состав [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] пакета SDK для создания расширений.

   Основные шаги для создания приложения с поддержкой изолированной оболочки и ее справку:

3. Получить [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] ISO оболочки распространяемый пакет (загрузки Майкрософт).

4. В Visual Studio создайте расширение справки на основе изолированной оболочки, например, модуль Contoso справки, который описан далее в этом пошаговом руководстве.

5. Включить расширение и оболочки ISO, распространяемых в развертывание MSI (при установке приложения). В этом пошаговом руководстве не включает этап настройки.

   Создание хранилища содержимого Visual Studio. Сценарии интегрированной оболочки измените Visual Studio12 имя каталога продукта следующим образом:

- Create folder C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\VisualStudio12.

- Создайте файл с именем CatalogType.xml и добавьте его в папку. Файл должен содержать следующие строки кода:

  ```
  <?xml version="1.0" encoding="UTF-8"?>
  <catalogType>UserManaged</catalogType>
  ```

  Определите хранилище содержимого в реестре. Для интегрированной оболочке измените VisualStudio12 имя каталога продукта:

- HKLM\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12

   Ключ LocationPath строковое значение: C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\VisualStudio12\

- HKLM\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12\en-US

   Ключ CatalogName строковое значение: [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] Документация по

  **Создание проекта**

  Чтобы создать расширение изолированной оболочки:

1. В Visual Studio в разделе **файл**, выберите **новый проект**в разделе **другие типы проектов** выберите **расширяемости**, а затем выберите  **Изолированная оболочка Visual Studio**. Назовите проект `ContosoHelpShell`) для создания проекта на основе шаблона Visual Studio Isolated Shell расширяемости.

2. В обозревателе решений в проекте ContosoHelpShellUI, в папке файлы ресурсов, откройте ApplicationCommands.vsct. Убедитесь, что эта строка закомментирована (выполните поиск «No_Help»): `<!-- <define name=“No_HelpMenuCommands”/> -->`

3. Нажмите клавишу F5, чтобы скомпилировать и запустить **Отладка**. В экспериментальном экземпляре интегрированной среды разработки изолированной оболочки, выберите **помочь** меню. Убедитесь, что **Просмотр справки**, **Добавление и удаление содержимого справки**, и **задать параметры справки** отображаются команды.

4. В обозревателе решений в проекте ContosHelpShell, в папке настроек оболочки откройте ContosoHelpShell.pkgdef. Чтобы определить каталог справки Contoso, добавьте следующие строки:

   ```
    [$RootKey$\Help]
   "Product"="Contoso"
   "Catalog"="Contoso"
   “Version"="100"
   "BrandingPackage"="ContosoBrandingPackage.mshc"
   ```

5. В обозревателе решений в проекте ContosHelpShell, в папке настроек оболочки откройте ContosoHelpShell.Application.pkgdef. Чтобы включить справку F1, добавьте следующие строки:

   ```
   // F1 Help Provider

   [$RootKey$\HelpProviders\{C99BDC23-FF29-46bf-9658-ADD634CCAED8}]
   "Name"="13407"
   "Package"="{DA9FB551-C724-11d0-AE1F-00A0C90FFFC3}"
   @="Help3 Provider"
   [$RootKey$\HelpProviders]
   @="{C99BDC23-FF29-46bf-9658-ADD634CCAED8}"
   [$RootKey$\Services\{C99BDC23-FF29-46bf-9658-ADD634CCAED8}]
   "Name"="Help3 Provider"
   @="{4A791146-19E4-11D3-B86B-00C04F79F802}"
   ```

6. В обозревателе решений в контекстном меню решения ContosoHelpShell, выберите **свойства** пункта меню. В разделе **свойства конфигурации**выберите **Configuration Manager**. В **конфигурации** столбец, измените каждые «Debug» значение «Выпуск».

7. Постройте решение. Это создает набор файлов в папке выпуска, который будет использоваться в следующем разделе.

   Чтобы проверить это, как если развернута:

8. На компьютере вы развертываете Contoso могла установить Скачанный ISO оболочки (выше).

9. Создайте папку в \\\Program Files (x86)\\и назовите его `Contoso`.

10. Скопируйте содержимое из папки выпуска ContosoHelpShell \\\Contoso\ папку \Program Files (x86).

11. Запустите редактор реестра, выбрав **запуска** в **запустить** меню и введя `Regedit`. В редакторе реестра выберите **файл**, а затем **импорта**. Перейдите в папку проекта ContosoHelpShell. В папке ContosoHelpShell выберите ContosoHelpShell.reg.

12. Создайте хранилище содержимого:

     Для оболочки ISO - создайте хранилище содержимого Contoso C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\ContosoDev12

     Для [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] интегрированной оболочки, создайте папку C:\ProgramData\Microsoft\HelpLibrary2\Catalogs\VisualStudio12

13. Создайте CatalogType.xml и добавьте в хранилище содержимого (в предыдущем шаге), содержащую:

    ```
    <?xml version="1.0" encoding="UTF-8"?>
    <catalogType>UserManaged</catalogType>
    ```

14. Добавьте следующие разделы реестра:

     HKLM\SOFTWARE\Wow6432Node\Microsoft\Help\v2.1\Catalogs\VisualStudio12Key: LocationPath строковое значение:

     Для оболочки ISO:

     C:ProgramDataMicrosoftHelpLibrary2CatalogsVisualStudio12

     [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] Интегрированная оболочка:

     C:ProgramDataMicrosoftHelpLibrary2CatalogsVisualStudio12en-США

     Ключ CatalogName строковое значение: [!INCLUDE[vs_dev12](../../includes/vs-dev12-md.md)] документация. Для оболочки ISO это имя вашего каталога.

15. Скопируйте содержимое (файлы CAB или MSHC и MSHA) в локальную папку.

16. Пример интегрированная оболочка командной строки для тестирования хранилище содержимого. Для оболочки ISO измените каталог и launchingApp соответствующие значения в соответствии с продуктом.

      Метод /helpQuery/CatalogName VisualStudio12 «C:\Program файлы (x86) \Microsoft Help Viewer\v2.1\HlpViewer.exe» = "Страница & id = ContosoTopic0» /launchingApp Microsoft VisualStudio, 12.0

17. Запустите приложение Contoso (из корня приложения Contoso). В оболочке ISO, выберите **помочь** пункта меню, а также изменение **задать параметры справки** для **использование локальной справки**.

18. В оболочке, выберите **помочь** пункта меню, затем **Просмотр справки**. Должен запуститься локальный средства просмотра справки. Откройте вкладку **Управление содержимым**. В разделе **источник установки**, выберите **диска** переключатель. Выберите **...**  кнопку и перейдите к локальной папке с содержимым Contoso (копируется в локальную папку на предыдущем шаге). Выберите HelpContentSetup.msha. Contoso должен теперь отображаться как книгу в окне книги. Выберите **добавить**, а затем выберите **обновления** кнопки (нижнем правом углу).

19. В Интегрированной среде разработки Contoso нажмите клавишу F1 для тестирования функциональности F1.

### <a name="additional-resources"></a>Дополнительные ресурсы

API среды выполнения, см. в разделе [API справки Windows](http://msdn.microsoft.com/library/windows/desktop/hh447318\(v=vs.85\).aspx).

Дополнительные сведения о том, как использовать API-Интерфейс справки см. в разделе [справки примеры кода средства просмотра](http://visualstudiogallery.msdn.microsoft.com/f08f296f-7076-4aec-8da3-8f0fbe04461e).

Для обновления на критические проблемы, см. в разделе [Readme средства просмотра справки](http://go.microsoft.com/fwlink/?LinkID=231397&clcid=0x409).