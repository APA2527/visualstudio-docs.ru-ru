---
title: Средство просмотра библиотеки изображений | Документация Майкрософт
ms.date: 11/15/2016
ms.topic: conceptual
ms.assetid: 9d9c7fbb-ebae-4b20-9dd8-3c9070c0d0d1
caps.latest.revision: 7
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 97d634f97eb7a13cfa54b2c0d326b19f31fb7d9d
ms.sourcegitcommit: 08fc78516f1107b83f46e2401888df4868bb1e40
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65685550"
---
# <a name="image-library-viewer"></a>Средство просмотра библиотеки образов
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Средство просмотра библиотеки изображений Visual Studio можно загрузить и поиска манифестов изображений, позволяя пользователю управлять ими таким же образом, что и Visual Studio. Пользователь сможет изменить фон, размеры, точек на ДЮЙМ, высокая контрастность и другие параметры. Средство также отображает сведения о загрузке для каждого манифест изображения и отображает сведения об источнике для каждого изображения в манифесте образа. Это средство полезно для:  
  
1. Диагностика ошибок  
  
2. Обеспечение атрибуты установлены правильно, в манифестах пользовательского образа  
  
3. Поиск изображений в каталоге Visual Studio изображение, чтобы расширение Visual Studio можно использовать образы, которые соответствуют стиль Visual Studio  
  
   ![Изображение героя средство просмотра библиотеки](../../extensibility/internals/media/image-library-viewer-hero.png "Hero средство просмотра библиотеки изображений")  
  
   **Моникер изображений**  
  
   Моникер изображения (или моникер для краткости) представляет собой пару GUID: ID, однозначно определяющее изображение ресурса или ресурса списка изображения из библиотеки образов.  
  
   **Файлы манифеста изображения**  
  
   Файлы манифеста (.imagemanifest) изображений являются XML-файлы, которые определяют набор графических ресурсов, псевдонимы, представляют собой эти ресурсы и реального изображения или изображения, представляющие каждого ресурса. Манифестов изображений можно определить автономные изображения или списки изображений для поддержки устаревшего кода пользовательского интерфейса. Кроме того существуют атрибуты, которые можно задать на ресурс или на отдельных изображений за каждый актив, чтобы изменить время и способ отображения этих ресурсов.  
  
   **Схема манифеста изображения**  
  
   Завершения создания образа манифеста выглядит следующим образом:  
  
```xml  
<ImageManifest>  
      <!-- zero or one Symbols elements -->  
      <Symbols>  
        <!-- zero or more Guid, ID, or String elements -->  
      </Symbols>  
      <!-- zero or one Images elements -->  
      <Images>  
        <!-- zero or more Image elements -->  
      </Images>  
      <!-- zero or one ImageLists elements -->  
      <ImageLists>  
        <!-- zero or more ImageList elements -->  
      </ImageLists>  
</ImageManifest>  
```  
  
 **Символы**  
  
 Как обеспечить читаемость и обслуживания, манифест изображения можно использовать символы для значений атрибутов. Символы, которые определены следующим образом:  
  
```xml  
<Symbols>  
      <Import Manifest="manifest" />  
      <Guid Name="ShellCommandGuid" Value="8ee4f65d-bab4-4cde-b8e7-ac412abbda8a" />  
      <ID Name="cmdidSaveAll" Value="1000" />  
      <String Name="AssemblyName" Value="Microsoft.VisualStudio.Shell.UI.Internal" />  
</Symbols>  
```  
  
|||  
|-|-|  
|**Дочерний элемент**|**Определение**|  
|Импорт|Импортирует символов из заданного файла манифеста для использования в текущий манифест.|  
|Guid|Символ представляет собой идентификатор GUID и должен соответствовать GUID форматирование.|  
|ID|Символ представляет идентификатор и должно быть неотрицательное целое число.|  
|String|Символ представляет произвольное строковое значение.|  
  
 Символы, с учетом регистра и с помощью синтаксиса $(symbol-name) упоминаемого:  
  
```xml  
<Image Guid="$(ShellCommandGuid)" ID="$(cmdidSaveAll)" >  
      <Source Uri="/$(AssemblyName);Component/Resources/image.xaml" />  
</Image>  
```  
  
 Некоторые символы предопределены для всех манифестах. Их можно использовать в атрибуте Uri \<источника > или \<импорта > элемент для пути для ссылок на локальном компьютере.  
  
|||  
|-|-|  
|**Символ**|**Описание**|  
|CommonProgramFiles|Значение переменной среды % CommonProgramFiles %|  
|LocalAppData|Значение переменной среды % LocalAppData %|  
|ManifestFolder|В папку, содержащую файл манифеста|  
|Мои документы|Полный путь к папке «Мои документы» текущего пользователя|  
|ProgramFiles|Значение переменной среды % ProgramFiles %|  
|Система|В папку Windows\System32|  
|WinDir|Значение переменной среды % WinDir %|  
  
 **Изображение**  
  
 \<Изображение > элемент определяет образ, который позволяет ссылаться на моникер. Идентификатор GUID и идентификатор, в совокупности образуют моникер изображений. Моникер для изображения должно быть уникальным для всего изображения библиотеки. Если более чем один образ данного моникера, первое вхождение при построении библиотеки является тот, который сохраняется.  
  
 Он должен содержать хотя бы один источник. Несмотря на то, что зависит от размера источников будет выдать наилучшие результаты на широкий диапазон размеров, они не требуются. Если служба предлагается для изображения, размер, не определенные в \<изображение > элемент и нет зависит от размера источника, служба будет выбрать лучший источник определенного размера и масштабировать его до запрошенного размера.  
  
```xml  
<Image Guid="guid" ID="int" AllowColorInversion="true/false">  
      <Source ... />  
      <!-- optional additional Source elements -->  
</Image>  
```  
  
|||  
|-|-|  
|**Attribute (XElement Dynamic Property)** (Attribute (динамическое свойство XElement))|**Определение**|  
|Guid|[Обязательный параметр] Часть GUID моникер изображений|  
|ID|[Обязательный параметр] Идентификатор часть моникер изображений|  
|AllowColorInversion|[Необязательно, по умолчанию-true] Указывает, может ли изображение иметь цвета программно обращена при использовании на темном фоне.|  
  
 **Источник**  
  
 \<Источника > элемент определяет один исходный ресурс изображения (XAML и PNG).  
  
```xml  
<Source Uri="uri" Background="background">  
      <!-- optional NativeResource element -->  
 </Source>  
```  
  
|||  
|-|-|  
|**Attribute (XElement Dynamic Property)** (Attribute (динамическое свойство XElement))|**Определение**|  
|URI|[Обязательный параметр] URI, который определяет, где можно загрузить изображение из. Он может принимать одно из следующих:<br /><br /> -A [пакет URI](https://msdn.microsoft.com/library/aa970069\(v=vs.100\).aspx) в приложении: / / / центра<br /><br /> Ссылку на ресурс абсолютный компонента<br /><br /> — Путь к файлу, содержащему машинный ресурс|  
|Фон|[Необязательно] Указывает, что на тип фона источник предназначен для использования.<br /><br /> Он может принимать одно из следующих:<br /><br /> - *Свет*: Источник может использоваться на светлым фоном.<br /><br /> - *Темно-*: Источник может использоваться на темном фоне.<br /><br /> - *Высокая контрастность*: Источник можно использовать на любой фоне в режиме высокой контрастности.<br /><br /> - *HighContrastLight*: Источник может использоваться на светло-фоне в режиме высокой контрастности.<br /><br /> -*HighContrastDark*: Источник может использоваться на темном фоне в режиме высокой контрастности.<br /><br /> Если **фона** атрибут указан, источник можно использовать на любой фоне.<br /><br /> Если **фона** — *свет*, *темно-*, *HighContrastLight*, или *HighContrastDark*, никогда не инвертирования цветов исходного объекта. Если **фона** опущен или установлен *высокой контрастности*, управляет инверсии цветов источника изображения **AllowColorInversion** атрибута.|  
  
 Объект \<источника > элемент может иметь только один из следующих подэлементов необязательно:  
  
||||  
|-|-|-|  
|**Элемент**|**Атрибуты (все обязательные)**|**Определение**|  
|\<Размер >|Значение|Источник будет использоваться для изображений определенного размера (в единицах устройства). Изображение будет square.|  
|\<SizeRange >|MinSize, MaxSize|Источник будет использован для образов из MinSize MaxSize (в единицах устройства) включительно. Изображение будет square.|  
|\<Измерения >|Ширина, высота|Источник будет использоваться для образов, заданную ширину и высоту (в единицах устройства).|  
|\<DimensionRange >|MinWidth, MinHeight,<br /><br /> MaxWidth, MaxHeight|Источник будет использован для образов из минимальный ширины и высоты в максимальное значение ширины или высоты (в единицах устройства) включительно.|  
  
 Объект \<источника > элемент также может иметь необязательный \<NativeResource > подчиненного элемента, который определяет \<источника >, загруженный из сборки в машинном коде, а не является управляемой сборкой.  
  
```xml  
<NativeResource Type="type" ID="int" />  
```  
  
|||  
|-|-|  
|**Attribute (XElement Dynamic Property)** (Attribute (динамическое свойство XElement))|**Определение**|  
|Тип|[Обязательный параметр] Тип собственного ресурса, XAML или PNG|  
|ID|[Обязательный параметр] Идентификатор целой части машинный ресурс|  
  
 **ImageList**  
  
 \<ImageList > элемент определяет коллекцию изображений, которые могут быть возвращены в одной области. Лента создается по запросу, при необходимости.  
  
```xml  
<ImageList>  
      <ContainedImage Guid="guid" ID="int" External="true/false" />  
      <!-- optional additional ContainedImage elements -->  
 </ImageList>  
```  
  
|||  
|-|-|  
|**Attribute (XElement Dynamic Property)** (Attribute (динамическое свойство XElement))|**Определение**|  
|Guid|[Обязательный параметр] Часть GUID моникер изображений|  
|ID|[Обязательный параметр] Идентификатор часть моникер изображений|  
|Внешняя|[Необязательно, по умолчанию: false] Указывает, ссылается ли моникер изображений на изображение в текущий манифест.|  
  
 Моникер для автономной изображение не поддерживает для ссылки на изображение, определенная в манифесте текущего. Если автономной изображение не удается найти в библиотеке изображений, вместо него будет использоваться изображение-заполнитель пустым.  
  
## <a name="how-to-use-the-tool"></a>Как использовать средство  
 **Проверка манифеста пользовательского образа**  
  
 Чтобы создать пользовательский манифест, мы рекомендуем использовать средство ManifestFromResources, чтобы автоматически создать манифест. Чтобы проверить пользовательский манифест, запустите средство просмотра библиотеки изображений и выберите Файл > задать пути... Чтобы открыть диалоговое окно каталогов поиска. Средство будет использовать каталогов поиска для загрузки манифестов изображений, но он будет также использовать их для поиска DLL-файлы, содержащие изображения в манифесте, поэтому не забудьте включить каталоги библиотеки DLL и манифест в этом диалоговом окне.  
  
 ![Поиск средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-search.png "поиска средство просмотра библиотеки изображений")  
  
 Нажмите кнопку **добавить...** Чтобы выбрать новые каталоги поиска для поиска манифестов и их соответствующие DLL-библиотеки. Средство запомнит эти каталоги поиска, и их можно включить или отключить, устанавливая или снимая каталог.  
  
 По умолчанию средство будет пытаться найти каталог установки Visual Studio и добавьте их в список каталогов. Кроме того, можно вручную добавить каталоги, в которых не обнаружит средство.  
  
 После загрузки всех манифестов, средство можно использовать для переключения **фона** цветов, **DPI**, **высокой контрастности**, или **полутоновые изображения** для изображения, чтобы пользователь может визуально оценить ресурсы изображений, чтобы проверить отображаются правильно для различных параметров.  
  
 ![Фон средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-background.png "фона средство просмотра библиотеки изображений")  
  
 Цвет фона может быть присвоено свет, Темная или пользовательское значение. Выбрав «Пользовательский цвет» откроется диалоговое окно выбора цвета и добавить этот пользовательский цвет к нижней части поля со списком фона для быстрой идентификации более поздней версии.  
  
 ![Пользовательский цвет средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-custom-color.png "пользовательский цвет средство просмотра библиотеки изображений")  
  
 При выборе моникер изображений в на правой панели сведений об образе отображаются сведения для каждого образа реальных за этот моникер. Области также позволяет пользователям копировать специальное имя, по имени или по значению raw GUID: ID.  
  
 ![Сведения об образе средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-image-details.png "сведений об образе средство просмотра библиотеки изображений")  
  
 Данные, отображаемые для каждого образа источника включает какого рода фон, чтобы отобразить его, можно применять различные темы, или поддерживает высокой контрастности, какие размеры, он является действительным для того, является ли он зависит от размера и ли изображение поступает из сборки в машинном коде.  
  
 ![Средство просмотра библиотеки изображений — тема Can](../../extensibility/internals/media/image-library-viewer-can-theme.png "средство просмотра библиотеки изображений — тема Can")  
  
 При проверке манифеста изображения, мы рекомендуем развернуть манифеста и образа библиотеки DLL на свои места в реальных условиях. Проверит, что все относительные пути работают правильно и что библиотека изображений можно найти и загрузить манифест и образ библиотеки DLL.  
  
 **Поиск каталога образа KnownMonikers**  
  
 В большей степени соответствовать стилей Visual Studio, это расширение Visual Studio можно использовать образы в Visual Studio изображение каталога вместо создания и с помощью своих собственных. Это преимущество не для обслуживания этих образов и гарантирует, что изображение у образ резервного высоким Разрешением, поэтому он должен выглядеть правильно в все параметры точек на ДЮЙМ, поддерживаемых Visual Studio.  
  
 Средство просмотра библиотеки изображений позволяет манифеста для поиска, чтобы пользователь мог найти моникер, представляющий ресурс изображения и использование этого моникера в коде. Для поиска изображений, введите термин условия поиска в поле поиска и нажмите клавишу ВВОД. В нижней строке состояния отображается сколько совпадения найдены из всего образов во всех манифестах.  
  
 ![Фильтр средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-filter.png "фильтра средство просмотра библиотеки изображений")  
  
 При поиске изображения моникеры в существующих манифестов, рекомендуется найти и использовать только моникеры Visual Studio изображение каталога, другие намеренно общедоступным моникеры или собственные настраиваемые моникеры. При использовании закрытых моникеры пользовательского интерфейса могут не работать или изображения или были изменены непредвиденным образом Если при изменении или обновить эти моникеры закрытым и изображения.  
  
 Кроме того поиск по идентификатору GUID возможна. Такой тип поиска для фильтрации вниз по списку, чтобы один манифест, или один подраздел манифеста, если этот манифест содержит несколько идентификаторов GUID.  
  
 ![GUID фильтра средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-filter-guid.png "GUID фильтра средство просмотра библиотеки изображений")  
  
 Наконец поиск по Идентификатору можно также.  
  
 ![Идентификатор фильтра средство просмотра библиотеки изображений](../../extensibility/internals/media/image-library-viewer-filter-id.png "идентификатор фильтра средство просмотра библиотеки изображений")  
  
## <a name="notes"></a>Примечания  
  
- По умолчанию средство будет получать несколько манифестов изображений, которые отсутствуют в каталоге установки Visual Studio. — Единственный, который имеет доступной для использования моникеры **Microsoft.VisualStudio.ImageCatalog** манифеста. Идентификатор GUID: ae27a6b0-e345-4288-96df-5eaf394ee369 (сделать **не** переопределить этот GUID в настраиваемый манифест) типа: KnownMonikers  
  
- Средство попыток запуска, чтобы загрузить все манифесты образ, который найдет, поэтому может занять несколько секунд, приложение фактически появится. Кроме того, может медленно или не отвечает при загрузке манифестов.  
  
## <a name="sample-output"></a>Пример результатов выполнения  
 Это средство не создает никаких выходных данных.
