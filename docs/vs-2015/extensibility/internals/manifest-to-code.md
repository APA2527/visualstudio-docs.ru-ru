---
title: Manifest to Code | Документация Майкрософт
ms.date: 11/15/2016
ms.topic: conceptual
ms.assetid: 17ecacea-397d-4a97-b003-01bd5d56e936
caps.latest.revision: 5
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: cb9b02e10a2d263a39e7ae6a150e452ff8321d9f
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "85537063"
---
# <a name="manifest-to-code"></a>Manifest to Code
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Средство Manifest to Code — это консольное приложение, которое принимает файл имажеманифест для службы изображений Visual Studio и создает файл оболочки или файлы для ссылки на значения манифеста изображения в файлах C++, C#, VB или vsct для расширений Visual Studio. Это средство создает файлы оболочек, которые можно использовать для непосредственного запроса изображений из службы изображений Visual Studio или для передачи значений манифеста через API, если код не обрабатывает какой-либо собственный пользовательский интерфейс и отрисовку.  
  
## <a name="how-to-use-the-tool"></a>Использование средства  
 **Синтаксис**  
  
 Манифесттокоде/manifest: \<Image Manifest file> /Language: \<Code Language>\<Optional Args>  
  
 **Аргументы**  
  
|**Имя коммутатора**|**Примечания**|**Обязательный или необязательный**|  
|-|-|-|  
|/manifest|Путь к манифесту изображения, используемый для создания или обновления оболочки кода.|Обязательно|  
|/Language|Язык, на котором создается оболочка кода.<br /><br /> Допустимые значения: CPP, C++, CS, CSharp, C#, VB или VSCT. значения не учитывают регистр.<br /><br /> Для параметра языка VSCT параметры/Моникеркласс,/Классакцесс и/Namespace игнорируются.|Обязательно|  
|/имажеидкласс|Имя Имажеидкласс и связанный файл, созданный средством. Для параметра Language языка C++ создаются только файлы. h.<br /><br /> По умолчанию: \<Manifest Path> \мимажеидс.\<Lang Ext>|Необязательно|  
|/моникеркласс|Имя Моникеркласс и связанный файл, созданный средством. Для параметра Language языка C++ создаются только файлы. h. Этот параметр не учитывается для языка VSCT.<br /><br /> По умолчанию: \<Manifest Path> \мимоникерс.\<Lang Ext>|Необязательно|  
|/классакцесс|Модификатор доступа для Имажеидкласс и Моникеркласс. Убедитесь, что модификатор доступа допустим для данного языка. Этот параметр не учитывается для параметра языка VSCT.<br /><br /> По умолчанию: public|Необязательно|  
|/Namespace|Пространство имен, определенное в оболочке кода. Этот параметр не учитывается для параметра языка VSCT. "." или "::" являются допустимыми разделителями пространств имен, независимо от выбранного варианта языка.<br /><br /> По умолчанию: MyImages|Необязательно|  
|/nologo|Установка этого флага останавливает печать сведений о продукте и авторских правах.|Необязательно|  
|/?|Вывод справочной информации.|Необязательно|  
|/help|Вывод справочной информации.|Необязательный|  
  
 **Примеры**  
  
- Манифесттокоде/manifest: Д:\миманифест.имажеманифест/Language: CSharp  
  
- Манифесттокоде/manifest: Д:\миманифест.имажеманифест/Language: C++/namespace: My:: namespace/Имажеидкласс: Мимажеидс/Моникеркласс: MyMonikers/classAccess: Friend  
  
- Манифесттокоде/manifest: Д:\миманифест.имажеманифест/Language: VSCT/Имажеидкласс: Мимажеидс  
  
## <a name="notes"></a>Примечания  
  
- Рекомендуется использовать это средство с манифестами изображений, созданными средством Manifest from Resources.  
  
- Средство проверяет только записи символов для создания оболочек кода. Если манифест изображения не содержит символов, созданные оболочки кода будут пустыми. Если в манифесте образа имеется изображение или набор изображений, которые не используют символы, они будут исключены из оболочки кода.  
  
## <a name="sample-output"></a>Пример выходных данных  
 **Оболочки C#**  
  
 Пара классов простых ИДЕНТИФИКАТОРов образа и моникеров изображений для C# будет аналогична приведенному ниже коду.  
  
```csharp  
//-----------------------------------------------------------------------------  
// <auto-generated>  
//     This code was generated by the ManifestToCode tool.  
//     Tool Version: 14.0.15198  
// </auto-generated>  
//-----------------------------------------------------------------------------  
  
using System;  
  
namespace MyImages  
{  
    public static class MyImageIds  
    {  
        public static readonly Guid AssetsGuid = new Guid("{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}");  
  
        public const int MyImage1 = 0;  
        public const int MyImage2 = 1;  
    }  
}  
//-----------------------------------------------------------------------------  
// <auto-generated>  
//     This code was generated by the ManifestToCode tool.  
//     Tool Version: 14.0.15198  
// </auto-generated>  
//-----------------------------------------------------------------------------  
  
using Microsoft.VisualStudio.Imaging.Interop;  
  
namespace MyImages  
{  
    public static class MyMonikers  
    {  
        public static ImageMoniker MyImage1 { get { return new ImageMoniker { Guid = MyImageIds.AssetsGuid, Id = MyImageIds.MyImage1 }; } }  
        public static ImageMoniker MyImage2 { get { return new ImageMoniker { Guid = MyImageIds.AssetsGuid, Id = MyImageIds.MyImage2 }; } }  
    }  
}  
```  
  
 **Оболочки C++**  
  
 Пара классов простых ИДЕНТИФИКАТОРов образа и моникеров изображений для C++ будет аналогична приведенному ниже коду.  
  
```cpp  
//-----------------------------------------------------------------------------  
// <auto-generated>  
//     This code was generated by the ManifestToCode tool.  
//     Tool Version: 14.0.15198  
// </auto-generated>  
//-----------------------------------------------------------------------------  
  
#pragma once  
  
#include <guiddef.h>  
  
namespace MyImages {  
  
class MyImageIds {  
public:  
  
    static const GUID AssetsGuid;  
  
    static const int MyImage1 = 0;  
    static const int MyImage2 = 1;  
  
};  
  
__declspec(selectany) const GUID MyImageIds::AssetsGuid = {0x442d8739,0xefde,0x46a4,{0x8f,0x29,0xe3,0xa1,0xe5,0xe7,0xf8,0xb4}};  
  
}  
//-----------------------------------------------------------------------------  
// <auto-generated>  
//     This code was generated by the ManifestToCode tool.  
//     Tool Version: 14.0.15198  
// </auto-generated>  
//-----------------------------------------------------------------------------  
  
#pragma once  
  
#include "ImageParameters140.h"  
#include "MyImageIds.h"  
  
namespace MyImages {  
  
class MyMonikers {  
public:  
  
    static const ImageMoniker MyImage1;  
    static const ImageMoniker MyImage2;  
  
};  
  
__declspec(selectany) const ImageMoniker MyMonikers::MyImage1 = { MyImageIds::AssetsGuid, MyImageIds::MyImage1 };  
__declspec(selectany) const ImageMoniker MyMonikers::MyImage2 = { MyImageIds::AssetsGuid, MyImageIds::MyImage2 };  
  
}  
```  
  
 **Оболочки Visual Basic**  
  
 Пара классов простых ИДЕНТИФИКАТОРов образа и моникеров изображений для Visual Basic будет аналогична приведенному ниже коду.  
  
```vb  
' -----------------------------------------------------------------------------  
'  <auto-generated>  
'      This code was generated by the ManifestToCode tool.  
'      Tool Version: 14.0.15198  
'  </auto-generated>  
' -----------------------------------------------------------------------------  
  
Imports System  
  
Namespace MyImages  
  
    Public Module MyImageIds  
  
        Public Shared ReadOnly AssetsGuid As Guid = New Guid("{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}")  
  
        Public Const MyImage1 As Integer = 0  
        Public Const MyImage2 As Integer = 1  
  
    End Module  
  
End Namespace  
' -----------------------------------------------------------------------------  
'  <auto-generated>  
'      This code was generated by the ManifestToCode tool.  
'      Tool Version: 14.0.15198  
'  </auto-generated>  
' -----------------------------------------------------------------------------  
  
Imports Microsoft.VisualStudio.Imaging.Interop  
  
Namespace MyImages  
  
    Public Module MyMonikers  
  
        Public Readonly Property MyImage1  
            Get  
                Return New ImageMoniker With {.Guid = MyImageIds.AssetsGuid, .Id = MyImageIds.MyImage1}  
            End Get  
        End Property  
  
        Public Readonly Property MyImage2  
            Get  
                Return New ImageMoniker With {.Guid = MyImageIds.AssetsGuid, .Id = MyImageIds.MyImage2}  
            End Get  
        End Property  
  
    End Module  
  
End Namespace  
```  
  
 **Оболочка VSCT**  
  
 Набор идентификаторов образов для vsct-файла будет выглядеть следующим образом:  
  
```xml  
<?xml version='1.0' encoding='utf-8'?>  
<!--  
 [auto-generated]  
     This code was generated by the ManifestToCode tool.  
     Tool Version: 14.0.15198  
 [/auto-generated]  
-->  
<CommandTable xmlns="http://schemas.microsoft.com/VisualStudio/2005-10-18/CommandTable">  
  <Symbols>  
    <GuidSymbol name="AssetsGuid" value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}">  
      <IDSymbol name="MyImage1" value="0" />  
      <IDSymbol name="MyImage2" value="1" />  
    </GuidSymbol>  
  </Symbols>  
</CommandTable>  
```
