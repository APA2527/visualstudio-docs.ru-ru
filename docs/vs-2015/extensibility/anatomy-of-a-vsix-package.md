---
title: Анатомия пакета VSIX | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- visual studio extension
- vsix
- packages
ms.assetid: 8b86d62f-c274-4e91-82e0-38cdb9a423d5
caps.latest.revision: 16
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 2a769b0d04f76a2a32c00e262ff03b400af02feb
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "75852290"
---
# <a name="anatomy-of-a-vsix-package"></a>Составляющие пакета VSIX
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Пакет VSIX — это VSIX-файл, содержащий одно или несколько расширений Visual Studio вместе с метаданными, которые Visual Studio использует для классификации и установки расширений. Эти метаданные содержатся в манифесте VSIX и файле [Content_Types]. XML. Пакет VSIX может также содержать один или несколько файлов extension. всикслангпакк для предоставления локализованного текста программы установки и может содержать дополнительные пакеты VSIX для установки зависимостей.  
  
 Формат пакета VSIX соответствует стандартам Open Packaging Conventions (OPC). Этот пакет содержит двоичные файлы и вспомогательный файл вместе с файлом [Content_Types]. XML и файлом манифеста VSIX. Один пакет VSIX может содержать выходные данные нескольких проектов или даже несколько пакетов с собственными манифестами.  
  
> [!NOTE]
> Имена файлов, включенных в пакеты VSIX, не должны содержать пробелы, а также символы, зарезервированные в универсальных идентификаторах ресурсов (URI), как определено в разделе [ \[ RFC2396 \] ](https://go.microsoft.com/fwlink/?LinkId=90339).  
  
## <a name="the-vsix-manifest"></a>Манифест VSIX  
 Манифест VSIX содержит сведения о устанавливаемом расширении и соответствует схеме VSX. Дополнительные сведения см. в разделе [Справочник по схеме расширений VSIX 1,0](https://msdn.microsoft.com/76e410ec-b1fb-4652-ac98-4a4c52e09a2b). Пример манифеста VSIX см. в разделе [элемент PackageManifest (корневой элемент, Схема VSX)](https://msdn.microsoft.com/f8ae42ba-775a-4d2b-976a-f556e147f187).  
  
 Манифест VSIX должен иметь имя, `extension.vsixmanifest` если он включен в VSIX-файл.  
  
## <a name="the-content"></a>Содержимое  
 Пакет VSIX может содержать шаблоны, элементы панели элементов, пакеты VSPackage или любые другие расширения, поддерживаемые Visual Studio.  
  
## <a name="language-packs"></a>Языковые пакеты  
 Пакет VSIX может содержать один или несколько файлов extension. всикслангпакк для предоставления локализованного текста во время установки. Дополнительные сведения см. в разделе [Локализация пакетов VSIX](../extensibility/localizing-vsix-packages.md).  
  
## <a name="dependencies-and-references"></a>Зависимости и ссылки  
 Пакет VSIX может содержать другие пакеты VSIX в качестве ссылок. Каждый из этих пакетов должен содержать собственный манифест VSIX.  
  
 Если пользователь пытается установить расширение с зависимостями, установщик проверяет, установлены ли необходимые сборки в системе пользователя. Если требуемые сборки не найдены, то **расширения и обновления** отображают список отсутствующих сборок.  
  
 Если манифест расширения содержит один или несколько [ссылочных](https://msdn.microsoft.com/32c52934-e81e-4b53-8cb6-4df45ef7bfa8) элементов, **расширения и обновления** сравнивают манифест каждой ссылки с расширениями, установленными в системе, и устанавливает расширение, на которое указывает ссылка, если оно еще не установлено. Если установлена более ранняя версия расширения, на которую указывает ссылка, более новая версия заменяет ее.  
  
 Если проект в решении с несколькими проектами содержит ссылку на другой проект в том же решении, пакет VSIX включает в себя зависимости этого проекта. Это поведение можно переопределить, щелкнув ссылку на внутренний проект, а затем в окне **Свойства** задать для **выходных групп, включенных в свойство VSIX** , значение `BuiltProjectOutputGroup` .  
  
 Чтобы включить вспомогательные библиотеки DLL из сборок, на которые имеются ссылки, в пакете VSIX, добавьте `SatelliteDllsProjectOutputGroup` к **выходным группам, включенным в свойство VSIX** .  
  
## <a name="installation-location"></a>Расположение установки  
 Во время установки **расширения и обновления** просматривают содержимое пакета VSIX в папке в разделе%LocalAppData%\Microsoft\VisualStudio\14.0\Extensions.  
  
 По умолчанию установка применяется только к текущему пользователю, так как% LocalAppData% является каталогом конкретного пользователя. Однако если задать для элемента [ALLUSERS](https://msdn.microsoft.com/ac817f50-3276-4ddb-b467-8bbb1432455b) манифеста значение `True` , расширение будет установлено в.. \\ *Висуалстудиоинсталлатионфолдер*\Common7\IDE\Extensions и будет доступен всем пользователям компьютера.  
  
## <a name="content_typesxml"></a>[Content_Types]. XML  
 Файл [Content_Types]. XML определяет типы файлов в развернутом VSIX-файле. Visual Studio использует этот файл во время установки пакета, но не устанавливает сам файл. Дополнительные сведения об этом файле см. в описании [структуры файла Content_types \] . XML](../extensibility/the-structure-of-the-content-types-dot-xml-file.md).  
  
 Для стандарта Open Packaging Conventions (OPC) требуется файл [Content_Types]. XML. Дополнительные сведения о OPC см. в статье [OPC: новый стандарт для упаковки данных](https://msdn.microsoft.com/magazine/cc163372.aspx) на веб-сайте MSDN.
