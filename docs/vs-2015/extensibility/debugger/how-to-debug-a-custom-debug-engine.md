---
title: Как выполнить отладку пользовательского модуля отладки | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- debug engines, debugging
- debugging [Debugging SDK], custom debug engines
ms.assetid: df27a8d6-3938-45ff-b47f-b684e80b38a0
caps.latest.revision: 10
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: b7e710cec4536a5a1327580e56c60cb23ca36f4c
ms.sourcegitcommit: fb8babf5cd72f1fc2f97ffe4ad7b62d91f325f61
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/07/2020
ms.locfileid: "90842629"
---
# <a name="how-to-debug-a-custom-debug-engine"></a>Практическое руководство. Отладка пользовательского модуля отладки
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Тип проекта запускает модуль отладки (DE) из <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebuggableProjectCfg.DebugLaunch%2A> метода. Это означает, что DE запускается под управлением экземпляра, [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] управляющего типом проекта. Однако этот экземпляр [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] не может выполнить отладку de. Ниже приведены шаги, позволяющие выполнить отладку пользовательского DE.  
  
> [!NOTE]
> : В процедуре "Отладка настраиваемого модуля отладки" необходимо дождаться начала, прежде чем можно будет присоединиться к ней. Если поместить окно сообщения рядом с началом DE, которое появляется при запуске команды DE, можно присоединиться к этому моменту, а затем очистить окно сообщения, чтобы продолжить. Таким образом можно перехватить все события «DE».  
  
> [!WARNING]
> Необходимо установить удаленную отладку, прежде чем выполнять следующие процедуры. Дополнительные сведения см. в разделе [Удаленная отладка](../../debugger/remote-debugging.md) .  
  
### <a name="debugging-a-custom-debug-engine"></a>Отладка пользовательского модуля отладки  
  
1. Запуск msvsmon.exe, монитор удаленной отладки.  
  
2. В меню **Сервис** в msvsmon.exe выберите **Параметры** , чтобы открыть диалоговое окно **Параметры** .  
  
3. Выберите параметр без проверки подлинности и нажмите кнопку **ОК**.  
  
4. Запустите экземпляр [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] и откройте пользовательский проект de.  
  
5. Запустите второй экземпляр [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] и откройте пользовательский проект, который запускает de (для разработки, как правило, в экспериментальном кусте реестра, настроенном при установке VSIP).  
  
6. В этом втором экземпляре [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] Загрузите исходный файл из пользовательского проекта и запустите программу для отладки. Подождите несколько секунд, чтобы разрешить DE-загрузку, или Дождитесь попадания в точку останова.  
  
7. В первом экземпляре [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] (с помощью проекта de) выберите **присоединить к процессу** в меню **Отладка** .  
  
8. В диалоговом окне **Присоединение к процессу** измените **транспорт** на **Удаленный (только машинный код без проверки подлинности)**.  
  
9. Измените **квалификатор** на имя компьютера (Примечание. имеется журнал записей, поэтому необходимо ввести это имя только один раз).  
  
10. В списке **Доступные процессы** Выберите запущенный экземпляр de и нажмите кнопку **присоединить** .  
  
11. После загрузки символов в DE разместите точки останова в коде DE.  
  
12. Каждый раз, когда вы останавливаете и перезапустите процесс отладки, повторите шаги с 6 по 10.  
  
### <a name="debugging-a-custom-project-type"></a>Отладка пользовательского типа проекта  
  
1. Запустите [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] в нормальном кусте реестра и загрузите проект типа проекта (это источник для типа проекта, а не экземпляр типа проекта).  
  
2. Откройте свойства проекта и перейдите на страницу **Отладка** . Для **команды**введите путь к [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] интегрированной среде разработки (по умолчанию это *[диск]* \Program Files\Microsoft [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] 8\Common7\IDE\devenv.exe).  
  
3. В качестве **аргументов команды**введите `/rootsuffix exp` для экспериментального куста реестра (созданного при установке VSIP).  
  
4. Нажмите кнопку **ОК** , чтобы принять изменения.  
  
5. Запустите тип проекта, нажав клавишу F5. Будет запущен второй экземпляр [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] .  
  
6. На этом этапе можно размещать точки останова в исходном коде типа проекта.  
  
7. На втором экземпляре [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] Загрузите или создайте новый экземпляр типа проекта. Во время загрузки или создания могут быть пройдены точки останова.  
  
8. Отладка типа проекта.  
  
9. Если вы решили отладить процесс запуска DE, можно выполнить действия, описанные в процедуре "Отладка настраиваемого модуля отладки", чтобы присоединиться к папке DE после запуска. При этом будут выполняться три экземпляра [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] : один для источника типа проекта, второй для созданного типа проекта и третий, присоединенный к вашему de.  
  
## <a name="see-also"></a>См. также:  
 [Создание пользовательского модуля отладки](../../extensibility/debugger/creating-a-custom-debug-engine.md)
