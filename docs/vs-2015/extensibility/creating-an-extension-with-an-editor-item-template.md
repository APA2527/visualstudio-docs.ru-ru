---
title: Создание расширения с помощью шаблона элемента редактора | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- editors [Visual Studio SDK], new - extensions
ms.assetid: fa3b993b-ab95-47fa-a38b-b788f3a5b2d8
caps.latest.revision: 17
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 46ccdd87d44ee90c925992f4d7b997c9bbe09684
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "90843286"
---
# <a name="creating-an-extension-with-an-editor-item-template"></a>Создание расширения с помощью шаблона элемента редактора
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Вы можете использовать шаблоны элементов, которые включены в пакет SDK для Visual Studio, для создания базовых расширений редактора, добавляющих в редактор классификаторы, декоративные элементы и поля. Шаблоны элементов редактора доступны для проектов Visual C# или Visual Basic VSIX.  
  
## <a name="prerequisites"></a>Предварительные требования  
 Начиная с Visual Studio 2015, пакет SDK для Visual Studio не устанавливается из центра загрузки. Он входит в состав программы установки Visual Studio как дополнительный компонент. Пакет SDK для VS можно установить и позже. Дополнительные сведения см. [в разделе Установка пакета SDK для Visual Studio](../extensibility/installing-the-visual-studio-sdk.md).  
  
## <a name="creating-a-classifier-extension"></a>Создание расширения классификатора  
 Шаблон элемента классификатора редактора создает классификатор редактора, который определяет цвет для соответствующего текста (в данном случае все) в любом текстовом файле.  
  
1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `TestClassifier`. Нажмите кнопку **ОК**.  
  
2. В **Обозреватель решений**щелкните правой кнопкой мыши узел проекта и выберите **Добавить/новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите пункт **классификатор редактора**. Оставьте имя файла по умолчанию (EditorClassifier1.cs).  
  
3. Существует три файла кода, как показано ниже.  
  
    - EditorClassifier1.cs содержит `EditorClassifier1` класс.  
  
    - EditorClassifier1ClassificationDefinition.cs содержит `OEditorClassifier1ClassificationDefinition` класс.  
  
    - EditorClassifier1Format.cs содержит `EditorClassifier1Format`  класс.  
  
    - EditorClassifier1Provider.cs содержит `EditorClassifier1Provider` класс.  
  
4. Выполните сборку решения и запустите отладку. Откроется экспериментальный экземпляр Visual Studio.  
  
     При открытии текстового файла весь текст подчеркивается на самом фиолетовом фоне.  
  
## <a name="creating-a-text-relative-adornment-extension"></a>Создание расширения, соотносящегося к тексту  
 Шаблон декоративного элемента текста редактора создает соотношение текста, соотносящегося к тексту, который добавляет все экземпляры текстового символа "a" с помощью прямоугольника с красной контуром и синим фоном. Он является относительным для текста, поскольку поле всегда накладывает символы "a", даже если они перемещены или переформатированы.  
  
1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `TestAdornment`. Нажмите кнопку **ОК**.  
  
2. В **Обозреватель решений**щелкните правой кнопкой мыши узел проекта и выберите **Добавить/новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите **текстовый элемент редактора**. Оставьте имя файла по умолчанию (TextAdornment1.cs/vb).  
  
3. Существует два файла кода, как показано ниже.  
  
    - TextAdornment1.cs содержит `TextAdornment1` класс.  
  
    - extAdornment1TextViewCreationListener.cs содержит `TextAdornment1TextViewCreationListener` класс.  
  
4. Выполните сборку решения и запустите отладку. Откроется экспериментальный экземпляр. При открытии текстового файла все символы "a" в тексте выделены красным цветом на синем фоне.  
  
## <a name="creating-a-viewport-relative-adornment-extension"></a>Создание расширения элементов, относительных для окна просмотра  
 Шаблон оформления окна просмотра редактора создает элемент, относительный от окна просмотра, который добавляет Фиолетовое поле с красной структурой в правый верхний угол окна просмотра.  
  
> [!NOTE]
> *Окно просмотра* — это область отображаемого в данный момент текстового представления.  
  
#### <a name="to-create-a-viewport-adornment-extension-by-using-the-editor-viewport-adornment-template"></a>Создание расширения элемента области просмотра с помощью шаблона оформления окна просмотра редактора  
  
1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `ViewportAdornment`. Нажмите кнопку **ОК**.  
  
2. В **Обозреватель решений**щелкните правой кнопкой мыши узел проекта и выберите **Добавить/новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите **элемент окно просмотра редактора**. Оставьте имя файла по умолчанию (ViewportAdornment1.cs/vb).  
  
3. Существует два файла кода, как показано ниже.  
  
    - ViewportAdornment1.cs содержит `ViewportAdornment1` класс.  
  
    - ViewportAdornment1TextViewCreationListener.cs содержит `ViewportAdornment1TextViewCreationListener` класс  
  
4. Выполните сборку решения и запустите отладку. Откроется экспериментальный экземпляр. При создании нового текстового файла в правом верхнем углу окна просмотра отображается Фиолетовое поле с красным контуром.  
  
## <a name="creating-a-margin-extension"></a>Создание расширения поля  
 Шаблон поля редактора создает зеленое поле, которое отображается вместе со словами "Hello World!" под горизонтальной полосой прокрутки.  
  
#### <a name="to-create-a-margin-extension-by-using-the-editor-margin-template"></a>Создание расширения поля с помощью шаблона поля редактора  
  
1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `MarginExtension`. Нажмите кнопку **ОК**.  
  
2. В **Обозреватель решений**щелкните правой кнопкой мыши узел проекта и выберите **Добавить/новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите **элемент окно просмотра редактора**. Оставьте имя файла по умолчанию (EditorMargin1.cs/vb).  
  
3. Существует два файла кода, как показано ниже.  
  
    - EditorMargin1.cs содержит `EditorMargin1` класс.  
  
    - EditorMargin1Factory.cs содержит `EditorMargin1Factory` класс.  
  
4. Постройте этот проект и начните отладку. Откроется экспериментальный экземпляр. При открытии текстового файла под горизонтальной полосой прокрутки отображается зеленая поле с словами "Hello EditorMargin1".  
  
## <a name="see-also"></a>См. также:  
 [Языковая служба и точки расширения редактора](../extensibility/language-service-and-editor-extension-points.md)
