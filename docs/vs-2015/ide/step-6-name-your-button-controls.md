---
title: Шаг 6. Присвоение имен элементам управления "Кнопка" | Документы Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-general
ms.topic: conceptual
ms.assetid: 56b3baa3-651e-4ad4-8942-e334c5c57158
caps.latest.revision: 31
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: be633da5e8af6b987178d7c7360096db57fff1a0
ms.sourcegitcommit: a8e8f4bd5d508da34bbe9f2d4d9fa94da0539de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2019
ms.locfileid: "72647002"
---
# <a name="step-6-name-your-button-controls"></a>Шаг 6. Присвоение имен элементам управления "Кнопка"
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

В форме существует только один элемент управления PictureBox. Когда он был добавлен, интегрированная среда разработки автоматически присвоила ему имя **pictureBox1**. Существует только один элемент управления CheckBox с именем **checkBox1**. Скоро будет написан некоторый код. В этом коде будет обращение к элементам управления CheckBox и PictureBox. Так как существуют только по одному экземпляру каждого компонента, то становится ясно, что означает упоминание имен **pictureBox1** или **checkBox1** в коде.

> [!NOTE]
> В Visual Basic по умолчанию первая буква любого имени элемента управления является заглавной, поэтому у элементов управления имена **PictureBox1**, **CheckBox1**и так далее.

 В форме есть четыре кнопки. Интегрированная среда разработки назвала их как **button1**, **button2**, **button3**и **button4**. Только по их текущему имени нельзя узнать, какая кнопка является кнопкой **Закрыть** , а какая кнопкой **Показать рисунок** . Вот почему присвоение элементам управления в виде кнопок более осмысленных названий полезно.

 ![ссылка на видео](../data-tools/media/playvideo.gif "PlayVideo") Для получения видео-версии этой статьи см. [руководство 1. Создание средства просмотра изображений в Visual Basic-Video 3](http://go.microsoft.com/fwlink/?LinkId=205213) или [учебном курсе 1. Создание средства просмотра C# изображений в видео 3](http://go.microsoft.com/fwlink/?LinkId=205202). Эти видеоролики сняты с использованием более ранней версии Visual Studio, поэтому существуют небольшие различия в некоторых командах меню и других элементах пользовательского интерфейса. Однако концепции и процедуры аналогичны текущей версии Visual Studio.

### <a name="to-name-your-button-controls"></a>Присвоение имен элементам управления "Кнопка"

1. В форме нажмите кнопку **Закрыть** . (Если все кнопки все еще выбраны, нажмите клавишу ESC, чтобы отменить выбор.) Прокрутите окно **свойств** до тех пор, пока не появится свойство **(Name)** . (Свойство **(Name)** находится ближе к началу, если свойства имеют алфавитный режим.) Измените имя на **closeButton**, как показано на следующем рисунке.

     ![Окно свойств с именем closeButton](../ide/media/express-setnameproperty.png "Express_SetNameProperty") окно свойств с именем closeButton

    > [!NOTE]
    > If you try changing the name of your button to **closeButton**, with a space between the words close and Button, the IDE displays an error message: "Property value is not valid." Пробелы (а также несколько других символов) запрещено использовать в именах элементов управления.

2. Переименуйте другие три кнопки как **backgroundButton**, **clearButton**, **showButton**. Имена можно проверить в раскрывающемся списке селектора элементов управления в окне **Свойства** . Отобразятся новые имена кнопок.

3. Двойным щелчком нажмите кнопку **Показать рисунок** в форме. В качестве альтернативы можно нажать кнопку **Показать рисунок** в форме, а затем нажать клавишу ВВОД. При этом интегрированная среда разработки открывает в главном окне дополнительную вкладку, которая называется **Form1.cs** (**Form1.vb** , если используется Visual Basic). На этой вкладке отображается файл кода для формы, как показано на следующем рисунке.

     ![Вкладка Form1.cs с кодом Visual&#35; C](../ide/media/express-showbuttoncode.png "Express_ShowButtonCode") Form1.CS Tab с визуальным кодом C#

4. Обратите внимание на эту часть кода. (Откройте вкладку **VB** ниже, если используется Visual Basic для просмотра Visual Basic-версии кода.)

     [!code-csharp[VbExpressTutorial1Step6#1](../snippets/csharp/VS_Snippets_VBCSharp/vbexpresstutorial1step6/cs/form1.cs#1)]
     [!code-vb[VbExpressTutorial1Step6#1](../snippets/visualbasic/VS_Snippets_VBCSharp/vbexpresstutorial1step6/vb/form1.vb#1)]

     Вы видите код с именем `showButton_Click()`. Интегрированная среда разработки добавила его в код формы при открытии файла кода для кнопки **showButton** . Во время разработки при открытии файла кода для элемента управления в форме для элемента управления создается код, если он еще не существует. Этот код, известный как *метод*, выполняется при запуске программы и использовании этого элемента управления (в данном случае — кнопка **Показать рисунок** ).

    > [!NOTE]
    > В этом руководстве код Visual Basic, который создается автоматически, был упрощен путем удаления всего, что находилось в круглых скобках (). Когда это происходит, одинаковый код можно удалить. Программа будет работать в любом случае. В оставшейся части руководства весь автоматически созданный код был упрощен везде, где это было возможным.

5. Снова выберите вкладку конструктора Windows Forms (**Form1.cs [Design]** в Visual C#, **Form1.vb [Design]** в Visual Basic), а затем откройте файл кода для кнопки **Очистить рисунок** , чтобы создать метод для нее в коде формы. Повторите это действие для двух оставшихся кнопок. Каждый раз при этом действии среда интегрированной разработки добавляет в файл кода формы новый метод.

6. Чтобы добавить еще один метод, откройте файл кода для элемента управления CheckBox в конструкторе Windows Forms, чтобы интегрированная среда разработки создала метод `checkBox1_CheckedChanged()` . Этот метод вызывается каждый раз, когда пользователь устанавливает или снимает флажок.

    > [!NOTE]
    > При работе с программой необходимо часто переключаться между редактором кода и конструктором Windows Forms. Среда интегрированной разработки упрощает передвижение по проекту. Используйте **Обозреватель решений** , чтобы открыть конструктор Windows Forms с помощью двойного щелчка по **Form1.cs** в Visual C# или **Form1.vb** в Visual Basic; или выберите **Вид**, **Конструктор**в строке меню.

     Ниже показан новый код, который представлен в редакторе кода.

     [!code-csharp[VbExpressTutorial1Step6#2](../snippets/csharp/VS_Snippets_VBCSharp/vbexpresstutorial1step6/cs/form1.cs#2)]
     [!code-vb[VbExpressTutorial1Step6#2](../snippets/visualbasic/VS_Snippets_VBCSharp/vbexpresstutorial1step6/vb/form1.vb#2)]

     Пять методов, которые были добавлены, называются *обработчики событий*, так как программа вызывает их каждый раз, когда происходит событие (например, пользователь нажимает кнопку или устанавливает флажок).

     При просмотре кода для элемента управления в интегрированной среде разработки во время разработки Visual Studio добавляет метод обработчика событий для элемента управления, если он не существует. Например, при двойном щелчке по кнопке интегрированная среда разработки добавляет обработчик события Click, который вызывается каждый раз, когда пользователь нажимает кнопку. Если дважды щелкнуть флажок, интегрированная среда разработки добавляет обработчик события CheckedChanged, который вызывается каждый раз, когда пользователь устанавливает или снимает флажок.

     После добавления обработчика событий для элемента управления к нему можно вернуться в любой момент из конструктора Windows Forms с помощью двойного щелчка по элементу управления или путем выбора пунктов **Вид**, **Код**в строке меню.

     Имена являются важными при выполнении построения программы, и методы (включая обработчики событий) могут иметь любые имена, которые нужны. При добавлении обработчика событий с помощью интегрированной среды разработки она создает имя на основе имени элемента управления и обрабатываемого события. Например, событие Click для кнопки с именем **showButton** вызывает метод обработчика событий `showButton_Click()` . Также обычно после имени метода добавляются открывающая и закрывающая круглые скобки () для индикации того, какие методы рассматриваются. Если вы примете решение изменить имя переменной кода, щелкните правой кнопкой мыши по переменной в коде, а затем выберите команду **Рефакторинг**, **Переименовать**. Все экземпляры этой переменной в коде будут переименованы. Дополнительные сведения см. в разделе [переименование рефакторинга (C#)](../csharp-ide/rename-refactoring-csharp.md) или [Рефакторинг и переименование диалогового окна](https://msdn.microsoft.com/library/001d2d81-9bb6-4e8e-ae3a-20c0daaa3959) .

### <a name="to-continue-or-review"></a>Продолжить или повторить пройденный материал

- Следующий шаг руководства см. в разделе [Step 7: Add Dialog Components to Your Form](../ide/step-7-add-dialog-components-to-your-form.md) (Шаг 7. Добавление компонентов диалогового окна в форму).

- Предыдущий шаг руководства см. в разделе [Step 5: Add Controls to Your Form](../ide/step-5-add-controls-to-your-form.md) (Шаг 5. Добавление элементов управления в форму).
