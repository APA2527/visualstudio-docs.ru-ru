---
title: Расширение IntelliSense для JavaScript | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-general
ms.topic: conceptual
helpviewer_keywords:
- JavaScript, intellisense object
- extending JavaScript IntelliSense
- customizing JavaScript IntelliSense
- JavaScript, extending IntelliSense
- IntelliSense [JavaScript], extending
ms.assetid: 004e1ab6-bd7a-4327-9e01-89b9be96ba2f
caps.latest.revision: 43
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: e995d9cfd37c625c03df0b607a9dd5184bec5d08
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63441464"
---
# <a name="extending-javascript-intellisense"></a>Расширение IntelliSense для JavaScript
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Функция расширения JavaScript IntelliSense позволяет настраивать результатов IntelliSense в редакторе JavaScript для сторонних библиотек. Это может улучшить работу с разработчикам, использующим эти библиотеки.  
  
 Языковая служба JavaScript предоставляет возможности IntelliSense для сторонних библиотек JavaScript, которые добавляются в проект. Большинство библиотек завершение операторов предоставляется автоматически службой языка. Ниже показан пример завершения операторов:  
  
 ![Пример завершения операторов](../ide/media/js-intellisense-completion.png "js_intellisense_completion")  
  
 Если библиотека содержит описания переменных, функций и объектов в стандартных тегов комментария JavaScript (/ /), вы автоматически получают возможность, по умолчанию, на основе расширяемости функции IntelliSense, обеспечивающие описательные сведения во всплывающем окне, отображается справа от элементов в список завершения, или при вводе открывающей скобкой в вызове функции. Комментарии во всплывающем окне содержат описание элемента. Пример всплывающего окна список завершения.  
  
 ![Пример pop краткие сведения&#45;окно](../ide/media/js-intellisense-quickinfo.png "js_intellisense_quickinfo")  
  
 Чтобы улучшить процесс разработки, вы можете предоставлять сведения о типе для разработчиков во всплывающем окне. Сведения о типе можно предоставить с помощью JavaScript [комментарии XML-документации](../ide/xml-documentation-comments-javascript.md) вместо стандартных комментариев. Добавьте XML-комментарии, используя теги для комментариев с тройной косой чертой (/ / /) и определенным набором XML-элементов.  
  
 Кроме того можно предоставить сведения о типе с помощью расширения IntelliSense для JavaScript. Эта функция позволяет настраивать результатов IntelliSense, Создание расширений JavaScript и добавляя их в контекст скрипта. В модуле, который представляет собой файл JavaScript, вы подписываетесь на события, предоставляемые `intellisense` объект языковой службы. Расширяемость IntelliSense для JavaScript не предпочтительное решение для библиотек, если шаблон поведения, в библиотеке запрещает предоставление нужного уровня поддержки IntelliSense языковая служба JavaScript и в том случае, если вместо декларативного XML Комментарии к документации также необходима. Настраивая результатов IntelliSense, можно создать эффективные возможности IntelliSense, независимо от того, любой шаблонами поведения, которые могут ограничивать возможности по умолчанию языковой службы. См. подробнее о [завершении операторов для идентификаторов](../ide/statement-completion-for-identifiers.md).  
  
## <a name="adding-an-extension-to-the-script-context"></a>Добавление расширения к контексту скрипта  
 Для расширения IntelliSense для выполнения он должен быть добавлен к текущему контексту скрипта. Расширение автоматически добавляются в контекст скрипта с помощью механизма автоматического обнаружения, или можно добавить расширение к контексту скрипта вручную с помощью ссылок на группы или директиву ссылки.  
  
 Механизм автоматического обнаружения позволяет службе языка автоматически найти готовые расширения, соглашению об именовании файлов *Имя_библиотеки*. intellisense.js и, расположены в каталоге библиотеки которой применяется расширение. Например допустимое расширение для библиотеки jQuery будет jQuery.intellisense.js. Для более строгие расширения jQuery можно использовать имена файлов, например jQuery-1.7.1.intellisense.js (расширение конкретной версии) или jQuery.ui.intellisense.js (расширение для библиотеки jQuery с заданной областью). Наиболее строгие версия расширения используется в том случае, если для определенной библиотеке найдено более одного расширения.  
  
 Если вы хотите использовать расширение для всех файлов JavaScript проекта, можно вместо этого добавить расширение группы ссылок. Существует несколько видов группы ссылок, либо тех, которые содержат неявные ссылки, содержащие ссылки на выделенной рабочей роли. Чтобы добавить расширение, обычно требуется добавить в файл как группу неявные ссылки, либо **неявные (Windows)**, **неявные (Интернет)**. Неявные ссылки находятся в области для каждого JS-файла, открытого в редакторе кода. При использовании этого метода, необходимо добавить расширение и файл, дополняющий расширения.  
  
 Используйте **IntelliSense** странице **параметры** диалоговое окно, чтобы добавить расширение как группу ссылок. Вы можете получить доступ к **IntelliSense** страницу, выбрав **средства**, **параметры** на панели меню, а затем выбирая **текстовый редактор**, **JavaScript**, **IntelliSense**, **ссылки**. Дополнительные сведения о ссылочных групп, см. в разделе [IntelliSense для JavaScript](../ide/javascript-intellisense.md) и [параметры, текстовый редактор, JavaScript, IntelliSense](../ide/reference/options-text-editor-javascript-intellisense.md).  
  
 Если вы хотите использовать расширение для определенного набора файлов, используйте директиву ссылки. При использовании этого метода необходимо сослаться на расширение и дополнение расширение файла. Сведения об использовании reference-директива, см. в разделе [IntelliSense для JavaScript](../ide/javascript-intellisense.md).  
  
## <a name="handling-intellisense-events"></a>Обработка событий IntelliSense  
 Возможность расширения позволяет настраивать результатов IntelliSense путем подписки на события, такие как `statementcompletion` событий языковой службы `intellisense` объекта. В следующем примере показано простое расширение, которое используется службой языка, чтобы скрыть элементы, которые начинаются с символа подчеркивания из завершения операторов. Этот код находится в underscorefilter.js и находится в \\ \\ *путь установки Visual Studio*\JavaScript\References папки.  
  
```javascript  
intellisense.addEventListener('statementcompletion', function (event) {  
    if (event.targetName === "this") return;  
  
    var filterRegex;  
  
    if (event.target === undefined || event.target === window)  
        filterRegex = /^_.*\d{2,}/;  
    else  
        filterRegex = /^_.*/;  
  
    event.items = event.items.filter(function (item) {  
        return !filterRegex.test(item.name);  
    });  
});  
```  
  
 В приведенном выше коде расширение проверяет [targetName свойство](#TargetName) и [целевое свойство](#Target) свойства `statementcompletion` объект события, чтобы исключить объекты, такие как `this` и `window`и убедиться, что можно определить список завершения допустимую инструкцию. Если удается идентифицировать список завершения, расширение обновляет завершение операторов [элементы свойства](#Items) коллекции путем фильтрации те члены, которые начинаются с символа подчеркивания.  
  
 Дополнительные примеры см. \\ \\ *путь установки Visual Studio*\JavaScript\References папки. В этой папке файл showPlainComments.js содержит примеры использования других событий для обеспечения поддержки IntelliSense по умолчанию для стандартных тегов комментария JavaScript (/ /). Как и underscorefilter.js showPlainComments.js уже доступен как расширение рабочего, и можно увидеть результирующее сведения IntelliSense при использовании теги для комментариев в коде для переменных, функций и объектов. Дополнительные примеры см. в разделе [примеры кода](#CodeExamples).  
  
> [!WARNING]
> Если вы измените расширение файлов, включенных в Visual Studio, можно отключить IntelliSense для JavaScript или компонента, поддерживаемого расширением.  
  
 В коде расширения, можно создать обработчики для следующих типов событий с помощью `addEventListener`:  
  
- `statementcompletion`, который добавляет обработчик для события завершения инструкции. Завершение операторов предоставляет список элементов для определенного типа, которое появляется после ввода специальный символ, такие как точка (.), или список идентификаторов, отображаемый при вводе или при нажатии клавиши CTRL + J. Обработчик получает объект события типа `CompletionEvent`, который поддерживает следующие члены: [элементы свойства](#Items), [целевое свойство](#Target), [targetName свойство](#TargetName), и [свойства области](#Scope).  
  
- `signaturehelp`, который добавляет обработчик для сведения о параметрах IntelliSense. Сведения о параметрах дает информацию о количестве, именах и типы параметров, необходимых для функции. Обработчик получает объект события типа `SignatureHelpEvent`, который поддерживает следующие члены: [целевое свойство](#Target), [parentObject свойство](#ParentObject), [functionComments свойство](#FunctionComments), [functionHelp свойство](#FunctionHelp).  
  
- `statementcompletionhint`, который добавляет обработчик для кратких сведений IntelliSense. Всплывающее окно краткие сведения показано полное объявление идентификаторы в коде. Обработчик получает объект события типа `CompletionHintEvent`, который поддерживает следующие члены: [completionItem свойство](#CompletionItem), и [symbolHelp свойство](#SymbolHelp).  
  
  Примеры, демонстрирующие возможности IntelliSense, такие как завершение операторов, сведения о параметрах и краткие сведения, см. в разделе [использование технологии IntelliSense](../ide/using-intellisense.md).  
  
> [!NOTE]
> В JavaScript кратких сведений относится всплывающее окно, которое появляется справа от списка завершения. Не удается вызвать краткие сведения вручную.  
  
## <a name="intellisenseObject"></a> Объект IntelliSense  
 В следующей таблице показаны функции, которые доступны для `intellisense` объекта. `intellisense` Объект доступен только во время разработки.  
  
|Функция|Описание|  
|--------------|-----------------|  
|`addEventListener(type, handler);`|Добавляет обработчик событий для события IntelliSense.<br /><br /> `type` — Это строковое значение. Допустимые значения: `statementcompletion`, `signaturehelp` и `statementcompletionhint`.<br /><br /> `handler` Представляет функцию обработчика событий, получающий объект события одного из следующих типов:<br /><br /> -   `CompletionEvent`, используемый для `statementcompletion` событий.<br />-   `SignatureHelpEvent`, используемый для `signaturehelp` событий.<br />-   `CompletionHintEvent`, используемый для `statementcompletionhint` событий.<br /><br /> Примеры, использующие эту функцию, см. в разделе [примеры кода](#CodeExamples).|  
|`annotate(obj, doc);`|Указывает документацию для объекта путем копирования комментарии от одного объекта к другому объекту.<br /><br /> `obj` Указывает объект, для которого необходимо скопировать в документации.<br /><br /> `doc` Указывает объект, из которого необходимо скопировать в документации.<br /><br /> Пример, в котором показано, как использовать эту функцию, см. в разделе [Добавление заметок IntelliSense](#Annotations).|  
|`getFunctionComments(func);`|Возвращает комментарии для указанной функции.<br /><br /> `func` Указывает функцию, для которого возвращаются комментарии.<br /><br /> Можно задать `func` параметра с помощью `completionItem.value`.<br /><br /> Возвращенный `functionComments` объект содержит следующие элементы: `above`, `inside`, и `paramComment`. Дополнительные сведения см. в разделе [functionComments свойство](#FunctionComments) свойство.<br /><br /> `getFunctionComments` можно вызвать только из одного из обработчиков событий, зарегистрированных `addEventListener`.<br /><br /> Пример, в котором показано, как использовать эту функцию, см. в разделе \\ \\ *путь установки Visual Studio*\JavaScript\References\showPlainComments.js.|  
|`logMessage(msg);`|Отправляет диагностические сообщения в окне вывода.<br /><br /> `msg` — Это строка, содержащая сообщение.<br /><br /> Пример, в котором показано, как использовать эту функцию, см. в разделе [отправка сообщений в окно вывода](#Logging).|  
|`nullWithCompletionsOf(value);`|Возвращает специальное значение null, для которого в списке завершения определяется объект, переданный в `value` параметра.<br /><br /> `value` Определяет список завершения для возвращенного значения. `value` могут быть любого типа.<br /><br /> Возвращаемое значение null рассматривается как null во время разработки, но в списке завершения для возвращаемого значения совпадает со значением в списке завершения для `value` параметра.<br /><br /> Для этой функции применяется для обеспечивает поддержку технологии IntelliSense для возвращаемого значения, если тип возвращаемого значения является прогнозируемым во время выполнения, но возвращаемое значение `null` во время разработки.|  
|`redirectDefinition(func, definition);`|Указывает, что IntelliSense использовать предоставленные определения функции вместо исходной функции func, если Справка по параметрам или **перейти к определению** запрашивается.<br /><br /> `func` Указывает целевой функции.<br /><br /> `definition` Указывает функцию, которую использоваться вместо целевой функции сведения о параметре и **перейти к определению**.|  
|`setCallContext(func, thisArg);`|Задает контекст вызова или области, для указанной функции.<br /><br /> `func` Указывает функцию, для которого необходимо задать область обнаружения.<br /><br /> `thisArg` является литералом, к которому объект `this` может ссылаться ключевое слово, определяющий новые области для элемента. Например, можно включить аргументы, передаваемые в этот параметр `intellisense.setCallContext(func, { thisArg: "", args: [23,2] });`<br /><br /> `setCallContext` предоставляет поведение, аналогичное `Function.prototype.bind`, за исключением того, что он используется только для поддержки IntelliSense во время разработки. Можно использовать `setCallContext` Чтобы задать область действия функции, если вам нужно моделирования вызовов для кода, в противном случае недоступен, так что при вызове функции, вызова функции будет содержать правильную область и аргументы.|  
|`undefinedWithCompletionsOf(value);`|Возвращает специальные неопределенное значение, для которого в списке завершения определяется объект, переданный в `value` параметра.<br /><br /> `value` Определяет список завершения для возвращенного значения. `value` могут быть любого типа.<br /><br /> Возвращают неопределенное значение интерпретируется как неопределенный во время разработки, но завершение списка для возвращаемого значения совпадает со значением список завершения для `value` параметра.<br /><br /> Для этой функции применяется для предоставления функции IntelliSense для возвращаемого значения, если тип возвращаемого значения является прогнозируемым во время выполнения, но возвращаемое значение не определено во время разработки.|  
|`version()`|Возвращает версию Visual Studio.|  
  
## <a name="event-members"></a>Членов-событий  
 В следующих разделах описаны элементы, предоставляемые в объекте события для следующих событий: `statementcompletion`, `signaturehelp`, и `statementcompletionhint`.  
  
### <a name="CompletionItem"></a> completionItem свойство  
 Возвращает идентификатор, известный как элемент завершения, для которого запрашивается всплывающее окно краткие сведения. Это свойство доступно для `statementcompletionhint` объект события и для [элементы свойства](#Items) свойство `statementcompletion` объект события.  
  
 Возвращаемое значение: `completionItem` объекта  
  
 Ниже приведены элементы `completionItem` объекта:  
  
- `name`. Чтение и запись в применении `items` коллекции; в противном случае — значение только для чтения. Возвращает строку, которая идентифицирует элемент завершения.  
  
- `kind`. Чтение и запись в применении `items` коллекции; в противном случае — значение только для чтения. Возвращает строку, представляющую тип элемента завершения. Возможные значения: метод, поле, свойство, параметр, переменная и защищены.  
  
- `glyph`. Чтение и запись в применении `items` коллекции; в противном случае — значение только для чтения. Возвращает строку, представляющую значок, который отображается в списке завершения. Возможные значения `glyph` используйте следующий формат: vs:*glyphType*, где *glyphType* соответствует независимый от языка элементы <xref:Microsoft.VisualStudio.Language.Intellisense.StandardGlyphGroup> перечисления. Например `vs:GlyphGroupMethod` является одним возможным значением для `glyph`. Когда `glyph` не задано, `kind` свойство определяет значок по умолчанию.  
  
- `parentObject`. Только для чтения. Возвращает родительский объект.  
  
- `value`. Только для чтения. Возвращает объект, представляющий значение элемента завершения.  
  
- `comments`. Только для чтения. Возвращает строку, содержащую комментарии, расположенные выше поля или переменной.  
  
- `scope`. Только для чтения. Возвращает область элемента завершения. Возможные значения: глобальная, локальная, членов и параметров.  
  
### <a name="Items"></a> Свойства элементов  
 Возвращает или задает массив инструкции элементов завершения. Каждый элемент в массиве является [completionItem свойство](#CompletionItem) объекта. `items` Свойство доступно для `statementcompletion` объект события.  
  
 Возвращаемое значение: массив  
  
### <a name="FunctionComments"></a> functionComments свойство  
 Возвращает комментарии для функции. Это свойство доступно для `signaturehelp` объект события.  
  
 Возвращаемое значение: `comments` объекта  
  
 Ниже приведены элементы `comments` объекта:  
  
- `above`. Возвращает комментарии над функцией.  
  
- `inside`. Возвращает комментарии внутри функции, обычно в формате VSDoc.  
  
- `paramComments`. Возвращает массив, представляющий комментарии для каждого параметра в функции. Члены массива содержат:  
  
    - `name`. Возвращает строку, представляющую имя параметра.  
  
    - `comment`. Возвращает строку, содержащую параметр.  
  
### <a name="FunctionHelp"></a> functionHelp свойство  
 Возвращает справку для функции. Это свойство доступно для `signaturehelp` объект события.  
  
 Возвращаемое значение: `functionHelp` объекта  
  
 Ниже приведены элементы `functionHelp` объекта:  
  
- `functionName`. Чтение и запись. Возвращает строку, содержащую имя функции.  
  
- `signatures`. Чтение и запись. Возвращает или задает массив сигнатур функций. Каждый элемент в массиве является `signature` объекта. Некоторые `signature` свойства, такие как `locid`, соответствуют для общих [комментарии XML-документации](../ide/xml-documentation-comments-javascript.md) атрибуты.  
  
     Члены `signature` объект включать:  
  
    - `description`. Чтение и запись. Возвращает строку, описывающую функции.  
  
    - `locid`. Чтение и запись. Возвращает строковый идентификатор, который содержит сведения о локализации, о функции.  
  
    - `helpKeyword`. Чтение и запись. Возвращает строку, содержащую ключевое слово справки.  
  
    - `externalFile`. Чтение и запись. Возвращает строку, которая представляет файл, который содержит идентификатор элемента.  
  
    - `externalid`. Чтение и запись. Возвращает строку, представляющую идентификатор члена функции.  
  
    - `params`. Чтение и запись. Возвращает или задает массив параметров для функции. Каждый элемент в массиве параметров является `parameter` объект, имеющий свойства, которые соответствуют следующие атрибуты [ \<param >](../ide/param-javascript.md) элемент:  
  
        - `name`. Чтение и запись. Возвращает строку, представляющую имя параметра.  
  
        - `type`. Чтение и запись. Возвращает строку, представляющую тип параметра.  
  
        - `elementType`. Чтение и запись. Если тип является `Array`, возвращает строку, представляющую тип элементов в массиве.  
  
        - `description`. Чтение и запись. Возвращает строку, описывающую параметр.  
  
        - `locid`. Чтение и запись. Возвращает строковый идентификатор, который содержит сведения о локализации, о функции.  
  
        - `optional`. Чтение и запись. Возвращает строку, которая указывает, является ли параметр необязательным. `true` Указывает, что параметр является необязательным; `false` указывает, что это не так.  
  
    - `returnValue`. Чтение и запись. Получает или задает объект возвращаемое значение со свойствами, соответствующими следующие атрибуты [ \<возвращает >](../ide/returns-javascript.md) элемент:  
  
        - `type`. Чтение и запись. Возвращает строку, представляющую тип возвращаемого значения.  
  
        - `elementType`. Чтение и запись. Если тип является `Array`, возвращает строку, представляющую тип элементов в массиве.  
  
        - `description`. Чтение и запись. Возвращает строку, описывающую возвращаемое значение.  
  
        - `locid`. Чтение и запись. Возвращает строковый идентификатор, который содержит сведения о локализации, о функции.  
  
        - `helpKeyword`. Чтение и запись. Возвращает строку, содержащую ключевое слово справки.  
  
        - `externalFile`. Чтение и запись. Возвращает строку, которая представляет файл, который содержит идентификатор элемента.  
  
        - `externalid`. Чтение и запись. Возвращает строку, представляющую идентификатор члена функции.  
  
### <a name="ParentObject"></a> parentObject свойство  
 Возвращает родительский объект функции-члена. Например, для `document.getElementByID`, `parentObject` возвращает `document` объекта. Это свойство доступно для `signaturehelp` объект события.  
  
 Возвращаемое значение: объект  
  
### <a name="Target"></a> Целевое свойство  
 Возвращает объект, представляющий элемент слева от символа триггера, который является точка (.). Для функций `target` возвращает функцию, для которой запрашиваются сведения о параметрах. Это свойство доступно для `statementcompletion` и `signaturehelp` объекты событий.  
  
 Возвращаемое значение: объект  
  
### <a name="TargetName"></a> targetName свойство  
 Возвращает строку, представляющую целевой объект. Например, «this.» `targetName` возвращает «this». Для «A.B» (когда курсор находится после «B») `targetName` возвращает «B». Это свойство доступно для `statementcompletion` объект события.  
  
 Возвращаемое значение: строка  
  
### <a name="SymbolHelp"></a> symbolHelp свойство  
 Возвращает элемент завершения, для которого запрашивается всплывающее окно краткие сведения. Это свойство доступно для `statementcompletionhint` объект события.  
  
 Возвращаемое значение: `symbolHelp` объекта.  
  
 Некоторые свойства `symbolHelp` объект, например `locid`, соответствуют для общих [комментарии XML-документации](../ide/xml-documentation-comments-javascript.md) атрибуты.  
  
 Ниже приведены элементы `symbolHelp` объекта:  
  
- `name`. Чтение и запись. Возвращает строку, содержащую имя идентификатора.  
  
- `symbolType`. Чтение и запись. Возвращает строку, представляющую тип символа. Возможные значения включают Unknown, логическое значение, число, строка, объект, функция, массива, даты и регулярное выражение.  
  
- `symbolDisplayType`. Чтение и запись. Возвращает строку, которая содержит имя типа для отображения. Если `symbolDisplayType` значение не задано, `symbolType` используется.  
  
- `elementType`. Чтение и запись. Если `symbolType` является `Array`, возвращает строку, представляющую тип элементов в массиве.  
  
- `scope`. Чтение и запись. Возвращает строку, представляющую область символа. Возможные значения включают глобальные, локальная, членов и параметров.  
  
- `description`. Чтение и запись. Возвращает строку, которая содержит описание символа.  
  
- `locid`. Чтение и запись. Возвращает идентификатор строки, который содержит сведения о локализации о символе.  
  
- `helpKeyword`. Чтение и запись. Возвращает строку, содержащую ключевое слово справки.  
  
- `externalFile`. Чтение и запись. Возвращает строку, которая представляет файл, который содержит идентификатор элемента.  
  
- `externalid`. Чтение и запись. Возвращает строку, представляющую идентификатор элемента символа.  
  
- `functionHelp`. Чтение и запись. Возвращает [functionHelp свойство](#FunctionHelp), который может содержать сведения при `symbolType` является функцией.  
  
### <a name="Scope"></a> Свойства области  
 Возвращает область завершения события. Возможные значения для завершения области являются глобальные и члены. Это свойство доступно для `statementcompletion` объект события.  
  
 Возвращаемое значение: строка  
  
## <a name="debugging-intellisense-extensions"></a>Отладка расширений IntelliSense  
 Не удается выполнить отладку расширения, но можно использовать [intellisense объект](#intellisenseObject) функция отправлять сведения в окне вывода Visual Studio. Пример, в котором показано, как использовать эту функцию, см. в разделе [отправка сообщений в окно вывода](#Logging) далее в этом разделе. Для `logMessage` для работы, по крайней мере один обработчик событий должен быть зарегистрирован в расширение.  
  
## <a name="CodeExamples"></a> Примеры кода  
 Этот раздел содержит примеры кода, демонстрирующие способы использования интерфейсов API расширяемости IntelliSense. Также существуют другие способы использования этих интерфейсов API. Дополнительные примеры см. следующие файлы в \\ \\ *путь установки Visual Studio*\JavaScript\References папки. Они работают над примеры, которые используются службой языка JavaScript.  
  
- underscoreFilter.js. Этот код скрывает закрытые члены из IntelliSense. Он содержит обработчики событий для `statementcompletion` событий.  
  
- showPlainComments.js. Этот код обеспечивает поддержку технологии IntelliSense для стандартных комментариев. Он содержит обработчики событий для `signaturehelp` и `statementcompletionhint` события.  
  
### <a name="Annotations"></a> Добавление заметок IntelliSense  
 Ниже показано, как для обеспечения поддержки IntelliSense документации для библиотеки сторонних без изменения непосредственно в библиотеке. Чтобы сделать это, можно использовать `intellisense.annotate` в расширении.  
  
 Для работы этого примера в проекте необходимы следующие файлы JavaScript.  
  
- demoLib.js — это файл проекта, представляющий библиотеку независимых производителей.  
  
- demoLib.intellisense.js, который имеет расширение IntelliSense. Этот файл не требуется включать в проект, но он должен находиться в той же папке, что и файл exampleLib.js.  
  
- appCode.js — файл проекта, представляющий код приложения.  
  
##### <a name="to-add-an-intellisense-annotation"></a>Чтобы добавить заметку IntelliSense  
  
1. Добавьте следующий код к demoLib.js.  
  
    ```javascript  
    function someFunc(a) { };  
    var rectangle;  
  
    ```  
  
2. Добавьте следующий код к demoLib.intellisense.js.  
  
    ```javascript  
    intellisense.annotate(someFunc, function (a) {  
        /// <signature>  
        /// <summary>Description of someFunc</summary>  
        /// <param name="a">Param a</param>  
        /// </signature>  
    });  
  
    intellisense.annotate(window, {  
        // This is a comment on a global variable named rectangle.  
        rectangle: undefined  
    });  
    ```  
  
3. Добавьте следующую директиву ссылки в качестве первой строки в файле appCode.js. Использованный здесь путь указывает, что файлы JavaScript находятся в той же папке.  
  
    ```javascript  
    /// <reference path="demoLib.js" />  
  
    ```  
  
4. В appCode.js введите следующий код. Вы увидите комментарии XML-документации в расширении, отображается как сведения о параметрах IntelliSense.  
  
     ![Пример, демонстрирующий использование IntelliSense.Annotate](../ide/media/js-intellisense-annotate-paraminfo.png "js_intellisense_annotate_paraminfo")  
  
5. В appCode.js введите следующий код. При вводе, вы увидите стандартный комментарии в расширении, отображается как краткие сведения IntelliSense.  
  
     ![Пример, демонстрирующий использование IntelliSense.Annotate](../ide/media/js-intellisense-annotations.png "js_intellisense_annotations")  
  
### <a name="Logging"></a> Отправка сообщений в окно вывода  
 Ниже описано, как отправлять сообщения в окне вывода. Можно отправлять сообщения для отладки расширения IntelliSense.  
  
 Для работы этого примера в проекте необходимы следующие файлы JavaScript.  
  
- и файл exampleLib.js, который представляет собой файл проекта, представляющий библиотеку сторонних.  
  
- exampleLib.intellisense.js, который имеет расширение IntelliSense. Этот файл не требуется включать в проект, но он должен находиться в той же папке, что и файл exampleLib.js.  
  
- appCode.js — файл проекта, представляющий код приложения.  
  
##### <a name="to-send-a-message-to-the-output-window"></a>Чтобы отправить сообщение в окно вывода  
  
1. Добавьте следующий код и файл exampleLib.js.  
  
    ```javascript  
    var someVar = {  
        a: 1,  
        b: 'hello'  
    };  
    ```  
  
2. Добавьте следующий код к exampleLib.intellisense.js.  
  
    ```javascript  
    intellisense.addEventListener('statementcompletion', function (e) {  
        // Prints out statement completion info: Either (1) the member   
        // list, if the trigger character was typed, or (2) the   
        // statement completion identifiers.  
        // e.target represents the object left of the trigger character.  
        intellisense.logMessage(  
            e.target ? 'member list requested, target: ' + e.targetName : 'statement completion for current scope requested');  
  
        // Prints out all statement completion items.  
        e.items.forEach(function (item) {  
            intellisense.logMessage('[completion item] ' + item.name + ', kind:' + item.kind + ', scope:' + item.scope + ', value:' + item.value);  
        });  
    });  
    ```  
  
3. Добавьте следующую директиву ссылки в качестве первой строки в файле appCode.js. Использованный здесь путь указывает, что файлы JavaScript находятся в той же папке.  
  
    ```javascript  
    /// <reference path="exampleLib.js" />  
  
    ```  
  
4. В окне вывода выберите **языковая служба JavaScript** в **Показать выходные данные из** списка. (Чтобы просмотреть в окне вывода, выберите **вывода** из меню "Вид".)  
  
5. В appCode.js введите следующий код. При вводе в окне вывода отображаются сообщения из языковой службы. Первое сообщение в окне вывода Указывает, что был запрошен завершение операторов для текущей области.  
  
    ```javascript  
    some  
    ```  
  
     Ниже приведен частичного представления, вы должны увидеть выходные данные.  
  
    ```scr  
    03:16:14.3113: statement completion for current scope requested  
    03:16:14.3113: [completion item] break, kind:reserved, scope:undefined, value:undefined  
    03:16:14.3113: [completion item] case, kind:reserved, scope:undefined, value:undefined  
    03:16:14.3113: [completion item] catch, kind:reserved, scope:undefined, value:undefined  
  
    …  
    ```  
  
6. Выберите **очистить все** кнопки в окне вывода.  
  
7. Введите следующий код. Первое сообщение в окне вывода Указывает, что был запрошен список членов.  
  
    ```javascript  
    someVar.  
    ```  
  
     Ниже приведен частичного представления, вы должны увидеть выходные данные.  
  
    ```scr  
    03:17:43.4032: member list requested, target: someVar  
    03:17:43.4032: [completion item] a, kind:field, scope:member, value:1  
    03:17:43.4032: [completion item] b, kind:field, scope:member, value:hello  
    03:17:43.4032: [completion item] constructor, kind:method, scope:member, value:  
  
    …  
    ```  
  
### <a name="Icons"></a> Изменение значков IntelliSense  
 Ниже показано, как изменить значки, IntelliSense выводит по умолчанию. Это может быть полезно, когда вы предоставите IntelliSense сведения об основных понятиях данной библиотеки, такие как пространства имен, классы, интерфейсы и перечисления.  
  
 Значок доступных значений, см. в разделе <xref:Microsoft.VisualStudio.Language.Intellisense.StandardGlyphGroup>.  
  
 Для работы этого примера в проекте необходимы следующие файлы JavaScript.  
  
- и файл exampleLib.js, который представляет собой проект файла этой библиотеки represens независимых производителей.  
  
- exampleLib.intellisense.js, который имеет расширение IntelliSense. Этот файл не требуется включать в проект, но он должен находиться в той же папке, что и файл exampleLib.js.  
  
- appCode.js — файл проекта, представляющий код приложения.  
  
##### <a name="to-change-the-icons"></a>Изменить значки  
  
1. Добавьте следующий код и файл exampleLib.js.  
  
    ```javascript  
    function Namespace(name) {  
        this._isNamespace = true;  
        window[name] = this;  
    };  
  
    function Enum(values) {  
        var e = Object.create(values);  
        e._isEnum = true;  
        return e;  
    };  
  
    var SomeNamespace = new Namespace('SomeNamespace');  
    // A constructor function is considered a class.  
    SomeNamespace.SomeClass1 = function () { }  
    SomeNamespace.Enum1 = new Enum({ VALUE1: 0, VALUE2: 1 });  
    ```  
  
2. Добавьте следующий код к exampleLib.intellisense.js.  
  
    ```javascript  
    intellisense.addEventListener('statementcompletion', function (e) {  
        e.items.forEach(function (item) {  
            // Detect a namespace by using the _isNamespace flag.  
            if (item.value && item.value._isNamespace) {  
                item.glyph = 'vs:GlyphGroupNamespace';  
                }  
  
            if (item.parentObject && item.parentObject._isNamespace) {  
                // The item is a member of a namespace.   
  
                // All constructor functions that are part of a namespace   
                // are considered classes.   
                // A constructor function starts with  
                // an uppercase letter by convention.    
                if (typeof item.value == 'function' && (item.name[0].toUpperCase()   
                    == item.name[0])) {  
                    item.glyph = 'vs:GlyphGroupClass';  
                }  
  
                // Detect an enumeration by using the _isEnum flag.  
                if (item.value && item.value._isEnum) {  
                    item.glyph = 'vs:GlyphGroupEnum';  
                }  
            }  
        });  
    });  
  
    intellisense.addEventListener('statementcompletionhint', function (e) {  
        if (e.completionItem.value) {  
            if (e.completionItem.value._isNamespace) {  
                e.symbolHelp.symbolDisplayType = 'Namespace';  
            }  
            if (e.completionItem.value._isEnum) {  
                e.symbolHelp.symbolDisplayType = 'Enum';  
            }  
        }  
    });  
    ```  
  
3. Добавьте следующую директиву ссылки в качестве первой строки в файле appCode.js. Использованный здесь путь указывает, что файлы JavaScript находятся в той же папке.  
  
    ```javascript  
    /// <reference path="exampleLib.js" />  
  
    ```  
  
4. В appCode.js введите следующий код. При вводе, вы увидите, что значок для пространства имен было изменено на "{}«, так как используется в C#.  
  
     ![Пример, демонстрирующий использование свойства glyph](../ide/media/js-intellisense-glyph-namespace.png "js_intellisense_glyph_namespace")  
  
5. В appCode.js введите следующий код. При вводе, вы увидите новый значок перечисления для члена Enum1, а также значок нового класса для элемента SomeClass1.  
  
     ![Пример, демонстрирующий использование свойства glyph](../ide/media/js-intellisense-glyph-class-enum.png "js_intellisense_glyph_class_enum")  
  
### <a name="Overriding"></a> Предотвращение выполнения влияние на результатов IntelliSense  
 Языковая служба JavaScript выполняет код для динамического предоставления сведений IntelliSense. Таким образом поведение во время выполнения, иногда может конфликтовать с нужных результатов. Ниже показано, как для переопределения результатов IntelliSense, когда поведение во время выполнения приводит к неверные IntelliSense.  
  
 Для работы этого примера в проекте необходимы следующие файлы JavaScript.  
  
- и файл exampleLib.js, который представляет собой файл проекта, представляющий библиотеку сторонних.  
  
- exampleLib.intellisense.js, который имеет расширение IntelliSense. Этот файл не требуется включать в проект, но он должен находиться в той же папке, что и файл exampleLib.js.  
  
- appCode.js — файл проекта, представляющий код приложения.  
  
##### <a name="to-avoid-run-time-effects-on-intellisense-results"></a>Чтобы избежать выполнения влияние на результатов IntelliSense  
  
1. Добавьте следующий код и файл exampleLib.js.  
  
    ```javascript  
    function after(count, func) {  
        return function () {  
            if (--times < 1) {  
                return func.apply(this, arguments);  
            }  
        };  
    };  
    ```  
  
     В приведенном выше коде, заключенная в оболочку функция игнорирует начальной вызовы, исходя из значения `count`и не возвращает результатов.  
  
2. Добавьте следующую директиву ссылки в качестве первой строки в файле appCode.js. Использованный здесь путь указывает, что файлы JavaScript находятся в той же папке.  
  
    ```javascript  
    /// <reference path="exampleLib.js" />  
  
    ```  
  
3. В appCode.js введите следующий код. Список идентификаторов отображается вместо IntelliSense, так как заключенная в оболочку функция никогда не вызывается, это означает, что `throttled` функция не возвращает никаких результатов.  
  
     ![Пример переопределения результатов intellisense](../ide/media/js-intellisense-override.png "js_intellisense_override")  
  
4. Добавьте следующий код к exampleLib.intellisense.js. Это поведение будет изменено во время разработки, чтобы IntelliSense отображается для функции в оболочке, должным образом.  
  
    ```javascript  
    window.after = function (count, func) {  
        // Just return func.   
        return func;  
    };  
    ```  
  
5. В appCode.js результаты теста, введя тот же код, который вы ввели ранее. В данном случае технология IntelliSense предоставляет нужные сведения.  
  
     ![Пример переопределения результатов IntelliSense](../ide/media/js-intellisense-override-fixed.png "js_intellisense_override_fixed")  
  
## <a name="see-also"></a>См. также  
 [IntelliSense для JavaScript](../ide/javascript-intellisense.md)   
 [Завершение операторов с использованием идентификаторов](../ide/statement-completion-for-identifiers.md)
