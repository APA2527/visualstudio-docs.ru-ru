---
title: Добавление пользовательских элементов управления в окно "Источники данных" | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-data-tools
ms.topic: conceptual
f1_keywords:
- vs.datasource.howtoaddcustomcontrol
dev_langs:
- VB
- CSharp
- C++
- aspx
helpviewer_keywords:
- Data Sources Window, adding controls
- controls [Visual Studio], adding to Data Sources Window
- DefaultBindingPropertyAttribute class, using
- LookupBindingPropertiesAttribute class, using
- ComplexBindingPropertiesAttribute class, using
- Data Sources Window, selecting controls
ms.assetid: 8c43e7d2-ba94-4d9b-96de-3aa971955afd
caps.latest.revision: 45
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 99bd377ac54b664424b4bd29ab2917b00dae35fa
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63429109"
---
# <a name="add-custom-controls-to-the-data-sources-window"></a>Добавление пользовательских элементов управления в окно "Источники данных"
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

При перетаскивании элемента из **источников данных** окно в рабочую область конструирования для создания элемента управления с привязкой данных, можно выбрать тип элемента управления, который создается. Каждый элемент в окне имеет стрелку раскрывающегося списка, который отображает элементы управления, вы можете выбрать один из. Набор элементов управления, связанного с каждым элементом определяется типом данных элемента. Если элемент управления, который вы хотите создать не отображается в списке, необходимо выполнить инструкции в этом разделе, чтобы добавить элемент управления в список.  
  
 Дополнительные сведения о выборе элементов управления с привязкой данных для создания элементов в **источников данных** окно, см. в разделе [задать для элемента управления создается при перетаскивании из окна источников данных](../data-tools/set-the-control-to-be-created-when-dragging-from-the-data-sources-window.md).  
  
> [!NOTE]
> Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от действующих параметров или выпуска среды. Чтобы изменить параметры, на **средства** меню, выберите **Импорт и экспорт параметров**. Дополнительные сведения см. в статье [Настройка параметров разработки в Visual Studio](http://msdn.microsoft.com/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
## <a name="customizinglist"></a> Настраивать список привязываемых элементов управления для типа данных  
 Чтобы добавить или удалить элементы управления из списка доступных элементов управления для элементов в **источников данных** окно, которое имеет определенный тип данных, выполните следующие действия.  
  
#### <a name="to-select-the-controls-to-be-listed-for-a-data-type"></a>Выбор элементов управления, в которых будет указано для типа данных  
  
1. Убедитесь, что открыт конструктор WPF или Windows Forms.  
  
2. В **источников данных** щелкните элемент, который является частью источника данных, добавленный в окно и затем щелкните стрелку раскрывающегося меню для элемента.  
  
3. В раскрывающемся меню, щелкните **Настройка**. Одно из следующих диалоговых открывается:  
  
    - Если открыт конструктор Windows Forms, **Настройка данных интерфейса пользователя** странице **параметры** откроется диалоговое окно.  
  
    - Если открыт конструктор WPF, **Настройка привязки элементов управления** откроется диалоговое окно.  
  
4. В диалоговом окне выберите тип данных из **тип данных** стрелку раскрывающегося списка.  
  
    - Чтобы настроить список элементов управления для таблицы или объекта, выберите **[список]**.  
  
    - Чтобы настроить список элементов управления для столбца таблицы или свойство объекта, выберите тип данных столбца или свойства в базовом хранилище данных.  
  
    - Чтобы настроить список элементов управления для отображения объектов данных, имеющих определенные пользователями формы, выберите **[Other]**. Например, выберите **[Other]** Если приложение содержит пользовательский элемент управления, отображающий данные из нескольких свойств определенного объекта.  
  
5. В **связанные элементы управления** выберите каждый элемент управления, вы должны быть доступны для выбранного типа данных или снять выделение всех элементов управления, которые требуется удалить из списка.  
  
    > [!NOTE]
    > Если элемент управления, который вы хотите выбрать не отображается в **связанные элементы управления** поле, необходимо добавить элемент управления в список. Дополнительные сведения см. в разделе [Добавление элементов управления в список связанных элементов управления для типа данных](#addingcontrols).  
  
6. Нажмите кнопку **ОК**.  
  
7. В **источников данных** окно, щелкните элемент данных тип, сопоставленный с одной или нескольких элементов управления, а затем щелкните стрелку раскрывающегося меню для элемента.  
  
     Элементы управления, выбранного в **связанные элементы управления** поле теперь отображаются в раскрывающемся меню для элемента.  
  
## <a name="addingcontrols"></a> Addcontrols в список связанных элементов для типа данных  
 Если вы хотите связать элемент управления с типом данных, но элемент управления не отображается в **связанные элементы управления** поле, необходимо добавить элемент управления в список. Элемент управления должен быть размещен в текущее решение или в связанной сборке. Она также должна быть доступна в **элементов**, и иметь атрибут, определяющий поведение привязки данных элемента управления.  
  
#### <a name="to-add-controls-to-the-list-of-associated-controls"></a>Для добавления элементов управления в список связанных элементов  
  
1. Добавьте необходимый элемент управления для **элементов** щелкните правой кнопкой мыши **элементов** и выбрав **Выбор элементов**.  
  
     Элемент управления должен иметь одно из следующих атрибутов.  
  
    |Атрибут|Описание|  
    |---------------|-----------------|  
    |<xref:System.ComponentModel.DefaultBindingPropertyAttribute>|Реализуйте этот атрибут для простого элемента управления, отображающие один столбец (или свойство) данных, например <xref:System.Windows.Forms.TextBox>.|  
    |<xref:System.ComponentModel.ComplexBindingPropertiesAttribute>|Реализуйте этот атрибут в элементе управления, которые отображают списки (или таблицы) данных, например <xref:System.Windows.Forms.DataGridView>.|  
    |<xref:System.ComponentModel.LookupBindingPropertiesAttribute>|Реализуйте этот атрибут для элементов управления, которые отображают списки (или таблицы) данных, но также требуется предоставить отдельный столбец или свойство, например <xref:System.Windows.Forms.ComboBox>.|  
  
2. Для Windows Forms на **параметры** , открытом окне **Настройка данных интерфейса пользователя** страницы. Или WPF, откройте **Настройка привязки элементов управления** диалоговое окно. Дополнительные сведения см. в разделе [Настройка списка для привязки элементов управления для типа данных](#customizinglist).  
  
3. В **связанные элементы управления** поле, элемент управления, который только что добавленные **элементов** должен появиться.  
  
    > [!NOTE]
    > Только элементы управления, которые расположены в текущее решение или в связанной сборке можно добавить в список связанных элементов. (Элементы управления также должен реализовывать один из атрибутов привязки к данным в предыдущей таблице.) Привязка данных к настраиваемому элементу управления, который недоступен в **источников данных** окно, перетащите элемент управления из **элементов** на поверхности разработки, а затем перетащите элемент для привязки из **данных Источники** окна на элемент управления.  
  
## <a name="see-also"></a>См. также  
 [Привязка элементов управления к данным в Visual Studio](../data-tools/bind-controls-to-data-in-visual-studio.md)
