---
title: Создание и настройка наборов данных
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-data-tools
ms.topic: conceptual
dev_langs:
- VB
- CSharp
- C++
- aspx
helpviewer_keywords:
- typed datasets, creating
- datasets [Visual Basic], creating
ms.assetid: 58f33b43-24e1-43b1-b08b-b74329960bd6
caps.latest.revision: 39
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 6864708d3e60898b32ba07b14939a5c3e31d897e
ms.sourcegitcommit: 08fc78516f1107b83f46e2401888df4868bb1e40
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65705139"
---
# <a name="create-and-configure-datasets-in-visual-studio"></a>Создание и настройка наборов данных в Visual Studio
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Объект *набора данных* представляет собой набор объектов для хранения данных из базы данных в памяти и поддерживает отслеживание изменений для включения создания, чтения, обновления и удаления (CRUD) с этими данными без необходимости всегда необходимо подключение к базе данных. Наборы данных были разработаны для простых *формы поверх данных* бизнес-приложений. Для новых приложений рассмотрите возможность использования Entity Framework для хранения и моделирования данных в памяти. Для работы с наборами данных, должны иметь базовые знания о основными понятиями баз данных.

 Можно создать типизированный <xref:System.Data.DataSet> класса в Visual Studio во время разработки с помощью **мастер настройки источника данных**. Сведения о создании наборов данных программными средствами, см. в разделе [Создание набора данных](https://msdn.microsoft.com/library/57629d8f-393e-4677-8b83-29ffde27f5fc).

## <a name="create-a-new-dataset-by-using-the-data-source-configuration-wizard"></a>Создать новый набор данных с помощью мастера настройки источника данных

1. На **проекта** меню, щелкните **добавить новый источник данных** запустить **мастер настройки источника данных**.

2. Выберите тип источника данных, который вы будете подключаться.

     ![Мастер настройки источника данных](../data-tools/media/data-source-configuration-wizard.png "мастера настройки источника данных")

3. Для баз данных выберите базу данных или базы данных, которые будет источником данных для набора данных.

     ![Источник данных выберите подключение](../data-tools/media/data-source-choose-a-connection.png "источника данных выберите соединение")

4. Выбор таблицы (или отдельные столбцы), хранимые процедуры, функции и представления из базы данных, которую требуется представить в наборе данных.

     ![Выбор объектов базы данных](../data-tools/media/raddata-chose-objects.png "raddata выбрать объекты")

5. Нажмите кнопку **Готово**.

6. Набор данных отображается как узел в **обозревателе решений**:

     ![Набор данных в обозревателе решений](../data-tools/media/dataset-in-solution-explorer.png "набора данных в обозревателе решений")

     Щелкните этот узел, и набор данных появляется в **конструктор наборов данных**. Обратите внимание на то, что каждая таблица в наборе данных содержит связанный объект TableAdapter, который представлен в нижней. Адаптер таблицы используется для заполнения набора данных и при необходимости отправлять команды в базу данных.

     ![Конструктор наборов данных](../data-tools/media/dataset-designer.png "конструктор наборов данных")

7. Линии связи, соединяющие таблицы представляют связи между таблицами, как определено в базе данных. По умолчанию ограничения внешнего ключа в базе данных представляются в виде отношения, обновление и удаление правил. Как правило это то, что нужно. Тем не менее, можно щелкнуть строки, чтобы открыть **отношения** диалоговое окно, где можно изменить поведение иерархических обновлений. Дополнительные сведения см. в разделе [отношения в наборах данных](../data-tools/relationships-in-datasets.md) и [иерархическое обновление](../data-tools/hierarchical-update.md).

     ![Диалоговое окно отношения набор данных](../data-tools/media/raddata-relation-dialog.png "диалоговое окно raddata отношения")

8. Щелкните таблицу, адаптер таблицы или имя столбца в таблице см. в разделе его свойств в **свойства** окна. Можно изменить некоторые значения здесь. Просто помните, что вы изменяете набора данных, а не базы данных-источника.

     ![Свойства столбца набора данных](../data-tools/media/dataset-column-properties.png "свойства столбца набора данных")

9. Можно добавить новые таблицы или адаптеров таблиц в набор данных, или добавить новые запросы для существующих адаптеров таблиц или указать новые связи между таблицами путем перетаскивания этих элементов из **элементов** вкладки. Эта вкладка отображается, когда **конструктор наборов данных** в фокусе.

     ![Набор данных панели элементов](../data-tools/media/raddata-dataset-toolbox.png "raddata элементов набора данных")

10. После этого может потребоваться указать способ заполнения набора данных с данными. Для этого используется **мастер настройки адаптера таблицы**. Дополнительные сведения см. в разделе [заполнения набора данных с помощью адаптера таблицы](../data-tools/fill-datasets-by-using-tableadapters.md) .

## <a name="add-a-database-table-or-other-object-to-an-existing-dataset"></a>Добавить таблицу базы данных или другой объект в существующий набор данных
 Эта процедура демонстрирует добавление таблицы из той же базе данных, которая использовалась для сначала создать набор данных.

1. Щелкните узел набора данных в **обозревателе решений** для переноса фокуса в конструкторе наборов данных.

2. Нажмите кнопку **источников данных** вкладку в левой области Visual Studio, или введите `Data Sources` в **быстрого запуска**.

3. Щелкните правой кнопкой мыши узел набора данных и выберите **Настройка источника данных с помощью мастера** .

     ![Контекстное меню источника данных](../data-tools/media/data-source-context-menu.png "контекстного меню источника данных")

4. Используйте мастер, чтобы указать, какие дополнительные таблицы, хранимые процедуры или другого объекта базы данных, чтобы добавить к набору данных.

## <a name="add-a-stand-alone-data-table-to-a-dataset"></a>Добавление отдельной таблицы к набору данных

1. Откройте свой набор данных в **Конструкторе наборов данных**.

2. Перетащите <xref:System.Data.DataTable> класса из **набора данных** вкладке **элементов** на **конструктор наборов данных**.

3. Добавьте столбцы для определения таблицы данных. Дополнительные сведения см. в разделе [Практическое руководство. Добавление столбцов в объект DataTable](https://msdn.microsoft.com/library/8ca21f77-b99a-47a7-a656-7cfd7a1bd9df).

4. Отдельных таблиц необходимо реализовать `Fill` логику в изолированных таблиц, чтобы их можно заполнить данными. Сведения о заполнении отдельной таблицы, см. в разделе [заполнение набора данных из объекта DataAdapter](https://msdn.microsoft.com/library/3fa0ac7d-e266-4954-bfac-3fbe2f913153).
