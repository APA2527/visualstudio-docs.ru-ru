---
title: Создание таблиц подстановки в приложениях WPF | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-data-tools
ms.topic: conceptual
dev_langs:
- VB
- CSharp
- C++
- aspx
helpviewer_keywords:
- data [WPF], displaying
- WPF, data binding in Visual Studio
- WPF data binding [Visual Studio]
- displaying data, WPF
- WPF [WPF], data
- WPF Designer, data binding
- data binding, WPF
ms.assetid: 56a1fbff-c7e8-4187-a1c1-ffd17024bc1b
caps.latest.revision: 19
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: cd92d75e297055b65d05bef42d497e65c2a996d6
ms.sourcegitcommit: 08fc78516f1107b83f46e2401888df4868bb1e40
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65697927"
---
# <a name="create-lookup-tables-in-wpf-applications"></a>Создание таблиц подстановки в приложениях WPF
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Термин *таблицы подстановки* (иногда называется *подстановочной привязкой*) описывает элемент управления, отображающий сведения из таблицы данных, на основе значения поля внешнего ключа в другой таблице. Можно создать таблицу подстановки, перетащив главного узла родительской таблицы или объекта в **источников данных** окно в элемент управления, который уже привязан к столбцу или свойству в связанной дочерней таблице.  
  
 Например, рассмотрим таблицу `Orders` в базе данных продаж. Каждая запись в `Orders` таблица включает `CustomerID` , указывающий, какой клиент разместил заказ. `CustomerID` Представляет собой внешний ключ, который указывает на запись клиента в `Customers` таблицы. При выводе списка заказов из `Orders` таблицы, может потребоваться отобразить реальное имя клиента вместо `CustomerID`. Так как имя клиента находится в `Customers` таблицы, необходимо создать таблицу подстановки для отображения имени клиента. Таблица подстановки использует `CustomerID` значение в `Orders` записи для перемещения по связи и возвращает имя клиента.  
  
## <a name="to-create-a-lookup-table"></a>Создание таблицы подстановок  
  
1. Добавьте один из следующих типов источников данных с помощью связанных данных в проект:  
  
    - Набор данных или модели EDM.

    - Служба данных WCF, служба WCF или веб-службы. Дополнительные сведения см. в разделе [Практическое руководство. подключиться к данным в службе](../data-tools/how-to-connect-to-data-in-a-service.md).  
  
    - Объекты. Дополнительные сведения см. в разделе [Практическое руководство. Подключение к данным в объектах](https://msdn.microsoft.com/library/862fd351-0f4d-4220-9743-6103b87dc24b).  
  
    > [!NOTE]
    > Перед созданием таблицы подстановки, две связанные таблицы или объекты должны существовать в качестве источника данных для проекта.  
  
2. Откройте**конструктор WPF**и убедитесь, что он содержит контейнер, который является допустимой целью перетаскивания для элементов в **источников данных** окна.  
  
     Дополнительные сведения о допустимых конечных расположений сброса см. в разделе [элементы управления WPF, привязка к данным в Visual Studio](../data-tools/bind-wpf-controls-to-data-in-visual-studio1.md).  
  
3. Чтобы открыть окно **Источники данных**, щелкните пункт **Показать источники данных** в меню **Данные**.  
  
4. Разверните узлы в **источников данных** окно, пока не будут видны в родительской таблицы или объекта и связанной дочерней таблицы или объекта.  
  
    > [!NOTE]
    > Соответствующую дочернюю таблицу или объект является узлом, который отображается в виде расширяемый дочерний узел в родительской таблицы или объекта.  
  
5. Щелкните стрелку раскрывающегося меню для дочернего узла и выберите **сведения**.  
  
6. Разверните дочерний узел.  
  
7. В дочернем узле щелкните стрелку раскрывающегося меню для элемента, связывающего дочерние и родительские данные. (В приведенном выше примере это **CustomerID** узел.) Выберите один из следующих типов элементов управления, поддерживающих привязку подстановки.  
  
    - **ComboBox**  
  
    - **ListBox**  
  
    - **ListView**  
  
        > [!NOTE]
        > Если **ListBox** или **ListView** управления не отображается в списке, эти элементы управления можно добавить в список. Сведения см. в разделе [задать для элемента управления создается при перетаскивании из окна источников данных](../data-tools/set-the-control-to-be-created-when-dragging-from-the-data-sources-window.md).  
  
    - Пользовательский элемент управления, производный от <xref:System.Windows.Controls.Primitives.Selector>.  
  
        > [!NOTE]
        > Для сведения о добавлении пользовательских элементов управления в список элементов управления вы можете выбрать для элементов в **источников данных** окно, см. в разделе [добавлять пользовательские элементы управления окна "Источники данных"](../data-tools/add-custom-controls-to-the-data-sources-window.md).  
  
8. Перетащите дочерний узел из **источников данных** окна на контейнер в конструкторе WPF. (В предыдущем примере, дочерний узел является **заказы** узел.)  
  
     Visual Studio создает XAML, который создает новые элементы управления с привязкой к данным для всех элементов, которые перетаскиваются. XAML также добавляет новую <xref:System.Windows.Data.CollectionViewSource> для дочерней таблицы или объекта, к ресурсам целевого объекта перетаскивания. Для некоторых источников данных Visual Studio также создает код для загрузки данных в таблицу или объект. Дополнительные сведения см. в разделе [элементы управления WPF, привязка к данным в Visual Studio](../data-tools/bind-wpf-controls-to-data-in-visual-studio1.md).  
  
9. Перетащите родительский узел из **источников данных** окна на элемент управления привязки Уточняющий запрос, который был создан ранее. (В предыдущем примере является родительский узел **клиентов** узла).  
  
     Visual Studio задает некоторые свойства элемента управления для настройки привязки подстановки. Ниже перечислены свойства, которые Visual Studio вносит изменения. При необходимости вы можете изменить эти свойства в XAML или в **свойства** окна.  
  
    |Свойство|Пояснение к параметру|  
    |--------------|----------------------------|  
    |<xref:System.Windows.Controls.ItemsControl.ItemsSource%2A>|Это свойство указывает на коллекцию или привязку, которая используется для получения данных, которые отображаются в элементе управления. Visual Studio устанавливает это свойство <xref:System.Windows.Data.CollectionViewSource> для родительских данных, которое пользователь перетащил в элемент управления.|  
    |<xref:System.Windows.Controls.ItemsControl.DisplayMemberPath%2A>|Это свойство указывает путь элемента данных, который отображается в элементе управления. Visual Studio задает это свойство первый столбец или свойство в родительских данных, после первичного ключа, который имеет строковый тип данных.<br /><br /> Если вы хотите отобразить отдельному столбцу или свойству в родительских данных, это свойство можно измените путь к другому свойству.|  
    |<xref:System.Windows.Controls.Primitives.Selector.SelectedValue%2A>|Visual Studio создает привязку этого свойства к столбцу или свойству дочерних данных, которую пользователь перетащил в конструктор. Это внешний ключ для родительских данных.|  
    |<xref:System.Windows.Controls.Primitives.Selector.SelectedValuePath%2A>|Visual Studio задает это свойство путь к столбцу или свойству дочерних данных, который является внешним ключом для родительских данных.|  
  
## <a name="see-also"></a>См. также  
 [Привязка элементов управления WPF к данным в Visual Studio](../data-tools/bind-wpf-controls-to-data-in-visual-studio1.md)   
 [Привязка элементов управления WPF к данным в Visual Studio](../data-tools/bind-wpf-controls-to-data-in-visual-studio2.md)   
 [Отображение связанных данных в приложениях WPF](../data-tools/display-related-data-in-wpf-applications.md)   
 [Пошаговое руководство: Отображение связанных данных в приложении WPF](../data-tools/walkthrough-displaying-related-data-in-a-wpf-application.md)
