---
title: DA0007. Избегайте использования исключений для потока управления | Документы Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: reference
f1_keywords:
- vs.performance.rules.DAExceptionsThrown
- vs.performance.7
- vs.performance.rules.DA0007
- vs.performance.DA0007
ms.assetid: ee8ba8b5-2313-46c9-b129-3f3a2a232898
caps.latest.revision: 18
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 8bae47d5fd759de66777c4e1472603d3bf4a193d
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "75843940"
---
# <a name="da0007-avoid-using-exceptions-for-control-flow"></a>DA0007. Избегайте использования исключений для потока управления
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Идентификатор правила | DA0007 |  
| Категория |. Использование NET Framework |  
| Методы профилирования | Все |  
| Сообщение | Постоянно создается большое количество исключений. Рекомендуется сократить число используемых исключений в алгоритме программы.|  
| Тип сообщения | Предупреждение |  
  
 При профилировании с помощью выборки, памяти .NET или методов разрешения конфликтов ресурсов необходимо собрать минимум 25 выборок, чтобы активировать это правило.  
  
## <a name="cause"></a>Причина:  
 Высокая частота вызовов обработчиков исключений .NET Framework в данных профилирования. Рекомендуется использовать другую логику потока управления для уменьшения числа вызываемых исключений.  
  
## <a name="rule-description"></a>Описание правила  
 Использование обработчиков исключений для перехвата ошибок и других событий, нарушающих выполнение программы, является хорошей практикой. Однако использование обработчиков исключений в алгоритме обычного выполнения программы может оказаться слишком затратным и этого следует избегать. Рекомендуется использовать исключения только в редких случаях, когда происходит что-то непредвиденное. Исключения не должны использоваться для возврата значений в ходе обычного потока выполнения программы. Во многих случаях можно избежать возникновения исключений, проверяя значения и используя условные конструкции для предотвращения выполнения операторов, вызывающих проблемы.  
  
 Дополнительные сведения см. в разделе " [Управление исключениями](https://msdn.microsoft.com/library/ms998547.aspx#scalenetchapt05_topic24) " **главы 5 — повышение производительности управляемого кода** в статье **повышение производительности и масштабируемости приложений .NET** в библиотеке **шаблонов и рекомендаций Майкрософт** на сайте MSDN.  
  
## <a name="how-to-investigate-a-warning"></a>Изучение причин предупреждения  
 Дважды щелкните сообщение в окне "Список ошибок", чтобы перейти к представлению "Метки". Найдите столбец, содержащий " **Исключения CLR .NET" ( @ProcessInstance ) \\ число порождаемых исключений/с** . Установите, есть ли какие-либо этапы выполнения программы, где обработка исключений происходит чаще. Используя профиль выборки, попытайтесь выявить операторы вызова исключений и блоки try/catch, которые являются причиной частых исключений. При необходимости добавьте операторы для перехвата блоков, чтобы понять, какие исключения обрабатываются наиболее часто. Там, где это возможно, замените часто выполняемые операторы вызова исключений или блоки перехвата обычными операторами управления и проверки значений.  
  
 Например, если вы обнаружите, что приложение часто обрабатывает исключение деления на ноль, добавьте в программу операторы для проверки знаменателей на нулевое значение. Это улучшит производительность приложения.
