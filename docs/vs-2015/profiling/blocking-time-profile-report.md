---
title: Отчет о профиле времени блокировки | Документы Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.cv.threads.report.blocking
helpviewer_keywords:
- Concurrency Visualizer, Blocking Time Profile Report
ms.assetid: 3bc45af0-3ba6-4fa3-a336-be8e9ae95107
caps.latest.revision: 21
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 0efeb7fb0eb481d0b8d62ff4a9ebf9daad98c39f
ms.sourcegitcommit: a83c60bb00bf95e6bea037f0e1b9696c64deda3c
ms.translationtype: MTE95
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2019
ms.locfileid: "54782298"
---
# <a name="blocking-time-profile-report"></a>Отчет профиля времени блокировки
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

В отчетах о профилях содержатся сводные данные о времени блокировок для стеков вызовов по каждой из категорий блокировок (например, "Ввод-вывод" или "Синхронизация"). В отчете о вытеснении выводится список процессов, которые вытесняли текущий процесс, а также количество вытеснений. Для построения отчета по профилю блокировки инструмент собирает информацию о блокирующих вызовах интерфейса API и размещает ее в дереве стеков вызовов. На данные в этих отчетах может повлиять текущий диапазон времени, скрытые потоки и следующие два фильтра, которые могут быть применены.  
  
- Если выбран параметр "Только мой код", будут представлены только кадры стека, у которых есть пользовательский код, а также кадры на уровень ниже пользовательского кода.  
  
- Если задано значение для снижения уровня шума, разобранные стеки с частотой ниже заданной пропускаются.  
  
  Разверните какой-либо узел дерева вызовов, чтобы найти строку кода, в которой затрачено время на блокировку. Чтобы найти строку исходного кода для данной записи, выберите в ее контекстном меню пункт **Просмотреть исходный код**. Для поиска строки кода, вызвавшей данную строку, в контекстном меню выберите команду **Просмотреть сайты вызова**. Если доступен только один сайт вызова, команда подключится к выделенной строке кода для сайта вызова. Если доступно несколько сайтов вызова, команда откроет диалоговое окно, в котором можно выбрать сайт, а затем нажать кнопку **Перейти к источнику**, чтобы перейти на выделенный сайт вызова. Зачастую полезнее всего просмотреть исходный код для сайта вызова, имеющего больше всего экземплярах, больше всего времени или и то, и другое.  
  
## <a name="blocking-time-report-columns"></a>Столбцы отчета о времени блокировки  
 В приведенной ниже таблице показаны столбцы каждого из отчетов о времени блокировки.  
  
|Имя столбца|Описание|  
|-----------------|-----------------|  
|name|Имя функции для каждого уровня стека вызова.|  
|Экземпляры|Количество экземпляров блокирующего вызова для видимого периода времени.|  
|Инклюзивное время блокировки|Общее время блокировки, затраченное на все стеки, сведенные к этому уровню дерева стека вызовов. Инклюзивное число — это сумма эксклюзивного времени блокировки для данной функции и эксклюзивного времени блокировки для всех ее дочерних узлов.|  
|Эксклюзивное время блокировки|Общее затраченное время блокировки, в течение которого данная функция находилась на самом нижнем уровне стека вызовов. Рассматриваемой функцией может быть уникальная запись стека вызова с высоким значением эксклюзивного времени блокировки.|  
|API/категория ожидания|Отображается только для функций на самом низком уровне стека вызовов. При распознавании сигнатуры блокирующего вызова предоставляется имя блокирующего интерфейса API. Если сигнатура не распознана, предоставляются сведения, выданные ядром.|  
|Подробные сведения|Полное имя функции. Содержит число строк, если это значение доступно.|  
  
### <a name="synchronization"></a>Синхронизация  
 В отчете о синхронизации отображаются вызовы, отвечающие за сегменты, заблокированные из-за синхронизации, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [Synchronization Time](../profiling/synchronization-time.md) (Время синхронизации).  
  
### <a name="sleep"></a>Sleep  
 Отчет о спящем режиме показывает вызовы, отвечающие за время блокировки, отмеченное как время, проведенное в спящем режиме, а также совокупное время блокировки для каждого стека вызовов. Дополнительные сведения см. в статье [Sleep Time](../profiling/sleep-time.md) (Время ожидания).  
  
### <a name="io"></a>Ввод-вывод  
 В отчете о вводе-выводе отображаются вызовы, отвечающие за сегменты, операциями ввода-вывода, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [I/O Time (Threads View)](../profiling/i-o-time-threads-view.md) (Время ввода-вывода (представление "Потоки").  
  
### <a name="memory-management"></a>Управление памятью  
 В отчете об управлении памятью отображаются вызовы, отвечающие за сегменты, операциями управления памятью, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [Memory Management Time](../profiling/memory-management-time.md) (Время управления памятью).  
  
### <a name="preemption"></a>Вытеснение  
 В отчете о вытеснении выводится список процессов, которые вытесняли текущий процесс, а также количество вытеснений.  Можно развернуть каждый процесс для просмотра тех потоков, которые вытесняли потоки текущего процесса, а также для просмотра распределения вытеснений для каждого потока. Этот отчет о блокировках имеет меньшее практическое значение, чем другие, так как вытеснение процесса чаще инициируется операционной системой, а не ошибкой в коде пользователя. Дополнительные сведения см. в статье [Preemption Time](../profiling/preemption-time.md) (Время вытеснения).  
  
### <a name="ui-processing"></a>Обработка UI  
 В отчете об обработке пользовательского интерфейса отображаются вызовы, отвечающие за сегменты, которые блокируют блоки обработки пользовательского интерфейса, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [UI Processing Time](../profiling/ui-processing-time.md) (Время обработки пользовательского интерфейса).  
  
## <a name="see-also"></a>См. также раздел  
 [Представление потоков](../profiling/threads-view-parallel-performance.md)
