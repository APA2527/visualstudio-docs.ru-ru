---
title: Поддерживаемые изменения кода (C#) | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- Edit and Continue [C#], supported code changes
ms.assetid: c7a48ea9-5a7f-4328-a9d7-f0e76fac399d
caps.latest.revision: 30
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 6fc02c11a4ebceea431fc06a1bd1cfdb1063097d
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "67823540"
---
# <a name="supported-code-changes-c"></a>Поддерживаемые изменения кода (C#)
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Операция "Изменить и продолжить" обрабатывает большинство типов изменений, вносимых в код внутри тела метода. Однако большинство изменений за пределами тела метода и некоторые изменения в теле метода во время отладки применены быть не могут. Чтобы такие неподдерживаемые изменения вступили в силу, необходимо остановить отладку и заново запустить ее для обновленной версии кода.  
  
 Следующие изменения в коде C# не могут быть применены во время сеанса отладки.  
  
- Изменения в текущем или любом другом активном операторе.  
  
     К активным операторам относятся любые операторы внутри функций из стека вызовов, которые были вызваны для перехода к текущему оператору.  
  
     Текущий оператор выделяется в окне исходного кода желтым фоном. Остальные активные операторы выделяются затенением и доступны только для чтения. Эти используемые по умолчанию цвета можно изменить в диалоговом окне **Параметры**.  
  
- изменение сигнатуры типа;  
  
- Добавление анонимного метода, записывающего переменную, которая не была записана ранее.  
  
- Добавление, удаление или изменение атрибутов.  
  
- Добавление, удаление или изменение директив `using`.  
  
- Включение активного оператора в блоки `foreach`, `using` или `lock`.  
  
## <a name="unsafe-code"></a>Небезопасный код  
 В отношении изменений небезопасного кода действуют те же ограничения, что и для безопасного кода, а также следующее дополнительное ограничение: Режим "Изменить и продолжить" не поддерживает изменения в небезопасном коде, в котором осуществляется выход из метода, содержащего оператор `stackalloc`.  
  
## <a name="exceptions"></a>Исключения  
 Операция "Изменить и продолжить" поддерживает внесение изменений в блоки `catch` и `finally`, за исключением того, что добавление блока `catch` или `finally` вокруг активного оператора не допускается.  
  
## <a name="unsupported-scenarios"></a>Неподдерживаемые сценарии  
 Режим "Изменить и продолжить" не доступен при следующих скриптах отладки:  
  
- отладка кода LINQ в определенных обстоятельствах; Дополнительные сведения см. в разделе [Отладка LINQ](../debugger/debugging-linq.md).  
  
  - запись переменной, которая не была записана ранее;  

  - Измените тип выражения запроса (например, выберите a => выберите создать {A = a};)  

  - удаление `where` с активным оператором;  

  - удаление `let` с активным оператором;  

  - удаление `join` с активным оператором;  

  - удаление `orderby` с активным оператором.  
  
- отладка в смешанном режиме (машинный код/управляемый код);  
  
- отладка SQL;  
  
- отладка дампа Dr. Watson;  
  
- Изменение кода после необработанного исключения, если параметр «**очищать стек вызовов при необработанных исключениях**» не выбран.  
  
- отладка вложенного приложения времени выполнения;  
  
- Отладка приложения, которое **присоединяется к** , вместо запуска приложения с помощью команды **Запуск** в меню **Отладка** .  
  
- отладка оптимизированного кода;  
  
- отладка старой версии кода после того, как новую версию не удалось собрать из-за ошибок сборки.  
  
## <a name="see-also"></a>См. также:  
 [Изменить и продолжить (Visual C#)](../debugger/edit-and-continue-visual-csharp.md)   
 [Практическое руководство. Использование режима "Изменить и продолжить" (C#)](../debugger/how-to-use-edit-and-continue-csharp.md)
