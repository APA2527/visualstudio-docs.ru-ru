---
title: Как использовать окно "стек вызовов" | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.debug.callstack
dev_langs:
- FSharp
- VB
- CSharp
- C++
- JScript
- SQL
- aspx
helpviewer_keywords:
- threading [Visual Studio], displaying calls to or from
- functions [debugger], viewing code on call stack
- disassembly code
- breakpoints, Call Stack window
- debugging [Visual Studio], switching to another stack frame
- debugging [Visual Studio], Call Stack window
- Call Stack window, viewing source code for functions on the call stack
- stack, switching stack frames
- Call Stack window, viewing disassembly code for functions on the call stack
ms.assetid: 5154a2a1-4729-4dbb-b675-db611a72a731
caps.latest.revision: 45
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 84c0bfead1633da13b4284cad04ace674045b057
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "65697475"
---
# <a name="how-to-use-the-call-stack-window"></a>Практическое руководство. Использование окна стека вызова
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

С помощью окна **Стек вызовов** можно просматривать вызовы функций и процедур, которые в данный момент находятся в стеке.  
  
 В окне **Стек вызовов** отображается имя каждой функции и язык программирования, на котором она написана. Имя функции или процедуры может сопровождаться дополнительной информацией, такой как имя модуля, номер строки, а также имена, типы и значения параметров. Отображение этих дополнительных сведений может быть включено или отключено.  
  
 Желтая стрелка указывает на кадр стека, в котором находится указатель выполнения. По умолчанию это фрейм, сведения о котором отображаются в окнах источник, **Дизассемблированный код**, **локальные**, **Контрольные значения**и **видимые** . Если вы хотите изменить контекст на другой кадр в стеке, это можно сделать в окне **Стек вызовов** .  
  
 Если отладочные символы недоступны для части стека вызовов, окно **стека вызовов** может не иметь возможности отображать правильные сведения для этой части стека вызовов. Появится следующая запись:  
  
 [Фреймы ниже могут быть неправильными и/или отсутствовать, не загружены символы для имя.dll]  
  
 По умолчанию в управляемом коде. окно **стека вызовов** скрывает сведения для кода, не являющегося пользовательским. Следующая запись отображается вместо скрытой информации:  
  
 **[\<External Code>]**  
  
 Не принадлежащий пользователю код — это любой код, который не является "моим кодом". При необходимости в контекстном меню можно выбрать отображение сведений стека вызовов, касающихся кода, не принадлежащего пользователю.  
  
 С помощью контекстного меню можно выбрать, следует ли отображать вызовы между потоками.  
  
> [!NOTE]
> Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от действующих параметров или выпуска среды. Чтобы изменить параметры, выберите в меню **Сервис** пункт **Импорт и экспорт параметров**. Дополнительные сведения см. [в разделе Настройка параметров разработки в Visual Studio](https://msdn.microsoft.com/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
### <a name="to-display-the-call-stack-window-in-break-mode-or-in-run-mode"></a>Чтобы открыть окно "Стек вызовов" в режиме прерывания или в режиме выполнения  
  
- В меню **Отладка** выберите пункт **окна** и щелкните **Стек вызовов**.  
  
### <a name="to-change-the-optional-information-displayed"></a>Чтобы включить или отключить отображение дополнительных сведений  
  
- Щелкните правой кнопкой мыши окно **Стек вызовов** и установите или снимите **флажок \<**_the information that you want_**> Показывать **.  
  
### <a name="to-display-non-user-code-frames-in-the-call-stack-window"></a>Чтобы отобразить в окне "Стек вызовов" фреймы кода, не написанного пользователем  
  
- Щелкните правой кнопкой мыши в окне **Стек вызовов** и выберите в контекстном меню пункт **Показать внешний код**.  
  
### <a name="to-switch-to-another-stack-frame"></a>Чтобы перейти к другому кадру стека  
  
1. В окне **Стек вызовов** щелкните правой кнопкой мыши кадр, код и данные которого необходимо просмотреть.  
  
2. Выберите пункт **Перейти к кадру**.  
  
     Зеленая стрелка с фигурным концом появится рядом с выбранным фреймом. Указатель выполнения остается в исходном кадре, который по-прежнему отмечен желтой стрелкой. При выборе команд **Шаг** или **Продолжить** в меню **Отладка** выполнение продолжится с исходного, а не с выбранного кадра.  
  
### <a name="to-display-calls-to-or-from-another-thread"></a>Чтобы отобразить вызовы в другой поток или из него  
  
- Щелкните правой кнопкой мыши в окне **Стек вызовов** и выберите пункт **Включить вызовы между потоками**.  
  
### <a name="to-view-the-source-code-for-a-function-on-the-call-stack"></a>Чтобы просмотреть исходный код функции в стеке вызовов  
  
- В окне **Стек вызовов** щелкните правой кнопкой мыши функцию, исходный код которой нужно увидеть, и выберите пункт **К исходному коду**.  
  
### <a name="to-visually-trace-the-call-stack"></a>Чтобы выполнить визуальную трассировку стека вызовов  
  
1. В окне **Стек вызовов** откройте контекстное меню. Выберите **Показывать стек вызовов на карте кода**. (Клавиатура: **CTRL**  +  **SHIFT**  +  **`** )  
  
     См. Дополнительные сведения [о методах Map в стеке вызовов во время отладки](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md).  
  
### <a name="to-view-the-disassembly-code-for-a-function-on-the-call-stack"></a>Чтобы просмотреть дизассемблированный код функции в стеке вызовов  
  
- В окне **Стек вызовов** щелкните правой кнопкой мыши функцию, дизассемблированный код которой нужно увидеть, и выберите пункт **К дизассемблированному коду**.  
  
### <a name="to-run-to-a-specific-function-from-the-call-stack-window"></a>Чтобы выполнить код вплоть до определенной функции из окна "Стек вызовов"  
  
- В окне **Стек вызовов** выберите функцию, щелкните ее правой кнопкой мыши и выберите команду **выполнить до текущей позиции**.  
  
### <a name="to-set-a-breakpoint-on-the-exit-point-of-a-function-call"></a>Чтобы задать точка останова в точке выхода вызова функции  
  
- См. раздел [Установка точки останова в функции стека вызовов](../debugger/using-breakpoints.md#BKMK_Set_a_breakpoint_in_the_call_stack_window).  
  
### <a name="to-load-symbols-for-a-module"></a>Чтобы загрузить символы для модуля  
  
- В окне **Стек вызовов** щелкните правой кнопкой мыши кадр, в котором отображается модуль, символы которого необходимо перезагрузить, и выберите пункт **загрузить символы**.  
  
## <a name="loading-symbols"></a>Загрузка символов  
 В окне **Стек вызовов** можно загружать символы отладки для кода, для которого в данный момент нет загруженных отладочных символов. Это могут быть символы платформы .NET Framework или системные символы, загруженные с общедоступных серверов символов корпорации Microsoft, или символы в каталоге символов на компьютере, на котором производится отладка.  
  
 См. статью [Указание файлов символов (.pdb) и файлов с исходным кодом в отладчике Visual Studio](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).  
  
#### <a name="to-load-symbols"></a>Чтобы загрузить символы  
  
1. В окне **Стек вызовов** щелкните правой кнопкой мыши кадр, для которого не загружены символы. Кадр затеняется.  
  
2. Укажите пункт **загрузить символы из** , а затем выберите **Серверы символов Майкрософт** или **путь к символам**.  
  
#### <a name="to-set-the-symbol-path"></a>Установка пути к символам  
  
1. В окне **Стек вызовов** выберите пункт **Параметры символов** из контекстного меню.  
  
     Появится диалоговое окно **Параметры**, открытое на странице **Символы**.  
  
2. Щелкните **Параметры символов**.  
  
3. В диалоговом окне **Параметры** щелкните значок "Папка".  
  
     В поле **Места размещения файлов символов (.pdb)** появится курсор.  
  
4. Введите путь к каталогу с символами на компьютере, на котором производится отладка. В случае локальной отладки это будет локальный компьютер. В случае удаленной отладки это удаленный компьютер.  
  
5. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно **Параметры**.  
  
## <a name="see-also"></a>См. также:  
 [Смешанный код и отсутствующие данные в окне "стек вызовов"](../debugger/mixed-code-and-missing-information-in-the-call-stack-window.md)   
 [Как изменить числовой формат окна отладчика](https://msdn.microsoft.com/library/cd593847-a625-411d-a430-b798346ef18f)   
 [Просмотр данных в отладчике](../debugger/viewing-data-in-the-debugger.md)   
 [Указание символов (. pdb) и исходных файлов](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)   
 [Использование точек останова](../debugger/using-breakpoints.md)
