---
title: Отчерепное несколько процессов (ru) Документы Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.debug.programs
- vs.debug.processes.attaching
- vs.debug.activeprogram
- vs.debug.attaching
- vs.debug.attachedprocesses
dev_langs:
- FSharp
- VB
- CSharp
- C++
ms.assetid: bde37134-66af-4273-b02e-05b3370c31ab
caps.latest.revision: 19
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 9a2679825d41a6360dde05e7511d607f8be69dfa
ms.sourcegitcommit: 95f26af1da51d4c83ae78adcb7372b32364d8a2b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79301443"
---
# <a name="debug-multiple-processes"></a>Отладка нескольких процессов
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Ниже описаны способы запуска отладки процессов, переключения между процессами, приостановки и возобновления выполнения, пошагового выполнения исходного кода, остановки отладки, а также отсоединения от процессов или прекращения их работы.  
  
## <a name="contents"></a><a name="BKMK_Contents"></a>Содержимое  
 [Настройка поведения выполнения нескольких процессов](#BKMK_Configure_the_execution_behavior_of_multiple_processes)  
  
 [Поиск файлов источника и символа (.pdb)](#BKMK_Find_the_source_and_symbol___pdb__files)  
  
 [Запуск нескольких процессов в решении VS, присоединение к процессу, автоматический запуск процесса в отладчике](#BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger)  
  
 [Переключение процессов, перерыв и продолжение выполнения, шаг через источник](#BKMK_Switch_processes__break_and_continue_execution__step_through_source)  
  
 [Остановка отладки, окончание или отсоединение от процессов](#BKMK_Stop_debugging__terminate_or_detach_from_processes)  
  
## <a name="configure-the-execution-behavior-of-multiple-processes"></a><a name="BKMK_Configure_the_execution_behavior_of_multiple_processes"></a>Настройка поведения выполнения нескольких процессов  
 Когда в отладчике запущено одновременно несколько процессов, команды приостановки выполнения и пошагового выполнения, а также остановка команд отладчика по умолчанию влияют на все процессы. Например, когда один процесс приостанавливается в точке останова, выполнение всех остальных процессов также приостанавливается. Можно изменить это принимаемое по умолчанию поведение, чтобы обрести больший контроль над целевыми объектами команд выполнения.  
  
1. В меню **Отладка** выберите **Параметры и настройки**.  
  
2. На **странице Debugging**, **General** page очистите **все процессы, когда один процесс ломает** флажок.  
  
   ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
## <a name="find-the-source-and-symbol-pdb-files"></a><a name="BKMK_Find_the_source_and_symbol___pdb__files"></a> Поиск исходных файлов и файлов символов (PDB)  
 Для отображения и пошагового выполнения исходного кода процесса отладчику требуется доступ к исходным файлам и файлам символов процесса. Смотрите [«Указанный символ» (.pdb) и исходные файлы.](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)  
  
 Если не удается получить доступ к файлам процесса, для перемещения по коду можно воспользоваться окном "Дизассемблирование". Смотрите, [как: Используйте окно разборки](../debugger/how-to-use-the-disassembly-window.md)  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
## <a name="start-multiple-processes-in-a-vs-solution-attach-to-a-process-automatically-start-a-process-in-the-debugger"></a><a name="BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger"></a>Запустите несколько процессов в решении VS, приложите к процессу, автоматически запустите процесс в отладчике  
  
- [Начать отладку нескольких процессов в решении Visual Studio](#BKMK_Start_debugging_multiple_processes_in_a_Visual_Studio_solution) - [Изменить проект запуска](#BKMK_Change_the_startup_project) - Начать [конкретный проект в решении](#BKMK_Start_a_specific_project_in_a_solution) - [начать несколько проектов в решении](#BKMK_Start_multiple_projects_in_a_solution) - [прикрепить к процессу](#BKMK_Attach_to_a_process) - [автоматически запустите процесс в отладчике](#BKMK_Automatically_start_an_process_in_the_debugger)  
  
> [!NOTE]
> Отладчик не присоединяется автоматически к дочернему процессу, который запущен отлаживаемым процессом, даже если дочерний проект находится в том же решении. Чтобы отладить дочерний процесс:  
> 
> - Присоединитесь к дочернему процессу после того, как он запущен.  
> 
>   -или-  
>   - Настройте параметры Windows таким образом, что дочерний процесс автоматически запускался в новом экземпляре отладчика.  
  
### <a name="start-debugging-multiple-processes-in-a-visual-studio-solution"></a><a name="BKMK_Start_debugging_multiple_processes_in_a_Visual_Studio_solution"></a>Начать отладку нескольких процессов в решении Visual Studio  
 Если в решении Visual Studio имеется несколько проектов, которые могут выполняться независимо (проекты, выполняемые в отдельных процессах), можно выбрать, какие проекты запускаются отладчиком.  
  
 ![Изменение типа запуска для проекта](../debugger/media/dbg-execution-startmultipleprojects.png "DBG_Execution_StartMultipleProjects")  
  
#### <a name="change-the-startup-project"></a><a name="BKMK_Change_the_startup_project"></a>Изменить проект запуска  
 Чтобы изменить проект запуска для решения, выберите проект в Solution Explorer, а затем выберите **Set as Startup Project** из контекстного меню.  
  
#### <a name="start-a-specific-project-in-a-solution"></a><a name="BKMK_Start_a_specific_project_in_a_solution"></a>Запуск конкретного проекта в решении  
 Чтобы запустить проект для решения без изменения проекта запуска по умолчанию, выберите проект в Solution Explorer, а затем выберите **Debug** из контекстного меню. Затем можно выбрать **Новый экземпляр «Начало»** или **«Шаг в новый экземпляр».**  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Запуска нескольких процессов в решении VS, прикрепить к процессу, автоматически запустите процесс в отладчике](../debugger/debug-multiple-processes.md#BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger)  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
#### <a name="start-multiple-projects-in-a-solution"></a><a name="BKMK_Start_multiple_projects_in_a_solution"></a>Запуск нескольких проектов в решении  
  
1. Выберите решение в Solution Explorer, а затем выберите **Свойства** в контекстном меню.  
  
2. Выберите **Общие свойства**, **Запуск проекта** на свойства **диалогового** окна.  
  
3. Для каждого проекта, который вы хотите изменить, выберите либо **Начало,** **Запустите без отладки,** либо **Нет.**  
  
   ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Запуска нескольких процессов в решении VS, прикрепить к процессу, автоматически запустите процесс в отладчике](../debugger/debug-multiple-processes.md#BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger)  
  
   ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
### <a name="attach-to-a-process"></a><a name="BKMK_Attach_to_a_process"></a> Присоединение к процессу  
 Отладчик также может *прикрепляться* к программам, которые работают в процессах за пределами Visual Studio, включая программы, которые работают на удаленном устройстве. После присоединения к программе можно использовать команды отладчика, проверять состояние программы и выполнять другие действия. Возможности проверки программы могут быть ограничены в зависимости от того, была ли программа собрана с отладочной информацией, имеется ли доступ к исходному коду программы, а также отслеживает ли JIT-компилятор среды CLR отладочную информацию.  
  
 Для получения дополнительной [информации см.](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)  
  
 **Присоединение к процессу, выполняющемуся на локальном компьютере**  
  
 Выберите **отладка,** **прикрепите к процессу.** В диалоговом поле **Attach to Process** выберите процесс из списка **доступных процессов,** а затем выберите **Прикрепить.**  
  
 ![Прикрепите к диалоговому окне процесса](../debugger/media/dbg-attachtoprocessdlg.png "DBG_AttachToProcessDlg")  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
### <a name="automatically-start-a-process-in-the-debugger"></a><a name="BKMK_Automatically_start_an_process_in_the_debugger"></a>Автоматическое запуск процесса в отладчике  
 В некоторых случаях может потребоваться отладить код запуска для программы, которая запускается другим процессом. К ним относятся службы и действия пользовательской настройки. В этих случаях можно заставить отладчик запускаться и автоматически присоединяться при запуске приложения.  
  
1. Запустите редактор реестра **(regedit.exe**).  
  
2. Перейдите к **папке HKEY_LOCAL_MACHINE-Программное обеспечение(Microsoft-Windows NT-CurrentVersion-Image Параметры исполнения файлов.**  
  
3. Выберите папку приложения, которое требуется запустить в отладчике.  
  
    Если имя приложения не указано в папке ребенка, выберите **параметры выполнения файлов изображения,** а затем выберите **новый** **ключ** в контекстном меню. Выберите новый ключ, выберите **Переименовать** в меню ярлыка, а затем введите название приложения.  
  
4. В контекстном меню папки приложения выберите **новое** **значение строки**.  
  
5. Измените название нового значения с `debugger`нового **значения** на .  
  
6. В контекстном меню входа отладчика выберите **Modify**.  
  
7. В поле диалога Edit String `vsjitdebugger.exe` введите в поле **данных Значение.**  
  
    ![Диалоговое окно редактирования строки](../debugger/media/dbg-execution-automaticstart-editstringdlg.png "DBG_Execution_AutomaticStart_EditStringDlg")  
  
   ![Запись автоматического запуска отладчика в regedit.exe](../debugger/media/dbg-execution-automaticstart-result.png "DBG_Execution_AutomaticStart_Result")  
  
   ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
## <a name="switch-processes-break-and-continue-execution-step-through-source"></a><a name="BKMK_Switch_processes__break_and_continue_execution__step_through_source"></a>Переключение процессов, перерыв и продолжение выполнения, шаг через источник  
  
- [Переключение между процессами](#BKMK_Switch_between_processes) - [перерыв, шаг и продолжение команд](#BKMK_Break__step__and_continue_commands)  
  
### <a name="switch-between-processes"></a><a name="BKMK_Switch_between_processes"></a> Переключение между процессами  
 Во время отладки можно подключиться к нескольким процессам, но в любой момент времени только один из них будет активным в отладчике. Можно настроить активный или *текущий* процесс в панели инструментов определения местоположения debug или в окне **процессов.** Для переключения между процессами оба процесса должны находиться в режиме приостановки выполнения.  
  
 **Установка текущего процесса**  
  
- На панели инструментов «Положение оттачки» выберите **процесс** для просмотра окна списка **процессов.** Выберите процесс, который требуется установить в качестве текущего процесса.  
  
   ![Переключение между процессами](../debugger/media/dbg-execution-switchbetweenmodules.png "DBG_Execution_SwitchBetweenModules")  
  
   Если панель инструментов **Debug Location** не видна, выберите **Инструменты,** **Настройте.** На вкладке **Toolbars** выберите **расположение Debug.**  
  
- Откройте окно **Процессов** (короткий **срез Ctrl-Alt)**, найдите процесс, который вы хотите установить в качестве текущего процесса, и дважды щелкните его.  
  
   ![Окно процессов](../debugger/media/dbg-processeswindow.png "DBG_ProcessesWindow")  
  
   Текущий процесс будет отмечен желтой стрелкой.  
  
  Переключение к проекту делает этот проект текущим процессом для отладки. Статус текущего процесса отображается в любом используемом окне отладчика, и все команды пошагового выполнения влияют только на текущий процесс.  
  
  ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [процессов коммутатора, перерыв и продолжение выполнения, шаг через источник](../debugger/debug-multiple-processes.md#BKMK_Switch_processes__break_and_continue_execution__step_through_source)  
  
  ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
### <a name="break-step-and-continue-commands"></a><a name="BKMK_Break__step__and_continue_commands"></a> Команды прерывания, пошагового выполнения и продолжения выполнения  
  
> [!NOTE]
> По умолчанию предусмотренные в отладчике команды прерывания, продолжения и пошагового выполнения влияют на все отлаживаемые в данный момент процессы. Чтобы изменить это поведение, [см. Накончать поведение выполнения нескольких процессов](#BKMK_Configure_the_execution_behavior_of_multiple_processes)  
  
||||  
|-|-|-|  
|**Команды**|**Перерыв все процессы при перерыве одного процесса**<br /><br /> Флажок установлен (по умолчанию)|**Перерыв все процессы при перерыве одного процесса**<br /><br /> Очищено|  
|**Меню отладки:**<br /><br /> -   **Перерыв Все**|Все процессы приостанавливаются.|Все процессы приостанавливаются.|  
|**Меню отладки:**<br /><br /> -   **Продолжить**|Все процессы возобновляются.|Все приостановленные процессы возобновляются.|  
|**Меню отладки:**<br /><br /> -   **Шаг в шаг**<br />-   **Шаг за шагом**<br />-   **Шаг вне**|Во время выполнения шага текущего процесса все процессы выполняются.<br /><br /> Затем все процессы приостанавливаются.|Текущий процесс выполняется пошагово.<br /><br /> Приостановленные процессы возобновляются.<br /><br /> Выполняемые процессы продолжают выполняться.|  
|**Меню отладки:**<br /><br /> -   **Шаг в текущий процесс**<br />-   **Шаг над текущим процессом**<br />-   **Выйти из текущего процесса**|Недоступно|Текущий процесс выполняется пошагово.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|Окна исходного кода.<br /><br /> -   **Останова**|Все процессы приостанавливаются.|Приостанавливается только процесс окна исходного кода.|  
|Контекстное меню окна исходного кода:<br /><br /> -   **Бегите к курсору**<br /><br /> Окно исходного кода должно находиться в текущем процессе.|Все процессы выполняются, а процесс в окне исходного кода выполняется до курсора и приостанавливается.<br /><br /> После этого приостанавливаются все остальные процессы.|Процесс в окне исходного кода выполняется до курсора.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Параметры** меню контекста окна:<br /><br /> -   **Процесс разрыва**|Недоступно|Выбранный процесс приостанавливается.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Параметры** меню контекста окна:<br /><br /> -   **Продолжить процесс**|Недоступно|Выбранный процесс возобновляется.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [процессов коммутатора, перерыв и продолжение выполнения, шаг через источник](../debugger/debug-multiple-processes.md#BKMK_Switch_processes__break_and_continue_execution__step_through_source)  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
## <a name="stop-debugging-terminate-or-detach-from-processes"></a><a name="BKMK_Stop_debugging__terminate_or_detach_from_processes"></a>Остановить отладку, прекратить или отделить от процессов  
  
- [Команды остановки, окончания и отсоединения](#BKMK_Stop__terminate__and_detach_commands)  
  
  По умолчанию при выборе **Debug**, **Stop Debugging,** когда несколько процессов открыты в отладчике, отладчик прекращает или отсоединяет сядеб от всех процессов в зависимости от того, как процесс был открыт в отладчике:  
  
- Если текущий процесс был запущен в отладчике, этот процесс завершается.  
  
- Если отладчик был присоединен к текущему процессу, отладчик отсоединяется от процесса, не прекращая его выполнение.  
  
  Например, если вы начинаете отлажать процесс из решения Visual Studio, прикрепите к другому процессу, который уже запущен, а затем выберите **Stop Debugging,** сессия отладки заканчивается, процесс, запущенный в Visual Studio, завершается, в то время как процесс, который вы прикрепляется, остается запущенным. Действие команды остановки отладки можно индивидуально задать для каждого процесса с помощью описанной ниже процедуры.  
  
> [!NOTE]
> **Перерыв всех процессов, когда один процесс ломает** опцию, не влияет на остановку отладки или прекращения и отсоединение от процессов.  
  
 **Изменение влияния команды "Остановить отладку" на отдельный процесс**  
  
- Откройте окно **Процессов** (короткий срез **Ctrl-Alt)**). Выберите процесс, а затем выберите или очистить **отображение при отладке остановился флажок.**  
  
### <a name="stop-terminate-and-detach-commands"></a><a name="BKMK_Stop__terminate__and_detach_commands"></a>Остановить, прекратить и отсоединить команды  
  
|||  
|-|-|  
|**Команды**|**Описание**|  
|**Меню отладки:**<br /><br /> -   **Остановить дебукинг**|Если поведение не изменено отделом окна **процессов** **при отладке остановки** опции:<br /><br /> 1. Процессы, начатые отладчиком, прекращаются.<br />2. Прикрепленные процессы отделены от отладчика.|  
|**Меню отладки:**<br /><br /> -   **Прекратить все**|Все процессы завершаются.|  
|**Меню отладки:**<br /><br /> -   **Оттач Все**|Отладчик отсоединяется от всех процессов.|  
|**Параметры** меню контекста окна:<br /><br /> -   **Процесс отсева**|Отладчик отсоединяется от выбранного процесса.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Параметры** меню контекста окна:<br /><br /> -   **Процесс прекращения**|Выбранный процесс завершается.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Параметры** меню контекста окна:<br /><br /> -   **Отсоединить при остановке отладки**|Переключает поведение **Debug,** **переостановите отладку** для выбранного процесса:<br /><br /> - Проверено: отладчик отсоединяется от процесса.<br />- Очищено: Процесс завершается.|  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Стоп отладки, прекращения или отъемного от процессов](../debugger/debug-multiple-processes.md#BKMK_Stop_debugging__terminate_or_detach_from_processes)  
  
 ![Вернуться к началу](../debugger/media/pcs-backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
## <a name="see-also"></a>См. также:  
 [Указать символ (.pdb) и исходные файлы](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)   
 [Прикрепите к процессам выполнения](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [Навигация по Коду с Debugger](../debugger/navigating-through-code-with-the-debugger.md)   
 [Просто-в-времени отладка](../debugger/just-in-time-debugging-in-visual-studio.md)   
 [Отладка многопоточных приложений](../debugger/debug-multithreaded-applications-in-visual-studio.md)
