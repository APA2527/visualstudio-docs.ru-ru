---
title: Приступая к работе с диагностикой графики | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
ms.assetid: 59131181-1caa-4b7f-be4b-e84709634edf
caps.latest.revision: 10
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: a69b6fd2f96f737d032676e5cd250a985bf69fb6
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63446466"
---
# <a name="getting-started-with-visual-studio-graphics-diagnostics"></a>Начало работы с диагностикой графики Visual Studio
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

В этом разделе вы подготовитесь к первому использованию диагностики графики, а затем запишите кадры из приложения Direct3D и проверите их в анализаторе графики.

## <a name="requirements"></a>Требования
 Для использования диагностики графики в Visual Studio 2015 необходим один из следующих выпусков:

- Visual Studio 2015 Enterprise

- Visual Studio 2015 Professional

- Visual Studio 2015 Community

  [!INCLUDE[downloadvs](../includes/downloadvs-md.md)]

### <a name="windows-10-prerequisites"></a>Необходимые компоненты для Windows 10
 Необязательный компонент Windows *Графические инструменты* предоставляет инфраструктуру записи и воспроизведения, которая необходима для диагностики графики в Windows 10.

 Сведения об установке графических инструментов см. в разделе [Установка графических инструментов для Windows 10](#InstallGraphicsTools).

### <a name="windows-81-prerequisites"></a>Необходимые компоненты для Windows 8.1
 Пакет средств разработки программного обеспечения Windows (SDK) для Windows 8.1 предоставляет инфраструктуру записи и воспроизведения, необходимую для диагностики графики в Windows 8.1, и поддерживает разработку для Windows 8.1 и Windows 8.

 [Скачать Windows Software Development Kit (SDK) для Windows 8.1](https://msdn.microsoft.com/windows/desktop/bg162891.aspx)

 Чтобы использовать удаленный компьютер воспроизведения под управлением Windows 10 с компьютера разработки под управлением Windows 8.1, необходимо установить пакет SDK для Windows 10 на компьютере разработки и необязательный компонент графических инструментов на компьютере воспроизведения.

## <a name="InstallGraphicsTools"></a> Установка графических инструментов для Windows 10
 В Windows 10 инфраструктура диагностики графики предоставляется дополнительным компонентом Windows, который называется *Графические инструменты*. Данный компонент необходим для записи и воспроизведения графической информации в Windows 10 независимо от того, производится ли запись для приложения, настроенного на предыдущую версию Windows, и какую версию Direct3D оно использует. Вы можете установить компонент графических инструментов заранее; в противном случае он будет установлен по требованию при первом запуске сеанса диагностики графики из Visual Studio.

#### <a name="to-install-graphics-tools-for-windows-10"></a>Установка графических инструментов для Windows 10

1. На **запустить** меню, выберите **параметры**. **Параметры** откроется диалоговое окно.

2. В **параметры** диалоговом окне выберите **системы**, а затем выберите **установленные приложения** из списка системных параметров.

3. В правой части **параметры** диалоговом окне выберите **управление дополнительными компонентами** под **установленных приложениях и компонентах**. Отображается диалоговое окно **Управление дополнительными компонентами**.

4. В диалоговом окне **Управление дополнительными компонентами** выберите элемент **Добавить компонент**. Появится список дополнительных компонентов, которые можно установить.

5. Выберите **Графические инструменты** в списке компонентов, а затем нажмите кнопку **Установить**.

   Компонент графических инструментов также устанавливается автоматически при установке пакета SDK для Windows 10.

> [!TIP]
> Дополнительный компонент графических инструментов Windows 10 предоставляет упрощенные возможности записи и воспроизведения, например программу командной строки для захвата **dxcap.exe**, которые можно использовать в сценариях поддержки, тестирования и диагностики на компьютерах, где не установлены инструменты разработчика. Дополнительные сведения — в разделе [Программа командной строки для захвата](../debugger/command-line-capture-tool.md).

## <a name="using-graphics-diagnostics-for-the-first-time"></a>Использование диагностики графики в первый раз
 Теперь, когда у вас есть все необходимое, можно приступать к использованию диагностики графики. Выполните следующие действия.

### <a name="1---create-a-direct3d-app"></a>1 Создание приложения Direct3D
 Если у вас уже есть свое приложение Direct3D для изучения диагностики графики, это замечательно! В противном случае можно использовать один из доступных образцов Direct3D в коллекции исходных кодов.

- Чтобы оценить диагностику графики с Direct3D 12 в Windows 10 с помощью Visual Studio 2015, попробуйте [образцом Direct3D 12 UAP](https://code.msdn.microsoft.com/Direct3D-12-UAP-Sample-ecb1779f) для Windows 10.

- Чтобы оценить диагностику графики с Direct3D 11 в Windows 10 или Windows 8.1, можно использовать **приложение DirectX (универсальное для Windows)** или **приложение DirectX (Windows 8.1)** шаблоны проектов. Или, для более интересного [пример игры DirectX marble maze](https://code.msdn.microsoft.com/windowsapps/DirectX-Marble-Maze-Game-e4806345) для Windows 8.1.

  Прежде чем продолжить убедитесь, что можете выполнить сборку приложения.

### <a name="2---start-a-graphics-diagnostics-session"></a>2 Запуск сеанса диагностики графики
 Теперь все готово для запуска первого сеанса диагностики графики. В Visual Studio в главном меню выберите **отладка, графика, Начать диагностику**, или просто нажмите **Alt + F5**. При этом ваше приложение запускается в режиме диагностики графики и отображаются окна сеанса диагностики в Visual Studio.

> [!IMPORTANT]
> Если приложение запускается в Windows 10 и еще не был установлен дополнительный компонент графических инструментов, вам будет предложено сделать это. Необходимо установить этот компонент, прежде чем можно будет использовать диагностику графики в Windows 10.

### <a name="3---capture-frames"></a>3 Запись кадров
 Вы можете записывать кадры сразу после запуска приложения.

##### <a name="to-capture-single-frames"></a>Запись отдельных кадров

- В Visual Studio на панели инструментов графики или в окне сеанса диагностики нажмите кнопку **Записать кадр**. Или, если ваше приложение имеет фокус, просто нажмите клавиши **Print Screen**.

##### <a name="to-capture-a-sequence-of-frames"></a>Запись последовательности кадров

- В Visual Studio в окне сеанса диагностики установите для параметра **Захватываемые кадры** число кадров для записи в последовательности, а затем запишите последовательность с помощью любого из методов, описанных выше для отдельных кадров.

   Для отдельных кадров снова, задайте **кадров для захвата** для `1`.

  После завершения записи кадров просто выйдите из приложения или нажмите кнопку **Остановить** на панели графики или в окне сеанса диагностики.

### <a name="4--examine-captured-frames-in-the-graphics-analyzer"></a>4 Проверка записанных кадров в анализаторе графики
 Теперь все готово для анализа полученных кадров. Чтобы начать анализ кадра, выберите номер соответствующего кадра в окне сеанса диагностики. При этом кадр открывается в **анализаторе графики**, где можно использовать инструменты диагностики графики, чтобы проанализировать использование Direct3D приложением для отслеживания проблем отрисовки, или применить инструмент **Анализ кадра**, чтобы получить представление о производительности приложения.

 Если вы выбрали неверный кадр в окне сеанса диагностики или вы хотите проанализировать другой кадр, можно выбрать новый кадр в анализаторе графики. На вкладке **Целевой объект отрисовки** окна журнала графики в области образа цели отрисовки разверните **Список кадров** и выберите другой кадр для изучения.

 Дополнительные сведения о том, как совместное использование инструментов анализа графики, см. в разделе [примеры](../debugger/graphics-diagnostics-examples.md).

## <a name="see-also"></a>См. также
 [Графика Direct3D 12](http://msdn.microsoft.com/52094ae3-3b44-4689-9ee7-1ba1b3a779cb)
