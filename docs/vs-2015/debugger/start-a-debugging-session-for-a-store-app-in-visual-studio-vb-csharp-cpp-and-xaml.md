---
title: Запуск сеанса отладки для приложения Store (VB, C#, C++ и XAML) | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- VC.Project.IVCAppHostRemoteDebugPageObject.MachineName
- VC.Project.IVCAppHostRemoteDebugPageObject.BreakpointBehavior
- VC.Project.IVCAppHostLocalDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostTetheredDebugPageObject.DebuggerType
- VC.Project.IVCAppHostLocalDebugPageObject.BreakpointBehavior
- VC.Project.IVCAppHostRemoteDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostRemoteDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostLocalDebugPageObject.DebuggerType
- VC.Project.IVCAppHostSimulatorDebugPageObject.DebuggerType
- ImmersiveProjects.Properties.Debug
- VC.Project.IVCAppHostTetheredDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostSimulatorDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostSimulatorDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostLocalDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostLocalDebugPageObject.AllowLocalNetworkLoopback
- AppPackage.Properties.Debug
- VC.Project.IVCAppHostRemoteDebugPageObject.Authentication
- VC.Project.IVCAppHostRemoteDebugPageObject.DebuggerType
- VC.Project.IVCAppHostSimulatorDebugPageObject.BreakpointBehavior
dev_langs:
- FSharp
- VB
- CSharp
- C++
ms.assetid: 66ec0e79-8261-4c19-a618-3fd1b3f71bbd
caps.latest.revision: 23
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: dd61ea128093735a69ad9b1f30cddc593b5856a4
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63440442"
---
# <a name="start-a-debugging-session-for-a-store-app-in-visual-studio-vb-c-c-and-xaml"></a>Запуск сеанса отладки для приложения Магазина в Visual Studio (VB, C#, C++ и XAML)
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Применяется к Windows и Windows Phone] (.. /Image/windows_and_phone_content.PNG «windows_and_phone_content»)

 В этом разделе описывается запуск сеанса отладки приложений Магазина, написанных на языке XAML и Visual C++, Visual C# или Visual Basic. Отладка приложения подразумевает настройку сеанса отладки и выбор способа запуска приложения.

> [!NOTE]
> Для приложений, написанных на JavaScript и HTML см. в разделе [начать сеанс отладки (JavaScript)](../debugger/start-a-debugging-session-for-store-apps-in-visual-studio-javascript.md).

## <a name="BKMK_In_this_topic"></a> Содержание раздела
 [Простой способ запуска отладки](#BKMK_The_easy_way_to_start_debugging)

 [Настройка сеанса отладки](#BKMK_Configure_the_debugging_session)

- [Откройте страницу свойств отладки для данного проекта.](#BKMK_Open_the_debugging_property_page_for_the_project)

- [Выберите параметры конфигурации построения](#BKMK_Choose_the_build_configuration_options)

- [Выберите целевой объект развертывания](#BKMK_Choose_the_deployment_target)

- [Выбор отладчика](#BKMK_Choose_the_debugger_to_use)

- [(Необязательно) Задержка запуска сеанса отладки](#BKMK__Optional__Delay_starting_the_debug_session)

- [(Необязательно) Отключите сетевое замыкание на себя](#BKMK__Optional__Disable_network_loopbacks)

- [(Необязательно) Переустановите приложения при запуске отладки](#BKMK__Optional__Reinstall_the_app_when_you_start_debugging)

- [(Необязательно). Отключите требование аутентификации для запуска удаленного отладчика](#BKMK__Optional__Disable_authentication_requirement_to_start_the_remote_debugger)

  [Запуск сеанса отладки](#BKMK_Start_the_debugging_session)

- [Начать отладку (F5)](#BKMK_Start_debugging__F5_)

- [Начать отладку (F5), но отложить запуск приложения](#BKMK_Start_debugging__F5__but_delay_the_app_start)

- [Запуск установленного приложения в отладчике](#BKMK_Start_an_installed_app_in_the_debugger)

- [Подключение отладчика к выполняемому приложению](#BKMK_Attach_the_debugger_to_a_running_app_)

  - [Настройте приложение для запуска в режиме отладки.](#BKMK_Set_the_app_to_run_in_debug_mode)

  - [Подключение отладчика](#BKMK_Attach_the_debugger)

## <a name="BKMK_The_easy_way_to_start_debugging"></a> Простой способ запуска отладки

1. Откройте приложение в Visual Studio.

2. Нажмите клавишу F5.

   Visual Studio создает и запускает приложение с прикрепленным отладчиком. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения. Дополнительные сведения см. в разделе [Навигация по сеансу отладки (Xaml и C#)](../debugger/navigate-a-debugging-session-in-visual-studio-xaml-and-csharp.md) .

## <a name="BKMK_Configure_the_debugging_session"></a> Настройка сеанса отладки

### <a name="BKMK_Open_the_debugging_property_page_for_the_project"></a> Откройте страницу свойств отладки для данного проекта.

1. Выберите проект в Обозревателе решений. В контекстном меню выберите **Свойства**.

2. Выполните это, чтобы открыть страницу свойств отладки для проекта.

    - В Visual C# и Visual Basic выберите **Отладка**.

         ![C&#35; &#47; страницу свойств отладки проекта VB](../debugger/media/dbg-csvb-debugpropertypage.png "DBG_CsVb_DebugPropertyPage")

    - В Visual C++ разверните узел **Свойства конфигурации**  и выберите **Отладка**.

         ![C&#43; &#43; страница свойств отладки приложения Windows Store](../debugger/media/dbg-cpp-debugpropertypage.png "DBG_CPP_DebugPropertyPage")

### <a name="BKMK_Choose_the_build_configuration_options"></a> Выберите параметры конфигурации построения

1. В списке **Конфигурация** выберите **Отладка** или **(Активный) Debug**.

2. В списке **Платформа** выберите целевую платформу для построения. В большинстве случаев лучшим вариантом является **Any CPU** (**Все платформы** в Visual C++).

### <a name="BKMK_Choose_the_deployment_target"></a> Выберите целевой объект развертывания
 ![Применяется только к Windows](../debugger/media/windows-only-content.png "windows_only_content")

 Можно развернуть и отладить приложение Магазина Windows на компьютере с Visual Studio, в имитаторе Visual Studio на локальном компьютере или на удаленном устройстве.

- Для приложений C# и Visual Basic выберите целевую платформу в списке **Целевое устройство** на странице свойств **Отладка** данного проекта.

- Для приложений C++ выберите целевую платформу в списке **Отладчик для запуска** на странице свойств **Отладка** .

  Выберите один из следующих вариантов.

|||
|-|-|
|**Локальный компьютер**|Отладка приложения в текущем сеансе на локальном компьютере. См. в разделе [Run Windows Store apps на локальном компьютере](../debugger/run-windows-store-apps-on-the-local-machine.md).|
|**Имитатор**|Отладка приложения в имитаторе Visual Studio для приложений [!INCLUDE[win8_appname_long](../includes/win8-appname-long-md.md)] . Имитатор представляет собой окно на рабочем столе, которое позволяет отлаживать недоступные на локальном компьютере функциональные возможности устройства, такие как сенсорный ввод и поворот устройства. См. в разделе [Windows Store выполнения приложений в симуляторе](../debugger/run-windows-store-apps-in-the-simulator.md).|
|**Удаленный компьютер**|Отладка приложения на устройстве, подключенном к локальному компьютеру по интрасети или подсоединенном с помощью кабеля Ethernet напрямую. Для удаленной отладки на удаленном устройстве должны быть установлены и запущены инструменты удаленной отладки Visual Studio. См. в разделе [приложения Windows Store выполнения на удаленном компьютере](../debugger/run-windows-store-apps-on-a-remote-machine.md).|

 При выборе пункта **Удаленный компьютер**укажите имя или IP-адрес удаленного компьютера одним из следующих способов.

- Введите имя или IP-адрес удаленного компьютера.

  - Для приложений C# и Visual Basic введите имя или IP-адрес в поле **Удаленный компьютер** .

  - Для приложений C++ введите имя или IP-адрес в поле **Имя компьютера** .

- Выберите удаленный компьютер из диалогового окна **Выбрать подключение к удаленному отладчику** .

   Открытие диалогового окна

  - В приложениях C# и Visual Basic выберите **Найти**.

  - В приложениях C++ щелкните стрелку вниз в **имя машины** можно выбрать  **\<поиск... >**.

    ![Выберите диалоговое окно подключения к удаленному отладчику](../debugger/media/vsrun-selectremotedebuggerdlg.png "VSRUN_SelectRemoteDebuggerDlg")

  > [!NOTE]
  > В диалоговом окне **Выбрать подключение к удаленному отладчику** отображаются компьютеры в локальной подсети и компьютеры, непосредственно подключенные к компьютеру Visual Studio с помощью кабеля Ethernet. Чтобы указать другой компьютер, введите имя в поле **Имя компьютера** .

  ![Применяется только к Windows Phone](../debugger/media/phone-only-content.png "phone_only_content")

  Приложения Магазина Windows Phone можно развернуть на телефоне или одном из эмуляторов телефона Visual Studio. Выберите устройство или эмулятор из списка **Целевое устройство** .

### <a name="BKMK_Choose_the_debugger_to_use"></a> Выбор отладчика
 По умолчанию Visual Studio выполняет отладку управляемого кода в приложениях C# и Visual Basic.

 В приложениях C# и Visual Basic можно выбрать отладку управляемого и машинного кода C/C++. Установите флажок **Включить отладку неуправляемого кода** , чтобы включить машинный код в сеанс отладки.

 По умолчанию Visual Studio отлаживает машинный код в приложении С++.

 В приложениях C++ можно выполнить отладку конкретных типов кода, встречающихся в компонентах приложения, вместо машинного кода или в дополнение к нему. Указать код для отладки можно в списке **Тип отладчика** на странице свойств **Отладка** проекта приложения.

 Выберите один из следующих отладчиков из списка **Процесс приложения** :

|||
|-|-|
|**Только скрипт**|Отладка кода JavaScript в приложении. Управляемый код и машинный код игнорируются.|
|**Только машинный код**|Отладка машинного кода C/C++ в приложении. Управляемый код и код JavaScript игнорируются.|
|**Только управляемый код**|Отладка управляемого кода в приложении. Код JavaScript и машинный код C/C++ игнорируются.|
|**Смешанный (управляемый и машинный)**|Отладка машинного кода C/C++ и управляемого кода в приложении. Код JavaScript игнорируется.|
|**Только GPU**|Отладка машинного кода C++, который выполняется в графическом процессоре (GPU).|

 ![Применяется только к Windows Phone](../debugger/media/phone-only-content.png "phone_only_content")

 Для приложений Магазина Windows Phone можно также выбрать отладчик, используемый для фоновых процессов, в поле **Процесс фоновой задачи**.

### <a name="BKMK__Optional__Delay_starting_the_debug_session"></a> (Необязательно) Задержка запуска сеанса отладки
 По умолчанию Visual Studio немедленно запускает приложение при запуске отладки. Однако можно начать сеанс отладки, но отложить запуск приложения. При выборе этого варианта приложение открывается в отладчике при запуске приложения с экрана "Запуск", по контракту активации или запуске другим процессом или методом. Кроме того, запуск приложения задерживается, если требуется отладить фоновую задачу, когда само приложение не запущено.

 Чтобы запустить приложение с задержкой, можно выполнить следующие действия.

- В приложениях Visual C# и Visual Basic выберите **Не запускать, но отлаживать код при начале работы** на странице свойств **Отладка** .

- В приложениях Visual C++ выберите **Да** в списке **Запустить приложение** на странице свойств **Отладка** .

### <a name="BKMK__Optional__Disable_network_loopbacks"></a> (Необязательно) Отключите сетевое замыкание на себя
 ![Применяется только к Windows](../debugger/media/windows-only-content.png "windows_only_content")

 Из соображений безопасности приложению для Магазина Windows, установленному стандартным образом, не разрешается выполнять сетевые вызовы к устройству, на котором оно установлено. По умолчанию Visual Studio создает для развертываемого приложения исключение из этого правила. Это исключение позволяет тестировать процедуры обмена данными на одном компьютере. Прежде чем отправлять приложение в Магазин Windows, необходимо протестировать приложение без этого исключения.

 Чтобы удалить исключение из правила сетевого замыкания на себя, выполните следующие действия:

- Для Visual C# и Visual Basic снимите флажок **Разрешить замыкание на себя в локальной сети** на странице свойств **Отладка** .

- В приложениях Visual C++ выберите **Нет** в списке **ЗРазрешить замыкание на себя в локальной сети** на странице свойств **Отладка** .

### <a name="BKMK__Optional__Reinstall_the_app_when_you_start_debugging"></a> (Необязательно) Переустановите приложения при запуске отладки
 Для диагностики проблемы с установкой и первоначальной конфигурацией приложения Visual C# или Visual Basic выберите **Удалить, а затем переустановить пакет** на странице свойств **Отладка**  , чтобы создать исходную установку при запуске отладки. Этот параметр не доступен для проектов Visual C++.

### <a name="BKMK__Optional__Disable_authentication_requirement_to_start_the_remote_debugger"></a> (Необязательно). Отключите требование аутентификации для запуска удаленного отладчика
 ![Применяется только к Windows](../debugger/media/windows-only-content.png "windows_only_content")

 По умолчанию для запуска удаленного отладчика необходимо вводить учетные данные.

> [!IMPORTANT]
> Можно выбрать выполнение удаленного отладчика в режиме "без аутентификации", однако настоятельно рекомендуется не использовать этот режим. При работе в этом режиме сетевая безопасность не обеспечивается. Режим без аутентификации можно выбрать, только если имеется полная уверенность в отсутствии вредоносного или опасного трафика.

 Удаление требования аутентификации:

1. Для Visual C# и Visual Basic снимите флажок **Использовать аутентификацию** на странице свойств **Отладка** .

2. В приложениях Visual C++ выберите **Нет** в списке **Требуется аутентификация** на странице свойств **Отладка** .

   [Содержание раздела](#BKMK_In_this_topic)

## <a name="BKMK_Start_the_debugging_session"></a> Запуск сеанса отладки

### <a name="BKMK_Start_debugging__F5_"></a> Начать отладку (F5)
 При выборе **начать отладку** (клавиатуры: F5) на **Отладка** меню Visual Studio запускает приложение с подключенным отладчиком. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

### <a name="BKMK_Start_debugging__F5__but_delay_the_app_start"></a> Начать отладку (F5), но отложить запуск приложения
 Приложение можно настроить для выполнения в режиме отладки, но запускать его не отладчиком, а другим методом. Например, может потребоваться выполнить отладку запуска приложения из меню "Пуск" или отладку какого-либо фонового процесса в приложении без запуска приложения. Чтобы задержать запуск приложения, выполните следующие действия.

- На странице свойств **Отладка** приложения (**Отладка** в Visual C++)

  - В приложениях Visual C# и Visual Basic выберите **Не запускать, а отлаживать мой код при открытии**.

  - В приложениях Visual C++ выберите **Да** из списка **Запустить приложение** .

- Выберите **начать отладку** на **Отладка** меню (клавиатуры: F5).

- Запустите приложение из меню "Пуск", по контракту исполнения или другой процедурой.

  Приложение запускается в режиме отладки. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

  . Дополнительные сведения об отладке фоновых задач см. в разделе [триггера приостановки, возобновления и фоновых событий для Windows Store)](../debugger/how-to-trigger-suspend-resume-and-background-events-for-windows-store-apps-in-visual-studio.md).

### <a name="BKMK_Start_an_installed_app_in_the_debugger"></a> Запуск установленного приложения в отладчике
 При запуске отладки нажатием клавиши F5 Visual Studio выполняет построение приложения и развертывает его, настраивает приложение для выполнения в режиме отладки и затем запускает его. Чтобы запустить приложение, уже установленное на устройстве, используйте диалоговое окно "Отлаживать установленный пакет приложения". Эта процедура применима при необходимости выполнить отладку приложения, установленного из Магазина Windows, или при наличии исходных файлов для приложения, но отсутствии для него проекта Visual Studio. Например, установлена специальная система построений, в которой не используются проекты и решения Visual Studio.

 Приложение может быть установлено на локальном или удаленном устройстве.  Его можно запустить немедленно или настроить для выполнения в отладчике при запуске другим процессом или методом, например из меню "Пуск" или по контракту на активацию. Приложение также можно настроить для выполнения в режиме отладки, если требуется выполнить отладку какого-либо фонового процесса, не запуская приложение. Дополнительные сведения см. в разделе [триггера приостановки, возобновления и фоновых событий для Windows Store)](../debugger/how-to-trigger-suspend-resume-and-background-events-for-windows-store-apps-in-visual-studio.md).

 Чтобы настроить установленное приложение для выполнения в режиме отладки, выполните следующие действия.

> [!NOTE]
> В начале выполнения этой процедуры приложение не должно выполняться.

1. В меню **Отладка** выберите команду **Отладка Installed App Package**.

2. Выберите в списке один из следующих вариантов.

   |                    |                                                                                                                                                                                                                                                                                                                                                                                                           |
   |--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **Локальный компьютер**  |                                                                                                                Отладка приложения в текущем сеансе на локальном компьютере. См. в разделе [Run Windows Store apps на локальном компьютере](../debugger/run-windows-store-apps-on-the-local-machine.md).                                                                                                                 |
   |   **Имитатор**    | Отладка приложения в имитаторе Visual Studio для приложений [!INCLUDE[win8_appname_long](../includes/win8-appname-long-md.md)] . Имитатор представляет собой окно на рабочем столе, которое позволяет отлаживать недоступные на локальном компьютере функциональные возможности устройства, такие как сенсорный ввод и поворот устройства. См. в разделе [Windows Store выполнения приложений в симуляторе](../debugger/run-windows-store-apps-in-the-simulator.md). |
   | **Удаленный компьютер** |                          Отладка приложения на устройстве, подключенном к локальному компьютеру по интрасети или подсоединенном с помощью кабеля Ethernet напрямую. Для удаленной отладки на удаленном устройстве должны быть установлены и запущены удаленные средства Visual Studio. См. в разделе [приложения Windows Store выполнения на удаленном компьютере](../debugger/run-windows-store-apps-on-a-remote-machine.md).                           |

3. Выберите приложение в списке **Установленные пакеты приложений** .

4. Выберите подлежащий использованию модуль отладки в списке **Отлаживать этот тип кода** .

5. (Необязательно). Выберите **Не запускать, а отлаживать мой код при открытии** , чтобы выполнить отладку приложения при его запуске некоторым другим методом или отладку фонового процесса.

   При щелчке **Запуск**приложение запускается или настраивается для выполнения в режиме отладки.

### <a name="BKMK_Attach_the_debugger_to_a_running_app_"></a> Подключение отладчика к выполняемому приложению
 Чтобы подключить отладчик к приложению [!INCLUDE[win8_appname_long](../includes/win8-appname-long-md.md)] , нужно воспользоваться диспетчером отлаживаемых пакетов и настроить приложение на выполнение в режиме отладки. Диспетчер отлаживаемых пакетов устанавливается вместе с инструментами удаленной отладки Visual Studio.

 Подключение отладчика к приложению полезно, когда требуется отладить уже установленное приложение, например приложение, устанавливаемое из [!INCLUDE[win8_appstore_long](../includes/win8-appstore-long-md.md)]. Подключение необходимо, когда имеются исходные файлы приложения, но отсутствует проект Visual Studio для приложения. Например, установлена специальная система построений, в которой не используются проекты и решения Visual Studio.

 Чтобы подключить отладчик к приложению, выполните следующие действия.

1. Настройте приложение для запуска в режиме отладки. Это нужно делать, когда приложение не выполняется.

2. Запустите приложение. Можно запустить приложение с экрана "Запуск", по контракту исполнения или другим методом.

3. Подключите отладчик к выполняемому приложению.

#### <a name="BKMK_Set_the_app_to_run_in_debug_mode"></a> Настройте приложение для запуска в режиме отладки.

1. Установите инструменты удаленной отладки Visual Studio на устройстве, на котором установлено приложение. См. раздел [Установка инструментов удаленной отладки](http://msdn.microsoft.com/library/windows/apps/hh441469.aspx#BKMK_Installing_the_Remote_Tools).

2. На экране "Запуск" найдите `Debuggable Package Manager` и запустите его.

     Отобразится окно PowerShell, настроенное для работы с командлетами AppxDebug.

3. Чтобы включить отладку приложения, необходимо задать идентификатор приложения PackageFullName. Чтобы просмотреть список всех приложений с идентификатором PackageFullName, введите `Get-AppxPackage` в командной строке PowerShell.

4. В командной строке PowerShell введите `Enable-AppxDebug` *ПолноеИмяПакета* , где *ПолноеИмяПакета* — идентификатор "ПолноеИмяПакета" данного приложения.

#### <a name="BKMK_Attach_the_debugger"></a> Подключение отладчика
 Чтобы подключить отладчик, выполните следующие действия.

1. В меню **Отладка** выберите пункт **Присоединение к процессу**.

    Откроется диалоговое окно **Присоединение к процессу** .

2. Чтобы подключить отладчик к приложению на удаленном устройстве, укажите это удаленное устройство в поле **Квалификатор** . Можно выполнить следующие действия.

   - Введите имя в поле **Квалификатор** .

   - Щелкните стрелку вниз в поле **Квалификатор** и выберите устройство из списка устройств, к которым ранее подключался отладчик.

   - Щелкните **Найти** , чтобы выбрать устройство из списка устройств в локальной подсети.

3. Укажите тип кода, который нужно отладить, в поле **Присоединить к** .

    Щелкните **Выбрать** и выполните одно из следующих действий.

   - Щелкните **Автоматически определять тип отлаживаемого кода**

   - Щелкните **Выполнять отладку кода следующих типов** и выберите один или несколько типов из списка.

4. В списке **Доступные процессы**  выберите процесс приложения.

5. Выберите **Присоединиться**.

   Visual Studio подключает отладчик к процессу. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

   [Содержание раздела](#BKMK_In_this_topic)

## <a name="see-also"></a>См. также
 [Отладка приложений в Visual Studio](../debugger/debug-store-apps-in-visual-studio.md) [Навигация по сеансу отладки (Xaml и C#)](../debugger/navigate-a-debugging-session-in-visual-studio-xaml-and-csharp.md)
