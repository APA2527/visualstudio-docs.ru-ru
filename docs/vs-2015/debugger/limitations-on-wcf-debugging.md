---
title: Ограничения на отладку WCF | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- debugging, WCF
- WCF, debugging limitations
ms.assetid: 8e0333c4-1ddc-4abe-8f1c-d19bf6a2a07a
caps.latest.revision: 33
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 3faa57a0a2ca413898364c2d4ad1891df85f1ce8
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "68176798"
---
# <a name="limitations-on-wcf-debugging"></a>Ограничения на отладку WCF
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Существуют три способа, позволяющих начать отладку службы WCF:  
  
- Отладка клиентского процесса, который вызывает службу. Отладчик выполняет шаг с заходом в службу. Служба и используемое клиентское приложение не обязательно должны находиться в одном и том же решении.  
  
- Отладка клиентского процесса, который отправляет запрос службе. Служба должна быть частью решения.  
  
- Использование диалогового окна **Присоединение к процессу** для присоединения текущей работающей службы. Отладка начинается внутри службы.  
  
  В этом разделе описаны ограничения на применение данных сценариев.  
  
## <a name="limitations-on-stepping-into-a-service"></a>Ограничения на выполнение шага с заходом в службу  
 Чтобы выполнить шаг с заходом в службу из отлаживаемого клиентского приложения, необходимо соблюдать следующие условия.  
  
- Для вызова службы клиент должен использовать синхронный клиентский объект.  
  
- Операция контракта не может быть односторонней.  
  
- Если сервер асинхронный, то при выполнении кода внутри службы невозможно просмотреть полный стек вызовов.  
  
- В файле app.config или Web.config должна быть включена отладка с помощью показанного ниже кода.  
  
    ```  
    <system.web>  
      <compilation debug="true" />  
    </system.web>  
    ```  
  
     Этот код требуется добавить только один раз. Его можно добавить, внеся изменения в файл .config или выполнив присоединение к службе с помощью диалогового окна **Присоединение к процессу**. При использовании диалогового окна **Присоединение к процессу** код отладки добавляется к файлу .config автоматически. После этого можно выполнить отладку и выполнить шаг с заходом в службу, не изменяя файл .config.  
  
## <a name="limitations-on-stepping-out-of-a-service"></a>Ограничения на выполнение шага с выходом из службы  
 В отношении выхода из пошагового выполнения службы и возвращения к клиенту действуют те же ограничения, что и для шага с заходом в службу. Кроме того, отладчик должен быть присоединен к клиенту. Если во время отладки клиента производится шаг с заходом в службу, отладчик остается присоединенным к службе. Это справедливо как в случае запуска клиента с помощью команды **Начать отладку**, так и в случае присоединения к клиенту с помощью диалогового окна **Присоединение к процессу**. Если отладка начинается путем присоединения к службе, отладчик больше не будет присоединен к клиенту. В таком случае при необходимости выхода из пошагового выполнения службы и возвращения к клиенту необходимо сначала присоединиться к клиенту вручную, используя диалоговое окно **Присоединение к процессу**.  
  
## <a name="limitations-on-automatic-attach-to-a-service"></a>Ограничения на автоматическое присоединение к службе  
 Автоматическое присоединение к службе имеет следующие ограничения:  
  
- Служба должна быть частью решения [!INCLUDE[vsprvs](../includes/vsprvs-md.md)], для которого выполняется отладка.  
  
- Служба должна быть размещена. Служба может быть частью проекта веб-сайта (файловая система или HTTP), проекта веб-приложения (файловая система или HTTP) или проекта библиотеки служб WCF. Проекты библиотеки служб WCF могут быть либо библиотеками служб, либо библиотеками служб рабочих процессов.  
  
- Обращение к службе должно производиться из клиента WCF.  
  
- В файле app.config или Web.config должна быть включена отладка с помощью показанного ниже кода.  
  
    ```  
    <system.web>  
      <compilation debug="true" />  
    <system.web>  
    ```  
  
## <a name="self-hosting"></a>Резидентное размещение  
 *Резидентная служба* является службой WCF, которая не запускается внутри IIS, узла службы WCF или сервера разработки [!INCLUDE[vstecasp](../includes/vstecasp-md.md)]. Сведения об отладке резидентной службы см. в разделе [как: Отладка резидентной службы WCF](../debugger/how-to-debug-a-self-hosted-wcf-service.md).  
  
## <a name="self-hosting"></a>Резидентное размещение  
 Чтобы включить отладку приложений [!INCLUDE[vstecasp](../includes/vstecasp-md.md)] версии 3.0 или 3.5, следует установить [!INCLUDE[vstecasp](../includes/vstecasp-md.md)] версии 3.0 или 3.5 до установки [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)]. Если [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] установлен до установки [!INCLUDE[vstecasp](../includes/vstecasp-md.md)] версии 3.0 или 3.5, при попытке отладки приложения [!INCLUDE[vstecasp](../includes/vstecasp-md.md)] 3.0 или 3.5 возникает ошибка. Сообщение об ошибке: "Не удалось автоматически выполнить шаг на сервере". Чтобы устранить эту проблему, используйте Windows **панели управления**, **программы и компоненты** для восстановления вашей [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] установки.  
  
## <a name="see-also"></a>См. также  
 [Отладка служб WCF](../debugger/debugging-wcf-services.md)   
 [Практическое руководство. Отладка резидентной службы WCF](../debugger/how-to-debug-a-self-hosted-wcf-service.md)
