---
title: Практическое руководство. Обеспечение поддерживаемого кода с помощью политики возврата с анализом кода
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- code analysis, check-in policies
ms.assetid: d1b3b04f-4dd9-40e6-b2d4-b414d33fb647
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 7139c952b40957a564fcd4074b1c931817dfb851
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62815841"
---
# <a name="how-to-enforce-maintainable-code-with-a-code-analysis-check-in-policy"></a>Практическое руководство. Обеспечение простоты поддержки кода с политикой возврата анализа кода

Разработчики могут использовать средство метрики кода для измерения сложности и удобства поддержки кода, но не может вызывать метрики кода как часть политики возврата. Тем не менее можно включить правила анализа кода, проверка соответствия кода стандартам метрик кода и принудительное применение правил с помощью политик возврата. Дополнительные сведения о метриках кода см. в разделе [значения метрик кода](../code-quality/code-metrics-values.md).

Вы можете включить глубина наследования, Связанность классов, индекс удобства поддержки и сложность правил для обеспечения удобства поддержки кода с помощью политики возврата анализа кода. Все четыре этих правил можно найти в категории «Правила удобства поддержки» в редактор политики анализа кода.

Администраторы системы управления версиями Team Foundation можно добавить правила удобства поддержки кода анализа требования политик возврата. Возврата политиками разработчиков запустить анализ кода на основе этих правил изменений перед запуском процесса возврата.

## <a name="to-open-the-code-analysis-policy-editor"></a>Чтобы открыть редактор политики анализа кода

1. В **Team Explorer**, щелкните правой кнопкой мыши проект, нажмите кнопку **параметры проекта**, а затем нажмите кнопку **системы управления версиями**.

     **Системы управления версиями** откроется диалоговое окно.

2. На **политики возврата** , а щелкните **добавить**.

     **Добавления политики возврата** откроется диалоговое окно.

3. В **политики возврата** выберите **анализа кода** флажок и нажмите кнопку **ОК**.

     **Редактор политики анализа кода** откроется диалоговое окно.

## <a name="to-enable-code-analysis-maintainability-rules"></a>Чтобы включить правила удобства поддержки анализа кода

1. В **редактор политики анализа кода** диалогового **параметры правил**, разверните **правила удобства поддержки** узла.

2. Установите флажки для перечисленных ниже правил:

   - Глубина наследования: **CA1501 AvoidExcessiveInheritance** -пороговое значение: Предупреждение в более чем 5 уровней вложенности

   - Сложность: **CA1502 AvoidExcessiveComplexity** -пороговое значение: Предупреждение в более чем 25

   - Индекс удобства поддержки: **CA1505 Под названием AvoidUnmaintainableCode** -пороговое значение: Предупреждение в менее 20

   - Взаимозависимости классов: **CA1506 AvoidExcessiveClassCoupling** -пороговое значение: Предупреждение при более чем 80 для класса и более чем 30 для метода

     Кроме того, нарушение правила для предотвращения успешной сборки, установите **обрабатывать предупреждения как ошибки** флажок рядом с описанием правила.

3. Нажмите кнопку **ОК**. Новая политика возврата теперь применяется для будущих возвратов.

## <a name="see-also"></a>См. также

- [Значения метрик кода](../code-quality/code-metrics-values.md)
- [Создание и использование политик возврата с анализом кода](../code-quality/how-to-create-or-update-standard-code-analysis-check-in-policies.md)