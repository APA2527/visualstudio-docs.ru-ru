---
title: 'CA1508: Избегайте появления неиспользуемого условного кода'
ms.date: 04/23/2020
ms.topic: reference
f1_keywords:
- CA1508
- AvoidDeadConditionalCode
helpviewer_keywords:
- CA1508
- AvoidDeadConditionalCode
author: mavasani
ms.author: mavasani
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 17f56f12055223ca2b0591ac1f61eedb31e77017
ms.sourcegitcommit: de98ed7edc81383e47b87ae6e61143fbbbe7bc56
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "88710576"
---
# <a name="ca1508-avoid-dead-conditional-code"></a>CA1508: Избегайте появления неиспользуемого условного кода

|Item|Значение|
|-|-|
|CheckId|CA1508|
|Категория|Поддержка Microsoft.|
|Критическое изменение|Не критическое|

## <a name="cause"></a>Причина

Метод имеет условный код, который всегда вычисляется как `true` или `false` во время выполнения. Это приводит к неработающему коду в `false` ветви условия.

## <a name="rule-description"></a>Описание правила

Методы могут иметь условный код, например операторы If, двоичные выражения ( `==` , `!=` , `<` , `>` ), проверки значений NULL и т. д. Например, рассмотрим следующий код:

```csharp
public void M(int i, int j)
{
    if (i != 0)
    {
        return;
    }

    if (j != 0)
    {
        return;
    }

    // Below condition will always evaluate to 'false' as 'i' and 'j' are both '0' here.
    if (i != j)
    {
        // Code in this 'if' branch is dead code.
        // It can either be removed or refactored.
        ...
    }
}
```

Компиляторы C# и VB выполняют анализ условных проверок с использованием _значений констант_ времени компиляции, которые всегда имеют значение `true` или `false` . Этот анализатор выполняет анализ потока данных переменных, не являющихся константами, чтобы определить избыточные условные проверки, включающие _неконстантные значения_. В приведенном выше коде анализатор определяет, что `i` и `j` оба являются `0` для всех ветвей кода, доступных для `i != j` проверки. Таким образом, эта проверка всегда будет оцениваться `false` во время выполнения. Код в операторе If является неиспользуемым кодом и может быть удален или подвергнут рефакторингу. Аналогичным образом анализатор отслеживает значения NULL переменных и сообщает о избыточных проверках значений NULL.

> [!NOTE]
> Этот анализатор выполняет ресурсоемкий анализ потоков данных, не являющихся константными значениями. Это может увеличить общее время компиляции для определенных баз кода.

## <a name="when-to-suppress-warnings"></a>Когда следует подавлять предупреждения

Нарушение этого правила можно отключить, если вы не беспокоитесь об обслуживании кода. Также можно подавить нарушения, идентифицированные как ложные срабатывания. Это возможно при наличии параллельного кода, который может выполняться из нескольких потоков.

## <a name="see-also"></a>См. также статью

- [Предупреждения, связанные с удобством обслуживания](../code-quality/maintainability-warnings.md)
