---
title: Создание или обновление стандартных политик возврата с анализом кода
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.policyeditor
helpviewer_keywords:
- code analysis, migrating check-in policy
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 768efb3e874f6427cd23f63f14671aa2db1bea71
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62816361"
---
# <a name="how-to-create-or-update-standard-code-analysis-check-in-policies"></a>Практическое руководство. Создание или обновление стандартных политик возврата с анализом кода

Вы можете потребовать, запуска анализа кода для всех проектов кода в проекте Azure DevOps с помощью политики возврата анализа кода. Обязательность анализа кода может повысить качество кода, который возвращается в базу кода.

> [!NOTE]
> Эта функция доступна только в том случае, если вы используете Team Foundation Server.

Политик возврата с анализом кода задаются в параметрах проекта и применяются к каждому проекту. Выполнение анализа кода, настроенных для проектов кода в файле проекта (формата .xxproj) для проекта кода. Выполнение анализа кода выполняются на локальном компьютере. Если включить политику возврата с анализом кода, файлы в проекте кода, которые должны быть возвращены, которые должны быть скомпилированы после последнего редактирования и выполнения, анализа кода содержит как минимум, правила в параметрах проекта должны быть выполнены на компьютере, где изменения s были внесены.

- Установите политику возврата для управляемого кода, путем задания *набор правил* , содержащий подмножество правил анализа кода.

- Для кода C/C++ в Visual Studio 2017 версии 15.6 и более ранних версиях политики возврата требует, что выполняются все правила анализа кода. Можно добавить директивы препроцессора для отключения определенных правил для отдельных проектов кода в свой проект Azure DevOps. В версии 15.7 и более поздних версиях можно использовать **/ analyze: ruleset** для указания, какие правила следует запустить. Дополнительные сведения см. в разделе [использование наборов правил для задания выполняемых правил C++](using-rule-sets-to-specify-the-cpp-rules-to-run.md).

После указания политики возврата для управляемого кода, члены команды можно синхронизировать свои параметры анализа кода для проектов кода к параметрам политики проект Azure DevOps.

## <a name="to-open-the-check-in-policy-editor"></a>Чтобы открыть редактор политики возврата

1. В Team Explorer, щелкните правой кнопкой мыши имя проекта, выберите пункт **параметры проекта**, а затем нажмите кнопку **системы управления версиями**.

1. В **системы управления версиями** выберите **политики возврата** вкладки.

1. Выполните одно из следующих действий.

    - Нажмите кнопку **добавить** для создания новой политики возврата.

    - Дважды щелкните существующий **анализа кода** элемент **тип политики** списка, чтобы изменить политику.

## <a name="to-set-policy-options"></a>Чтобы задать параметры политики

Установите или снимите следующие параметры:

|Параметр|Описание|
|------------|-----------------|
|**Включить возврат файлов, которые являются частью текущего решения.**|Анализ кода можно выполнять только с файлами, указанными в файлах конфигурации решения и проекта. Эта политика гарантирует, что весь код, который является частью решения анализируется.|
|**Принудительное применение анализа кода C/C++ (/ analyze)**|Требует, что все проекты C или C++ быть построены с / analyze-параметр компилятора, чтобы запустить анализ кода, прежде чем они могут быть возвращены.|
|**Принудительно использовать анализ кода для управляемого кода**|Необходимо выполнить анализ кода и сборку, прежде чем они могут быть возвращены все управляемые проекты.|

## <a name="to-specify-a-managed-rule-set"></a>Чтобы указать набор правил для управляемого кода

Из **выполнить этот набор правил** список, используйте один из следующих методов:

- Выберите набор стандартных правил Майкрософт.

- Выберите пользовательское правило, задать, щелкнув  **\<выбрать набор правил из системы управления версиями... >** . Введите путь управления версиями в браузере системы управления версиями набора правил. Используется следующий синтаксис пути системы управления версиями:

   **$/** `TeamProjectName` **/** `VersionControlPath`

Дополнительные сведения о том, как создать и применить правило настраиваемой политики, см. в разделе [реализовать пользовательские политики возврата для управляемого кода](../code-quality/implementing-custom-code-analysis-check-in-policies-for-managed-code.md).

## <a name="see-also"></a>См. также

- [Создание и использование политик возврата с анализом кода](../code-quality/how-to-create-or-update-standard-code-analysis-check-in-policies.md)