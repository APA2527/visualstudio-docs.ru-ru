---
title: Анализ кода настройки
ms.date: 04/04/2018
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.propertypages.csvb
- vs.codeanalysis.propertypages.solution
helpviewer_keywords:
- code analysis, selecting rule sets
- code analysis, rule sets
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- dotnet
ms.openlocfilehash: 98db7cda02495d207d6e9387341173ea2efe22ca
ms.sourcegitcommit: 92361aac3665a934faa081e1d1ea89a067b01c5b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79431356"
---
# <a name="how-to-configure-legacy-analysis-for-managed-code"></a>Как: Настройка устаревшего анализа для управляемого кода

В Visual Studio вы можете выбрать из списка [наборов правил](../code-quality/rule-set-reference.md) анализа кода для применения к управляемому проекту кода. По умолчанию выбирается набор правил **Microsoft Minimum Recommended Rules,** но при желании можно применить другой набор правил. Наборы правил могут быть применены к одному или нескольким проектам в решении.

> [!NOTE]
> Данная статья относится к анализу устаревших, а не к [анализатору кода на основе кода на основе кода .NET Compiler Platform.](use-roslyn-analyzers.md)

## <a name="configure-a-rule-set-for-a-net-framework-project"></a>Настройка правила, установленного для проекта .NET Framework

1. Откройте вкладку **«Анализ кода»** на страницах свойств проекта. Сделать это можно следующими способами.

   - В **Solution Explorer**выберите проект. В панели меню выберите **Анализ** > **настройки кода** > **для \<>проекта. **

   - Нажмите правой кнопкой мыши проекта в **Solution Explorer** и выберите **свойства,** а затем выберите вкладку **Code Analysis.**

2. В списках **конфигурации** и **платформы** выберите конфигурацию сборки и целевую платформу.

::: moniker range="vs-2017"

3. Для выполнения анализа кода при каждом построении проекта с использованием выбранной конфигурации выберите **Анализ кода Enable на сборке.** Вы также можете запустить анализ кода вручную, выбрав **Анализ** > кода**Run Code Analysis** > ** \< **Analyze Run Code По>projectname.

::: moniker-end

::: moniker range=">=vs-2019"

3. Для выполнения анализа кода при каждом построении проекта с использованием выбранной конфигурации выберите **«Выполнить сборку»** в разделе **Двоичные анализаторы.** Вы также можете запустить анализ устаревшего кода вручную, [см. Как: Выполнить анализ кода Legacy вручную для управляемого кода](how-to-run-legacy-code-analysis-manually-for-managed-code.md) для более подробной информации.

::: moniker-end

4. Для просмотра предупреждений из сгенерированного кода очистите **результаты «Подавина» из сгенерированного кода.**

    > [!NOTE]
    > Этот параметр не отключает ошибки и предупреждения из созданного кода, если ошибки и предупреждения появляются в формах и шаблонах. Можно как просматривать, так и поддерживать исходный код для формы или шаблона, и он не будет перезаписан.

::: moniker range="vs-2017"

5. В **списке набора правил Run** сделайте одно из следующих:

::: moniker-end

::: moniker range=">=vs-2019"

5. В списке **правил Active** сделайте одно из следующих:

::: moniker-end

   - Выберите набор правил, который вы хотите использовать.

   - Выберите>** \<просмотра,** чтобы найти существующий набор пользовательских правил, которого нет в списке.

   - Определите [набор пользовательских правил.](../code-quality/how-to-create-a-custom-rule-set.md)

## <a name="specify-rule-sets-for-multiple-projects-in-a-solution"></a>Указать наборы правил для нескольких проектов в решении

По умолчанию всем управляемым проектам решения присваивается набор правил анализа кода *Microsoft Minimum Recommended Rules.* Можно изменить наборы правил, которые присваиваются проектам решения в диалоговом поле **Свойств** для решения.

1. Откройте решение в Visual Studio.

2. В меню **«Анализ»** выберите **анализ кода настройки для решения.**

3. При необходимости расширьте **общие свойства,** а затем выберите **параметры анализа кода.**

4. Можно указать правило, установленное для одного или нескольких проектов:

    - Чтобы указать правило, установленное для отдельного проекта, выберите название проекта.

    - Чтобы указать правило, установленное для нескольких проектов, удерживайте **Ctrl** и выберите имена проектов.

    - Чтобы указать все проекты в решении, удерживайте **Shift** и нажмите в списке проектов.

5. Выберите поле **набора правил** проекта, а затем выберите имя набора правил, который вы хотите применить.

## <a name="see-also"></a>См. также раздел

- [Справочник по набору правил анализа кода](../code-quality/rule-set-reference.md)
