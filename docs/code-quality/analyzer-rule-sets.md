---
title: Наборы правил FxCop Analyzer и editorconfig файлы
ms.date: 10/08/2019
ms.topic: conceptual
helpviewer_keywords:
- analyzer packages, rule sets
- rule sets for analyzers
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 0b3ed77a309448a854d733453c932fc007f7f591
ms.sourcegitcommit: d233ca00ad45e50cf62cca0d0b95dc69f0a87ad6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/01/2020
ms.locfileid: "75573291"
---
# <a name="enable-a-category-of-rules"></a>Включение категории правил

Пакеты анализатора могут содержать предопределенные файлы [EditorConfig](use-roslyn-analyzers.md#rule-severity) и [наборов правил](using-rule-sets-to-group-code-analysis-rules.md) , которые позволяют быстро и легко включить категорию правил, например правила безопасности или разработки. Пакет анализатора NuGet [Microsoft. CodeAnalysis. фкскопанализерс](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers/) включает как наборы правил (начиная с версии 2.6.2), так и файлы EditorConfig (начиная с версии 2.9.5). Включив определенную категорию правил, можно вычислить целевые проблемы и конкретные условия.

> [!NOTE]
> Включение правил анализатора и настройка их степени серьезности с помощью файла EditorConfig поддерживаются начиная с Visual Studio 2019 версии 16,3.

Пакет NuGet анализатора FxCop включает стандартные наборы правил и файлы EditorConfig для следующих категорий правил:

- Все правила
- Поток данных
- В разработке
- Документация
- Глобализация
- Взаимодействие
- Удобство обслуживания
- Именование
- Производительность
- Перенесено из FxCop
- Надежность
- по безопасности
- Метрики

Каждая из этих категорий правил имеет файл EditorConfig или набора правил:

- включить все правила в категории (и отключить все остальные правила)
- использовать уровень серьезности по умолчанию и параметр включения для каждого правила (и отключить все остальные правила).

> [!TIP]
> Категория "все правила" имеет дополнительный файл EditorConfig или набора правил для отключения всех правил. Используйте этот файл, чтобы быстро избавиться от любых предупреждений или ошибок анализатора в проекте.

> [!TIP]
> Если вы выполняете миграцию из устаревшего анализа "FxCop" в анализ кода на основе .NET Compiler Platform, то файлы EditorConfig и набора правил позволяют продолжить использовать аналогичные конфигурации правил для [тех, которые использовались ранее](rule-set-reference.md).

## <a name="predefined-editorconfig-files"></a>Предопределенные файлы EditorConfig

Предопределенные файлы EditorConfig для пакета анализатора Microsoft. CodeAnalysis. Фкскопанализерс расположены в каталоге *% UserProfile%\\. нужет\паккажес\микрософт.кодеаналисис.фкскопанализерс\\\<версии\>\едиторконфиг* . Например, файл EditorConfig для включения всех правил безопасности находится в папке *% UserProfile%\\. нужет\паккажес\микрософт.кодеаналисис.фкскопанализерс\\\<version\>\едиторконфиг\секуритирулесенаблед\\. EditorConfig*.

Скопируйте выбранный файл. editorconfig в корневой каталог проекта.

## <a name="predefined-rule-sets"></a>Предопределенные наборы правил

Стандартные файлы набора правил для пакета анализатора Microsoft. CodeAnalysis. Фкскопанализерс расположены в каталоге *% UserProfile%\\. нужет\паккажес\микрософт.кодеаналисис.фкскопанализерс\\\<версии\>\рулесетс* . Например, файл набора правил для включения всех правил безопасности находится в папке *% UserProfile%\\. нужет\паккажес\микрософт.кодеаналисис.фкскопанализерс\\\<версии\>\рулесетс\секуритирулесенаблед.рулесет*.

Скопируйте один или несколько наборов правил и вставьте их в каталог, содержащий проект Visual Studio, или непосредственно в **Обозреватель решений**.

Можно также [настроить предопределенный набор правил](how-to-create-a-custom-rule-set.md) в качестве предпочитаемого. Например, можно изменить серьезность одного или нескольких правил, чтобы нарушения отображались как ошибки или предупреждения в **Список ошибок**.

### <a name="set-the-active-rule-set"></a>Установка активного набора правил

Процесс настройки активного набора правил немного отличается в зависимости от того, имеется ли проект .NET Core, NET Standard или проект .NET Framework.

#### <a name="net-core"></a>.NET Core

Чтобы сделать правило набором активных правил для анализа в проектах .NET Core или .NET Standard, добавьте свойство **кодеаналисисрулесет** в файл проекта вручную. Например, следующий фрагмент кода задает `HelloWorld.ruleset` как активный набор правил.

```xml
<PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
  ...
  <CodeAnalysisRuleSet>HelloWorld.ruleset</CodeAnalysisRuleSet>
</PropertyGroup>
```

#### <a name="net-framework"></a>.NET Framework

Чтобы сделать правило набором активных правил для анализа в .NET Framework проектах:

- Щелкните правой кнопкой мыши проект в **Обозреватель решений** и выберите пункт **свойства**.

- На страницах свойств проекта выберите вкладку **анализ кода** .

::: moniker range="vs-2017"

- В разделе **выполнение этого набора правил**нажмите кнопку **Обзор**, а затем выберите набор правил, скопированный в каталог проекта.

::: moniker-end

::: moniker range=">=vs-2019"

- В разделе **активные правила**выберите **Обзор**, а затем выберите набор правил, скопированный в каталог проекта.

::: moniker-end

   Теперь вы видите нарушения правил только для тех правил, которые включены в выбранном наборе правил.

## <a name="see-also"></a>См. также:

- [Часто задаваемые вопросы по анализаторам](analyzers-faq.md)
- [Обзор анализаторов на платформе .NET Compiler Platform](roslyn-analyzers-overview.md)
- [Установить анализаторы](install-roslyn-analyzers.md)
- [Настройка анализаторов](use-roslyn-analyzers.md)
- [Использование наборов правил для группировки правил анализа кода](using-rule-sets-to-group-code-analysis-rules.md)
