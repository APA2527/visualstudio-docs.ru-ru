---
title: предупреждения производительности
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- vs.codeanalysis.performancerules
helpviewer_keywords:
- warnings, performance
- performance warnings
- performance, warnings
- managed code analysis warnings, performance warnings
ms.assetid: e014ac3a-02e6-46d9-942c-3491dd63782f
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: e578bedf3e6b784321ffb14628ebbe10bc45dc20
ms.sourcegitcommit: 93859158465eab3423a0c0435f06490f0a456a57
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/27/2020
ms.locfileid: "82167350"
---
# <a name="performance-warnings"></a>предупреждения производительности
Предупреждения производительности поддерживают высокопроизводительные библиотеки и приложения.

## <a name="in-this-section"></a>В этом разделе

| Правило | Описание |
| - | - |
| [CA1800: не выполняйте лишних приведений](../code-quality/ca1800.md) | Повторяющиеся приведения снижают производительность, особенно если приведения выполняются в компактных операторах итераций. |
| [CA1801: проверьте неиспользуемые параметры](../code-quality/ca1801.md) | Сигнатура метода включает параметр, не использующийся в основной части метода. |
| [CA1802. Используйте литералы там, где возможно](../code-quality/ca1802.md) | Поле объявлено как статическое и доступное только для чтения (Shared [!INCLUDE[vbprvb](../code-quality/includes/vbprvb_md.md)]и ReadOnly в) и инициализируется со значением, вычисляемым во время компиляции. Так как значение, назначенное целевому полю, вычисляемым во время компиляции, измените объявление на const (const в [!INCLUDE[vbprvb](../code-quality/includes/vbprvb_md.md)]) поле, чтобы значение было вычислено во время компиляции, а не во время выполнения. |
| [CA1804: удалите неиспользуемые локальные переменные](../code-quality/ca1804.md) | Неиспользуемые локальные переменные и ненужные присвоения увеличивают размер сборки и снижают производительность. |
| [CA1806: не игнорируйте результаты метода](../code-quality/ca1806.md) | Новый объект создается, но не используется, или метод, создающий и возвращающий новую строку, вызывается, а новая строка никогда не используется, или метод P/Invoke модели компонента возвращает значение HRESULT или код ошибки, который никогда не используется. |
| [CA1809: избегайте чрезмерного использования локальных переменных](../code-quality/ca1809.md) | Обычно для оптимизации производительности рекомендуется хранить значение не в памяти, а в регистре процессора. Это называется регистрацией значения.  Чтобы повысить вероятность регистрации всех локальных переменных, следует ограничить их количество 64. |
| [CA1810: инициализируйте статические поля ссылочного типа встроенными средствами](../code-quality/ca1810.md) | Если в типе объявляется явный статический конструктор, компилятор JIT добавляет проверку в каждый статический метод и конструктор экземпляров этого типа, чтобы убедиться, что статический конструктор уже вызывался ранее. Проверки статических конструкторов могут привести к снижению производительности. |
| [CA1811: не используйте невызываемый закрытый код](../code-quality/ca1811.md) | Частный или внутренний член (уровень сборки) не имеет вызывающих объектов в сборке, он не вызывается средой CLR и не вызывается делегатом. |
| [CA1812: не создавайте внутренние классы без экземпляров](../code-quality/ca1812.md) | Экземпляр типа уровня сборки не создается кодом в сборке. |
| [CA1813: избегайте распечатанных атрибутов](../code-quality/ca1813.md) | .NET предоставляет методы для извлечения пользовательских атрибутов. По умолчанию эти методы осуществляют поиск иерархии наследования атрибутов. Если запечатать атрибут, поиск в иерархии наследования выполняться не будет, в результате чего может повыситься производительность. |
| [CA1814: используйте ступенчатые массивы вместо многомерных](../code-quality/ca1814.md) | Массив массивов — это массив, элементы которого сами являются массивами. Массивы, составляющие элементы, могут иметь различные размеры, что может привести к уменьшению объема неиспользуемого пространства для некоторых наборов данных. |
| [CA1815: следует переопределять равенства и равенства операторов в типах значений](../code-quality/ca1815.md) | В унаследованной реализации Equals для типов значений используется библиотека отражения и сравнивается содержимое всех полей. Отражение является процессом, требующим с точки зрения вычислений больших затрат, и сравнение каждого поля на равенство может быть лишним. Если предполагается, что пользователи будут сравнивать, сортировать экземпляры или использовать их в качестве ключей хэш-таблиц, тип значения должен реализовывать Equals. |
| [CA1816: вызов GC.SuppressFinalize должен осуществляться правильно](../code-quality/ca1816.md) | Метод, который является реализацией метода Dispose, не вызывает GC. SuppressFinalize или метод, который не является реализацией метода Dispose, вызывает GC. SuppressFinalize или метод вызывает GC. SuppressFinalize и передает что-то другое (я в [!INCLUDE[vbprvb](../code-quality/includes/vbprvb_md.md)]). |
| [CA1819: свойства не должны возвращать массивы](../code-quality/ca1819.md) | Массивы, возвращаемые свойствами, не защищаются от записи, даже если свойство доступно только для чтения. Чтобы защитить массив от изменений, свойство должно возвращать копию массива. Как правило, пользователи не понимают требований к производительности при вызове такого свойства. |
| [CA1820: проверьте наличие пустых строк путем проверки длины строки](../code-quality/ca1820.md) | Сравнивать строки с использованием свойства String.Length или метода String.IsNullOrEmpty значительно быстрее, чем с помощью Equals. |
| [CA1821: удаляйте пустые методы завершения](../code-quality/ca1821.md) | Если возможно, старайтесь не использовать финализаторы, поскольку из-за отслеживания жизненного срока объектов снижается производительность программы. Пустой метод завершения требует дополнительной дополнительной нагрузки без каких бы то ни было преимуществ. |
| [CA1822: помечайте члены как статические](../code-quality/ca1822.md) | Члены, не обращающиеся к данным экземпляра и не вызывающие методы экземпляра, можно пометить как статические (Shared в [!INCLUDE[vbprvb](../code-quality/includes/vbprvb_md.md)]). Если пометить методы как статические, компилятор предоставит этим членам невиртуальные места вызова. Это обеспечивает значительное повышение производительности при работе с кодом, для которого важна высокая производительность системы. |
| [CA1823: избегайте наличия неиспользованных закрытых полей](../code-quality/ca1823.md) | Обнаружены закрытые поля, доступ к которым, судя по всему, не предоставляется в сборке. |
| [CA1824: следует помечать сборки атрибутом NeutralResourcesLanguageAttribute](../code-quality/ca1824.md) | Атрибут NeutralResourcesLanguage сообщает ResourceManager о языке, используемом для отображения независящих от языка и региональных параметров ресурсов для сборки. При этом повышается эффективность поиска первого загружаемого ресурса и может сократиться рабочее множество. |
| [CA1825: Избегайте выделения массивов нулевой длины](../code-quality/ca1825.md) | Инициализация массива нулевой длины приводит к ненужному выделению памяти. Вместо этого используйте статический выделенный экземпляр пустого массива, вызвав метод <xref:System.Array.Empty%2A?displayProperty=nameWithType>. Выделение памяти является общим для всех вызовов этого метода. |
| [CA1826: Используйте свойство вместо перечислимого метода LINQ](../code-quality/ca1826.md) | <xref:System.Linq.Enumerable>Метод LINQ использовался для типа, который поддерживает эквивалентное, более эффективное свойство. |
| [CA1827: не используйте count/LongCount, когда можно использовать](../code-quality/ca1827.md) | <xref:System.Linq.Enumerable.Count%2A>метод <xref:System.Linq.Enumerable.LongCount%2A> или был использован, <xref:System.Linq.Enumerable.Any%2A> когда метод был бы более эффективным. |
| [CA1828: не используйте Каунтасинк/Лонгкаунтасинк, если можно использовать Анясинк](../code-quality/ca1828.md) | <xref:Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync%2A>метод <xref:Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.LongCountAsync%2A> или был использован, <xref:Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync%2A> когда метод был бы более эффективным. |
| [CA1829: Используйте свойство Length или Count вместо метода Enumerable. Count.](../code-quality/ca1829.md) | <xref:System.Linq.Enumerable.Count%2A>Метод LINQ использовался для типа, который поддерживает эквивалентное, более эффективное `Length` или `Count` свойство. |
