---
title: Настройка области анализа живого кода для управляемого кода
ms.date: 03/23/2018
ms.topic: conceptual
helpviewer_keywords:
- live code analysis
- background analysis
- analysis scope
- full solution analysis
author: jillre
ms.author: jillfra
manager: jillfra
ms.workload:
- dotnet
ms.openlocfilehash: 300e3f276a45cfe2115311c7d27eedce365616cf
ms.sourcegitcommit: 92361aac3665a934faa081e1d1ea89a067b01c5b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79432093"
---
# <a name="how-to-configure-live-code-analysis-scope-for-managed-code"></a>Как: Налаживание области анализа живого кода для управляемого кода

## <a name="what-is-live-code-analysis-for-managed-code"></a>Что такое "анализ кода live" для управляемого кода?
Visual Studio выполняет кучу анализов кода в реальном времени, также именуемых *фоновым анализом,* в то время как вы редактируете исходные файлы в редакторе. Некоторые из них требуется минимальный анализ для приемлемого Visual Studio IDE редактирования опыт. Некоторые из них предназначены для улучшения отзывчивости функций IDE. Хотя некоторые из них предназначены для включения дополнительных функций IDE, таких как диагностика и исправления кода от анализаторов Roslyn. На основе функциональности эти анализы могут быть сгруппированы следующим образом:

- **Фоновые вычисления диагностики:** Анализ для вычисления ошибок, предупреждений и предложений в исходных файлах. Эти диагностики отображаются в виде записей в списке ошибок и как завихрение в редакторе. Они могут быть разделены на две категории:
    - Диагностика компилятора на C и Visual Basic
    - Рослин анализатор диагностики, которая включает в себя:

        - Встроенные анализаторы IDE для предложений по стилю кода и
        - Пакеты анализалителей сторон, [установленные](./install-roslyn-analyzers.md) для проектов в текущем решении.

- **Другие фоновые анализы**: Анализ для улучшения отзывчивости и взаимодействия Visual Studio для функций IDE. Некоторые примеры таких анализов:
    - Фоновый разбор открытых файлов.
    - Справочная компиляция проектов с открытыми файлами для реализации символов для улучшения отзывчивости некоторых функций IDE.
    - Создание синтаксиса и кэшов символов.
    - Обнаружение ассоциации конструкторов для исходных файлов, таких как формы, элементы управления и т.д.

## <a name="default-analysis-scope"></a>Область анализа по умолчанию

По умолчанию анализ кода в реальном времени для фоновых вычислений диагностики выполняется для всех файлов, _открытых_ в Visual Studio. Немногие из _других справочных анализов, упомянутых_ выше, выполняются для всех проектов, которые имеют по крайней мере один открытый файл. В то время как несколько фоновых анализов выполняются для всего решения.

## <a name="custom-analysis-scope"></a>Пользовательский анализ сферы

Область каждого фонового анализа по умолчанию была настроена на оптимальный пользовательский опыт, функциональность и производительность для большинства сценариев и решений для клиентов. Однако есть случаи, когда клиенты могут захотеть настроить эту область для уменьшения или увеличения фонового анализа. Пример:

- Режим экономии энергии: Если пользователи работают на батарее ноутбука, они могут захотеть свести к минимуму энергопотребление в течение длительного времени автономной работы. В этом случае они хотели бы свести к минимуму фоновый анализ.
- Анализ кода по требованию: Если пользователи предпочитают отключить выполнение анализа в реальном времени и вручную провести анализ кода по требованию, они хотели бы свести к минимуму фоновый анализ. [Узнайте, как: Ручной запуск анализа кода по запросу.](./how-to-run-code-analysis-manually-for-managed-code.md)
- Полный анализ решений: Если пользователи хотят всегда видеть все диагнозы во всех файлах в решении, независимо от того, открыты они в редакторе или нет. В этом сценарии они хотели бы максимально использовать область фонового анализа для всего решения.

Начиная с версии Visual Studio 2019 16.5, пользователи могут явно настроить область анализа кода в реальном времени, включая вычисления диагностики, для проектов СЗ и Visual Basic. Доступные области анализа:

- **Текущий документ**: Минимизирует область анализа живого кода, чтобы выполнить только текущий или видимый файл в редакторе.
- **Открытые документы**: Область анализа кода по умолчанию, как описано в вышеуказанном разделе.
- **Полное решение**: Максимизирует область анализа живого кода для выполнения всех файлов и проектов во всем решении.

Вы можете выбрать одну из приведенных выше пользовательских областей анализа в диалоге «Параметры инструментов», выдыхая ниже следующие шаги:

1. Чтобы открыть поле диалога **Options,** в меню бар в Visual Studio выберите **Параметры Инструментов.** > **Options**

2. В диалоговом окне **Опционов** выберите **текстовый редактор** > **C или** **Basic** > **Advanced**.

3. Выберите желаемую **область фонового анализа** для настройки области анализа. Выберите **OK,** когда вы закончите.

![Область анализа.](./media/background-analysis-scope.png)

> [!NOTE]
> Перед версией Visual Studio 2019 16.5 пользователи могут настроить область анализа для вычислений диагностики на цель решения с помощью флажки анализа **полного решения** **из** > **Options** > text**Editor** > **C или** **Basic** > **Advanced** tab. Нет поддержки для минимизации объема фонового анализа в предыдущих версиях Visual Studio.

## <a name="automatically-minimize-live-code-analysis-scope"></a>Автоматически минимизировать область анализа живого кода

Если Visual Studio обнаруживает, что 200 МБ или меньше системной памяти доступны для нее, она автоматически сводит к минимуму область анализа живого кода до "Текущий документ". В этом случае появляется оповещение, информирующее вас о том, что Visual Studio отключила некоторые функции. Кнопка позволяет вернуться к предварительной области анализа, если вы хотите.

![Текст оповещения, минимизирующий область анализа](./media/fsa_alert.png)

## <a name="see-also"></a>См. также раздел

- [Автоматическая приостановка функции](./automatic-feature-suspension.md)
- [Запрос функции режима экономии энергии](https://github.com/dotnet/roslyn/issues/38429)
