---
title: Как создать приемник событий для определенного экземпляра списка | Документация Майкрософт
titleSuffix: ''
ms.date: 02/02/2017
ms.topic: how-to
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, event receivers
- event receivers [SharePoint development in Visual Studio]
author: John-Hart
ms.author: johnhart
manager: jillfra
ms.workload:
- office
ms.openlocfilehash: c37da8b798c3b6a0fdc093d5c443584f68b4b5cc
ms.sourcegitcommit: 9d2829dc30b6917e89762d602022915f1ca49089
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2020
ms.locfileid: "91585840"
---
# <a name="how-to-create-an-event-receiver-for-a-specific-list-instance"></a>Как создать приемник событий для определенного экземпляра списка
  Приемник событий экземпляра списка реагирует на события, происходящие в любом экземпляре определения списка. Хотя шаблон приемника событий не включает нацеливание определенного экземпляра списка, можно изменить приемник событий, область действия которого определяется определением списка, чтобы реагировать на события в определенном экземпляре списка.

 Чтобы ориентироваться на конкретный экземпляр списка, в *Elements.xml* для приемника событий замените на `ListTemplateId` `ListUrl` и добавьте URL-адрес экземпляра списка.

## <a name="create-a-list-instance-event-receiver"></a>Создание приемника событий экземпляра списка
 В следующих шагах показано, как изменить приемник событий элемента списка, чтобы он отвечал только на события, происходящие в пользовательском экземпляре списка извещений.

#### <a name="to-modify-an-event-receiver-to-respond-to-a-specific-list-instance"></a>Изменение приемника событий для реагирования на конкретный экземпляр списка

1. Откройте сайт SharePoint в браузере.

2. В области навигации щелкните ссылку **список** .

3. На странице **все содержимое сайта** выберите ссылку **создать** .

4. В диалоговом окне **создать** выберите тип **извещения** , назовите объявление **тестаннаунцементс**, а затем нажмите кнопку **создать** .

5. В [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] Создайте проект приемника событий.

6. В списке **какой тип приемника событий вам нужен?** выберите **события элемента списка**.

    > [!NOTE]
    > Можно также выбрать любой другой приемник событий, областью которого является определение списка, например **список событий электронной почты** или **список событий рабочего процесса**.

7. В списке **какой элемент должен быть источником событий?** выберите **извещения**.

8. В списке **обработайте следующие события** установите флажок **Добавить элемент** , а затем нажмите кнопку **Готово** .

9. В **Обозреватель решений**в разделе EventReceiver1 откройте *Elements.xml*.

     В данный момент приемник событий ссылается на определение списка "Извещения" с помощью следующей строки.

    ```xml
    <Receivers ListTemplateId="104">
    ```

     Замените эту строку следующим текстом.

    ```xml
    <Receivers ListUrl="Lists/TestAnnouncements">
    ```

     Это направляет приемник событий на реакцию только на события, происходящие в новом только что созданном списке извещений **тестаннаунцементс** . Атрибут можно изменить `ListURL` , чтобы он ссылался на любой экземпляр списка на сервере SharePoint.

10. Откройте файл кода для приемника событий и вставьте точку останова в метод ItemAdded.

11. Нажмите клавишу **F5** , чтобы создать и запустить решение.

12. В SharePoint в области навигации щелкните ссылку **тестаннаунцементс** .

13. Выберите ссылку **Добавить новое объявление** .

14. Введите заголовок объявления, а затем нажмите кнопку **сохранить** .

     Обратите внимание, что точка останова достигается при добавлении нового элемента в пользовательский список извещений.

15. Нажмите клавишу **F5** , чтобы возобновить работу.

16. В области навигации выберите ссылку **списки** , а затем щелкните ссылку **объявления** .

17. Добавьте новое объявление.

     Обратите внимание, что приемник событий не активируется в новом объявлении, так как получатель настроен на реагирование только на события в экземпляре пользовательского списка объявлений **тестаннаунцементс**.

## <a name="see-also"></a>См. также
- [Как создать приемник событий](../sharepoint/how-to-create-an-event-receiver.md)
- [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)
