---
title: Пошаговое руководство. Создание столбца сайта, тип содержимого и списка для SharePoint | Документация Майкрософт
ms.date: 02/02/2017
ms.topic: conceptual
f1_keywords:
- VS.SharePointTools.ListDesigner.GeneralMessageHelp
- Microsoft.VisualStudio.SharePoint.Designers.ListDesigner.ViewModels.ListViewModel.SortingAndGrouping
- VS.SharePointTools.ListDesigner.SortingGrouping
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, list definitions
- SharePoint development in Visual Studio, list instances
- SharePoint development in Visual Studio, fields
- SharePoint development in Visual Studio, content types
author: John-Hart
ms.author: johnhart
manager: jillfra
ms.workload:
- office
ms.openlocfilehash: e39ea4041ab9806c7ca857680af5c5c04510eba9
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63430702"
---
# <a name="walkthrough-create-a-site-column-content-type-and-list-for-sharepoint"></a>Пошаговое руководство. Создание столбца сайта, тип содержимого и списка для SharePoint
  Следующие процедуры демонстрируют способы создания пользовательских столбцов сайта SharePoint, или *поля*, а также тип содержимого, который используют столбцы сайтов. Ниже также показан способ создания списка, использующего новый тип содержимого.

 В этом пошаговом руководстве рассматриваются следующие задачи:

- [Создайте пользовательские столбцы сайтов](#create-custom-site-columns).

- [Создать пользовательский тип содержимого](#create-a-custom-content-type).

- [Создание списка](#create-a-list).

- [Тестирование приложения](#test-the-application).

  [!INCLUDE[note_settings_general](../sharepoint/includes/note-settings-general-md.md)]

## <a name="prerequisites"></a>Предварительные требования
 Ниже приведены компоненты, необходимые для выполнения данного пошагового руководства.

- Поддерживаемые версии Windows и SharePoint.

- [!INCLUDE[vsprvs-current](../sharepoint/includes/vsprvs-current-md.md)]

## <a name="create-custom-site-columns"></a>Создайте пользовательские столбцы сайтов
 В этом примере создается список для управления пациентами в больнице. Во-первых, необходимо создать новый проект SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и добавить столбцы сайтов в него следующим образом.

#### <a name="to-create-the-project"></a>Создание проекта

1. На [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] **файл** меню, выберите **New** > **проекта**.

2. В **новый проект** диалоговое окно, в одном **Visual C#** или **Visual Basic**, разверните **SharePoint** узел, а затем выберите **2010**.

3. В **шаблоны** области выберите **проект SharePoint 2010**, измените имя проекта, который **Clinic**, а затем выберите **ОК** кнопка.

     Шаблон проекта SharePoint 2010 — это пустой проект, который используется в данном примере для хранения столбцов сайта и других элементов проекта, добавленных позже.

4. На **Укажите сайт и уровень безопасности для отладки** странице, введите URL-адрес локального сайта SharePoint, к которому требуется добавить пользовательский элемент поля или используйте расположение по умолчанию (`http://<`*имя_системы* `>/)`.

5. В **Какова степень доверия для этого решения SharePoint?** используйте значение по умолчанию **развернуть как изолированное решение**.

     Дополнительные сведения об изолированных и решениями фермы, см. в разделе [замечания об изолированных решениях](../sharepoint/sandboxed-solution-considerations.md).

6. Выберите **Готово** кнопки. Проект будет добавлен в **обозревателе решений**.

#### <a name="to-add-site-columns"></a>Добавление столбцов сайта

1. Добавьте новый столбец сайта. Для этого в **обозревателе решений**, откройте контекстное меню для **Clinic**, а затем выберите **добавить** > **новый элемент**.

2. В **Добавление нового элемента** диалоговое окно, выберите **столбец сайта**, измените имя на **Patient Name**и нажмите кнопку **добавить** кнопки.

3. В столбце сайта *Elements.xml* файл, оставьте **тип** установку в качестве **текст**и измените **группы** присвоить  **Столбцы сайта клиники**. При завершении столбец сайта *Elements.xml* файл должен выглядеть как в следующем примере.

    ```xml
    <Field
         ID="{f9ba60d1-5631-41fb-b016-a38cf48eef63}"
         Name="Clinic - Patient Name"
         DisplayName="Patient Name"
         Type="Text"
         Required="FALSE"
         Group="Clinic Site Columns">
    </Field>
    ```

4. Используя ту же процедуру, добавьте в проект два дополнительных столбца сайта: **Идентификатор пациента** (тип = «Integer») и **Doctor Name** (тип = «Text»). Значение группы равно **столбцы сайта клиники**.

## <a name="create-a-custom-content-type"></a>Создание пользовательского типа содержимого
 Теперь создайте тип содержимого (основанный на типе содержимого "Контакт"), который включает в себя столбцы сайта, созданные перед этим. Вы можете сэкономить время, базируя тип содержимого на существующем типе содержимого, так как базовый тип содержимого имеет несколько столбцов сайта для использования в новом типе содержимого.

#### <a name="to-create-a-custom-content-type"></a>Чтобы создать пользовательский тип содержимого

1. Добавление типа содержимого в проект. Для этого в **обозревателе решений**, выберите узел проекта

2. В строке меню выберите **Проект** > **Добавить новый элемент**.

3. В группе **Visual C#** или **Visual Basic**, разверните **SharePoint** узел, а затем выберите **2010** узла.

4. В **шаблоны** панели выберите **тип содержимого** шаблона, измените имя на **Patient Info**и нажмите кнопку **добавить** кнопки.

     **Мастер настройки SharePoint** открывает.

5. В **какого базового типа содержимого должен быть наследовать этот тип содержимого из** выберите **контакт** как тип содержимого, для которого необходимо создать новый тип содержимого, а затем выберите **Готово**кнопки.

     Это позволит получить доступ к другим потенциально полезным столбцам сайта в типе содержимого "Контакт", помимо столбцов, определенных ранее.

6. После тип содержимого как откроется конструктор, в **столбцы** вкладку, добавьте 3 столбца, которые вы определили ранее сайта: **Имя клиента**, **идентификатор пациента**, и **Doctor Name**. Чтобы добавить эти столбцы, выберите в первом раскрывающемся списке в списке столбцов сайта **отображаемое имя**и затем выберите каждый столбец сайта в списке одной за раз.

    > [!TIP]
    > Чтобы выбрать столбцы сайта быстрее, следует отфильтровать список, введя первые буквы названия столбца.

7. В дополнение к пользовательским 3 столбцам сайта, добавление **комментарии** столбец сайта из списка столбцов сайта.

8. Выберите **требуется** флажок для **Patient Name** и **Patient ID** столбцов сайта, чтобы сделать их обязательными полями.

9. На **Content Type** убедитесь, что имя типа содержимого является **Patient Info**, а затем измените описание на **информационную карту пациента**.

10. Изменение **имя группы** для **Clinic Content Types**и для остальных параметров оставьте значения по умолчанию.

11. В строке меню выберите **файл** > **сохранить все**, а затем закройте конструктор типа содержимого.

## <a name="create-a-list"></a>Создание списка
 Теперь создайте список, в котором используется новый тип содержимого и столбцы сайтов.

#### <a name="to-create-a-list"></a>Создание списка

1. Добавьте список в проект. Для этого в **обозревателе решений**, выберите узел проекта.

2. В строке меню выберите **Проект** > **Добавить новый элемент**.

3. В группе **Visual C#** или **Visual Basic**, разверните **SharePoint** узел, а затем выберите **2010** узла.

4. В **шаблоны** панели выберите **списка** шаблона, измените имя на **пациентов**и нажмите кнопку **добавить** кнопки.

5. Оставьте **настройки на основе списка** установку в качестве **по умолчанию (пустой)** и нажмите кнопку **Готово** кнопки.

6. В конструкторе списка, выберите **типы содержимого** кнопку, чтобы отобразить **параметры типа содержимого** диалоговое окно.

7. Выберите новую строку, выберите **Patient Info** содержимого типа в списке типов содержимого, а затем выберите **ОК** кнопки.

     Это добавляет все столбцы сайта из **Patient Info** тип в список содержимого.

8. Удалите все столбцы сайта в списке, кроме следующих.

    - Patient ID

    - Patient Name

    - Home Phone

    - E-Mail

    - Doctor Name

    - Комментарии

9. В разделе **отображаемое имя столбца**, выберите пустую строку, добавьте столбец пользовательского списка и назовите его **больница**. Оставьте его тип данных, что **одна строка текста**.

     Столбец пользовательского списка применяется только к этому списку. При добавлении пользовательского столбца списка, новый список типа содержимого, включая все столбцы, добавленные в список, создается как список по умолчанию.

    > [!TIP]
    > Если вы выберете столбец из списка столбцов сайта, существующий столбец сайта будет использоваться. Однако если ввести значение имени столбца без выбора какого-либо столбца в списке, столбец пользовательского списка создается, даже если столбец с таким же именем уже существует в списке.

     Кроме того, вместо того чтобы задавать тип данных для столбца пользовательского списка **одна строка текста**, можно задать тип данных для этого столбца для уточняющего запроса и его значения будут извлечены из таблицы или другого списка. Сведения о столбцах поиска см. в разделе [отношения между списками в SharePoint 2010](http://go.microsoft.com/fwlink/?LinkId=224994) и [операций поиска и отношения между списками](http://go.microsoft.com/fwlink/?LinkID=224995).

10. Рядом с полем **Patient ID** и **Patient Name** поля, выберите **требуется** "флажок".

11. На **представления** вкладке, выберите пустую строку для создания представления. Введите **Patient Details**.

     На **представления** вкладке можно указать столбцы, которые должны отображаться в списке SharePoint.

12. Выберите новую **Patient Details** строки, а затем выберите **по умолчанию** кнопки.

     Новое представление стало представлением по умолчанию для списка.

13. Добавьте следующие столбцы для **выбранные столбцы** списка в следующем порядке:

    - Patient ID

    - Patient Name

    - Home Phone

    - E-Mail

    - Doctor Name

    - Hospital

    - Комментарии

14. В **свойства** выберите **сортировки и группировки** свойства, а затем нажмите кнопку с многоточием ![значок многоточия](../sharepoint/media/ellipsisicon.gif "значок многоточия")для отображения **сортировки и группировки** диалоговое окно.

15. В **имя столбца** выберите **Patient Name**, убедитесь, что **Сортировка** столбцу присваивается **по возрастанию**, а затем выберите  **ОК** кнопки.

## <a name="test-the-application"></a>Тестирование приложения
 Теперь, когда пользовательские столбцы сайтов, тип содержимого и список готовы, разверните их в SharePoint и запустите приложение для тестирования.

#### <a name="to-test-the-application"></a>Тестирование приложения

1. В строке меню выберите **Файл** > **Сохранить все**.

2. Выберите **F5** клавишу, чтобы запустить приложение.

     Приложение компилировано, а затем его возможности развернуты в SharePoint и активированы.

3. На панели быстрых переходов, выберите **пациентов** ссылку, чтобы отобразить **пациентов** списка.

     Имена столбцов в списке должны совпадать, введенных на **представления** вкладке [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)].

4. Выберите **добавить новый элемент** ссылку, чтобы создать информационную карту пациента.

5. Введите сведения в поля, а затем нажмите **Сохранить** кнопки.

     В списке появится новая запись.

## <a name="see-also"></a>См. также
- [Создание столбцов сайта, типов содержимого и списков для SharePoint](../sharepoint/creating-site-columns-content-types-and-lists-for-sharepoint.md)
- [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)
- [Практическое руководство. Создание пользовательского типа настраиваемого поля](http://go.microsoft.com/fwlink/?LinkId=192079)
- [Типы содержимого](http://go.microsoft.com/fwlink/?LinkId=192080)
- [Столбцы](http://go.microsoft.com/fwlink/?LinkId=192081)
