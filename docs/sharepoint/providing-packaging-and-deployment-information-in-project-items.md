---
title: Упаковка и развертывание сведения в элементах проекта
ms.date: 02/02/2017
ms.topic: conceptual
f1_keywords:
- VS.SharePointTools.Project.SafeControlEntries
- VS.SharePointTools.Project.ProjectOutputReference
- VS.SharePointTools.Project.FeatureProperties
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, safe controls
- project output references [SharePoint development in Visual Studio]
- SharePoint development in Visual Studio, feature properties
- SharePoint development in Visual Studio, project output references
- SharePoint development in Visual Studio, advanced packaging tools
- feature properties [SharePoint development in Visual Studio]
- SharePoint development in Visual Studio, feature receiver
- feature receiver [SharePoint development in Visual Studio]
- safe controls [SharePoint development in Visual Studio]
author: John-Hart
ms.author: johnhart
manager: jillfra
ms.workload:
- office
ms.openlocfilehash: a9af945ff377b30925a51875db205bcd882f4585
ms.sourcegitcommit: 13ab9a5ab039b070b9cd9251d0b83dd216477203
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/23/2019
ms.locfileid: "66177707"
---
# <a name="provide-packaging-and-deployment-information-in-project-items"></a>Предоставляют сведения о упаковки и развертывания в элементах проекта
  Все элементы проекта SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] имеют свойства, которые можно использовать для предоставления дополнительных данных при развертывании в SharePoint. Список содержит следующие свойства.

- Свойства компонента

- Приемники

- Выходные ссылки проекта

- Записи безопасных элементов управления

  Эти свойства отображаются в **свойства** окна.

## <a name="feature-properties"></a>Свойства функций
 Используйте **свойств компонента** свойство для указания данных, используемых компонентом. Данные свойства компонента — это набор значений (сохраняемых в виде пар "ключ значение"), включенный с помощью функции при ее развертывании в SharePoint. После развертывания функции значения свойств можно использовать в коде.

 При добавлении значения свойства компонента для элемента проекта, значение добавляется как элемент в манифесте компонента элемента. В проекте модели бизнес-данным (BDC) например, свойство компонента ModelFileName отображается как:

```xml
<Property Key="ModelFileName" Value="BdcModel1\BdcModel1.bdcm" />
```

 После задания значения свойства компонента, он добавляется как элемент FeatureProperty в проекте *.spdata* файла. Сведения о доступе к свойствам в SharePoint, см. в разделе [класса SPFeaturePropertyCollection](http://go.microsoft.com/fwlink/?LinkId=177391).

 Одинаковые значения свойства компонента из всех элементов проекта объединяются в манифесте компонента. Тем не менее если два различных элемента проекта укажите один и тот же ключ свойства компонента с несовпадающими значениями, возникает ошибка проверки.

 Для добавления свойств компонента непосредственно для файла компонента ( *.feature*), вызовите [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] метод модели объекта SharePoint <xref:Microsoft.VisualStudio.SharePoint.Features.IPropertyCollection.Add%2A>. Если вы используете этот метод, имейте в виду, что правило добавления одинаковых значений свойства компонента в свойствах компонента также применяется к свойствам, добавленным непосредственно для файла компонента.

## <a name="feature-receiver"></a>Приемник компонента
 Функция получатели — это код, который выполняется при возникновении определенных событий для элемента проекта, содержащего функцию. Например можно определить приемников, которые выполняются при установке, активации или обновлении компонента. Один из способов добавления приемника компонента — Чтобы добавить его непосредственно в компонент, как описано в разделе [Пошаговое руководство: Добавление приемников событий компонентов](../sharepoint/walkthrough-add-feature-event-receivers.md). Другой способ — ссылка на имя класса приемника компонента и сборки в **приемник компонента** свойство.

### <a name="direct-method"></a>Прямой метод
 При добавлении приемника компонента в компонент напрямую, файл с кодом помещается в **функция** узел в обозревателе решений. При создании решения SharePoint, код компилируется в сборку и развертывание SharePoint. По умолчанию, его свойства **сборку приемника** и **класс приемника** ссылаются на имя класса и сборки.

### <a name="reference-method"></a>Reference - метод
 Другим способом добавления приемника компонента при помощи **приемник компонента** свойства элемента проекта для ссылки на сборку приемника компонента. Значение свойства приемника компонента имеет два вложенных свойства: **Сборка** и **имя класса**. Сборка должна использовать полное имя, «strong» имя и имя класса должно быть полное имя типа. Подробнее см. в статье [Сборки со строгими именами](http://go.microsoft.com/fwlink/?LinkID=169573). После развертывания решения в SharePoint, компонент использует ссылочный приемник компонента для обработки событий компонента.

 В решение время сборки, эта функция значения свойства приемника в компоненте и его проекты объединяются вместе для установления ReceiverAssembly и ReceiverClass атрибуты элемента Feature в манифесте компонента решения SharePoint (*WSP-файл* ) файла. Таким образом Если значения свойств сборки и имя класса элемента проекта и функции определены оба, должен соответствовать проекта элемента и значения свойств компонента. Если значения не совпадают, вы получите ошибку проверки. Если вы хотите, чтобы элемент проекта для ссылки на сборку приемника компонента, отличной от его компонентом, переместите его в другой компонент.

 При ссылке на сборку приемника компонента, который еще не на сервере, необходимо также включить файл сборки в пакете; [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] не добавляет скобки автоматически. При развертывании компонента, файл сборки копируется либо в системе [!INCLUDE[TLA#tla_gac](../sharepoint/includes/tlasharptla-gac-md.md)] или папку Bin в физическом каталоге SharePoint. Дополнительные сведения см. в разделе как: [Практическое руководство. Добавление и удаление дополнительных сборок](../sharepoint/how-to-add-and-remove-additional-assemblies.md).

 Дополнительные сведения о приемниках компонентов см. в разделе [приемника событий компонента](http://go.microsoft.com/fwlink/?LinkID=169574) и [Feature Events](http://go.microsoft.com/fwlink/?LinkID=169575).

## <a name="project-output-references"></a>Выходные ссылки проекта
 Свойство Project Output References определяет зависимость, например сборку, что необходимо запустить элемент проекта. Например предположим, что решение содержит проект BDC и проект класса. Если проект BDC имеет зависимость от сборки, — это выходные данные проекта класса, можно ссылаться на сборку в свойство Project Output References проекта BDC. При упаковке проекта BDC зависимую сборку включается в пакет.

 Выходные ссылки проекта обычно являются сборками, но в некоторых случаях (например, проекты Silverlight) может быть других типов файлов.

 Дополнительные сведения см. в разделе [Практическое руководство. Добавить выходную ссылку проекта](../sharepoint/how-to-add-a-project-output-reference.md).

## <a name="safe-control-entries"></a>Записи безопасных элементов управления
 SharePoint предоставляет механизм безопасности, называемый записей безопасных элементов управления, для ограничения доступа недоверенных пользователей к определенным элементам управления. По своей структуре SharePoint пользователи без доверия по передаче и созданию ASPX-страницы на сервере SharePoint. Чтобы эти пользователи не добавлять небезопасный код в страницы ASPX, SharePoint ограничивает доступ к *безопасные элементы управления*. Безопасные элементы управления являются элементы управления ASPX и веб-частей, которые обозначены как безопасные и который может использоваться любым пользователем на узле. Дополнительные сведения см. в разделе [Step 4: Добавить веб-часть в список безопасных элементов управления](http://go.microsoft.com/fwlink/?LinkID=171014).

 Каждый элемент проекта SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] имеет свойство с именем **записи безопасных элементов управления** , имеет два логических вложенных свойства: **Безопасный** и **безопасный в отношении скриптов**. Свойство "Безопасно" определяет, возможен ли доступ к элементу управления для недоверенных пользователей. Свойство безопасен в отношении скриптов, указывает ли Недоверенные пользователи могут просматривать и изменять свойства элемента управления.

 Записи безопасных элементов управления для ссылки на основе сборки. Добавляемые записи безопасных элементов управления в сборку проекта, введя их в элементе проекта **записи безопасных элементов управления** свойство. Тем не менее, можно также добавить записи безопасных элементов управления для сборки проекта с помощью **Дополнительно** вкладке **конструктора пакетов** при добавлении дополнительной сборки пакета. Дополнительные сведения см. в разделе [Практическое руководство. Пометка элементов управления как безопасных](../sharepoint/how-to-mark-controls-as-safe-controls.md) или [регистрации веб-часть сборки как безопасный элемент управления](http://go.microsoft.com/fwlink/?LinkID=171013).

### <a name="xml-entries-for-safe-controls"></a>Записи XML для безопасных элементов управления
 При добавлении записи безопасного элемента управления для элемента проекта или для сборки проекта, ссылка записывается в манифест пакета в следующем формате:

```xml
<Assemblies>
    <Assembly Location="<assembly name>.dll"
      DeploymentTarget="<'GlobalAssemblyCache' or 'WebApplication'">>
        <SafeControls>
            <SafeControl Assembly="<assembly name>.dll" Namespace=
              "<SharePoint project name>" Safe="<true/false>"
                TypeName="<control name>"
                SafeAgainstScript="<true/false>" />
        </SafeControls>
    </Assembly>
</Assemblies>
```

## <a name="see-also"></a>См. также
- [Пакет и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)
- [Использование модулей для включения файлов в решение](../sharepoint/using-modules-to-include-files-in-the-solution.md)
- [Расширение SharePoint упаковки и развертывания](../sharepoint/extending-sharepoint-packaging-and-deployment.md)
