---
title: Практическое руководство. Пометка элементов управления как безопасных элементов управления | Документация Майкрософт
ms.date: 02/02/2017
ms.topic: conceptual
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, safe controls
- SharePoint development in Visual Studio, advanced packaging tools
- safe controls [SharePoint development in Visual Studio]
author: John-Hart
ms.author: johnhart
manager: jillfra
ms.workload:
- office
ms.openlocfilehash: 30bb597288c19328bb71ce7b5212200991d7181e
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63443075"
---
# <a name="how-to-mark-controls-as-safe-controls"></a>Практическое руководство. Пометка элементов управления как безопасных
  В целях безопасности SharePoint различает веб-элементы управления, которые были защищены от внедрение скриптов и веб-элементы управления, которые не являются. Защищенные элементы управления, или *безопасные элементы управления*, может осуществляться непроверенных пользователей. Вы можете пометить элементы управления как безопасные в свойстве записи безопасных элементов управления, элемент проекта SharePoint, либо в **конструктора пакетов** при добавлении сборки в пакет. Дополнительные сведения см. в разделе .

- [Изменение параметров файла Web.config](http://go.microsoft.com/fwlink/?LinkId=178965) и [регистрации веб-часть сборки как безопасный элемент управления](http://go.microsoft.com/fwlink/?LinkId=171013).

> [!IMPORTANT]
> Эти процедуры предназначены для иллюстративных целей. Пометка элементов управления безопасным, только в том случае, если вы уверены, что они безопасны.

## <a name="marking-safe-controls-in-the-safe-control-entries-property"></a>Пометка безопасные элементы управления в свойстве записи безопасного элемента управления

#### <a name="to-mark-controls-as-safe-or-unsafe-in-the-safe-control-entries-property"></a>Чтобы пометить элементы управления как безопасных или небезопасных в свойстве записи безопасного элемента управления

1. Создайте решение SharePoint с проектом визуальной веб-части.

2. Добавьте два элемента управления веб-части: текстовое поле и кнопку. Оставьте имена их значения по умолчанию, TextBox1 и Button1, соответственно.

3. Добавьте две записи в веб-часть **записи безопасных элементов управления** свойство. Чтобы сделать это, нажмите кнопку с многоточием (![эллипс конструктора ASP.NET Mobile](../sharepoint/media/mwellipsis.gif "эллипс конструктора ASP.NET Mobile")) рядом с пунктом **записи безопасных элементов управления** свойство в  **Свойства** окна.

     **Записи безопасных элементов управления** откроется диалоговое окно.

4. В **записи безопасных элементов управления** диалоговое окно, выберите **добавить** дважды, чтобы добавить две записи безопасного элемента управления к **члены** области: для кнопки и текстового поля.

5. Выберите первый запись безопасного элемента управления и измените значение его **безопасном** свойства **False**, ее **имя типа** свойства **Button1**и его **безопасен в отношении скриптов** свойства **False**.

     Этот шаг определяет элемент управления button, как небезопасного элемента управления.

6. Выберите вторую запись безопасного элемента управления в списке. Оставьте значение по его **безопасном** свойство как **True** и задайте его **имя типа** свойства **TextBox1** и его **Safe Для сценария** свойства **True**.

     Элемент управления «текст» будет помечен как элемент управления, который безопасен в отношении внедрения скрипта.

7. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно.

## <a name="marking-safe-controls-in-the-package-designer"></a>Пометка безопасные элементы управления в конструкторе пакетов

#### <a name="to-mark-controls-as-safe-or-unsafe-in-the-package-designer"></a>Чтобы пометить элементы управления как безопасных или небезопасных в конструкторе пакетов

1. Создайте решение SharePoint с проектом визуальной веб-части.

2. Добавьте два элемента управления веб-части: текстовое поле и кнопку. Оставьте имена их значения по умолчанию, TextBox1 и Button1, соответственно.

     Запишите пространство имен элемента управления, так как оно будет использовано позже.

3. В строке меню выберите **построения** > **построить решение** для сборки проекта.

4. Создайте другое решение SharePoint.

5. В **обозревателе решений**, откройте контекстное меню для *Package.Package* файл, а затем выберите **откройте** открыть **конструктора пакетов**.

6. В **конструктора пакетов**, выберите **Дополнительно** вкладки.

7. В разделе **дополнительных сборок**, выберите **добавить** кнопку, а затем выберите **добавить существующую сборку** из списка.

8. В **добавить существующую сборку** диалоговое окно, нажмите кнопку с многоточием (![эллипс конструктора ASP.NET Mobile](../sharepoint/media/mwellipsis.gif "эллипс конструктора ASP.NET Mobile")) рядом с пунктом  **Путь к исходным файлам**.

9. Выберите сборку из решения SharePoint, созданный на шаге 1, а затем выберите **откройте** кнопки.

10. В этом примере оставьте **цель развертывания** параметр как GlobalAssemblyCache.

     В результате этого действия сборки для развертывания системы глобального кэша сборок (GAC). Если требуется, чтобы сборка для развертывания в папке веб-приложения (Bin), выберите соответствующий параметр. Дополнительные сведения см. в разделе [развертывание веб-частей в SharePoint Foundation](http://go.microsoft.com/fwlink/?LinkId=177509).

11. В **безопасные элементы управления** выберите **щелкните здесь, чтобы добавить новый элемент** кнопки.

12. Введите значения для свойств из следующей таблицы.

    |Имя свойства|Значение|
    |-------------------|-----------|
    |Пространство имен|Полное пространство имен для элемента управления, такие как **BdcModelProject1.VisualWebPart1**.|
    |Имя типа|Button1|
    |Assembly Name|Строгое имя сборки, такие как: Microsoft.Office.SharePoint.ClientExtensions, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c.|
    |Safe|Очистить **безопасном** "флажок".|
    |Безопасен в отношении скриптов|Оставьте **безопасен в отношении скриптов** снимите флажок.|

    > [!NOTE]
    > **Имя сборки** значение для сборок, добавленных с помощью **Дополнительно** вкладке **конструктора пакетов** не может быть токеном, он должен быть сборкой со строгим именем. Дополнительные сведения см. в разделе [Создание и использование сборок со строгими именами](http://go.microsoft.com/fwlink/?LinkId=177513).

13. Выберите **вкладке** клавишу, чтобы создать еще одну запись безопасного элемента управления.

14. Выберите **щелкните здесь, чтобы добавить новый элемент** еще раз.

15. Введите значения для свойств из следующей таблицы.

    |Имя свойства|Значение|
    |-------------------|-----------|
    |Пространство имен|Полное пространство имен для элемента управления, такие как **BdcModelProject1.VisualWebPart1**.|
    |Имя типа|TextBox1|
    |Assembly Name|Строгое имя сборки, такие как: Microsoft.Office.SharePoint.ClientExtensions, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c.|
    |Safe|Выберите **безопасном** "флажок".|
    |Безопасен в отношении скриптов|Выберите **безопасен в отношении скриптов** "флажок".|

16. Выберите **вкладке** ключа, а затем выберите **ОК** кнопку, чтобы закрыть диалоговое окно.

## <a name="see-also"></a>См. также
- [Предоставляют сведения о упаковки и развертывания в элементах проекта](../sharepoint/providing-packaging-and-deployment-information-in-project-items.md)
- [Пакет и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)
