---
title: Рекомендации по изолированным решениям | Документация Майкрософт
ms.date: 02/02/2017
ms.topic: conceptual
f1_keywords:
- VS.SharePointTools.Project.SandboxedSolutions
- VS.SharePointTools.Security.SandboxedSolutions
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, sandboxed solutions
- sandboxed solutions [SharePoint development in Visual Studio]
- SharePoint development in Visual Studio, farm solutions
- farm solutions [SharePoint development in Visual Studio]
author: John-Hart
ms.author: johnhart
manager: jillfra
ms.workload:
- office
ms.openlocfilehash: 3f6345e7627549c672aa28fac8cba5f6d9658a23
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "90842565"
---
# <a name="sandboxed-solution-considerations"></a>Замечания об изолированных решениях
  *Изолированные решения* — это функция Microsoft SharePoint 2010, позволяющая пользователям семейства веб-сайтов отправлять собственные решения для работы с кодом. Распространенным изолированным решением являются пользователи, которые отправляют свои собственные веб-части.

 Изолированное приложение SharePoint выполняется в безопасном отслеживаемом процессе, который имеет доступ к ограниченной части веб-фермы. Microsoft SharePoint 2010 использует сочетание функций, коллекций решений, мониторинга решений и инфраструктуры проверки для включения изолированных решений.

## <a name="specify-project-trust-level"></a>Укажите уровень доверия проекта
 [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] поддерживает изолированные решения с помощью свойства логического проекта, называемого *изолированным решением*. Это свойство может быть задано в любое время в проекте или может быть указано при создании проекта в **мастере настройки SharePoint**.

> [!NOTE]
> Изменение свойства *изолированного решения* проекта после его создания может привести к ошибкам проверки.

 Решение считается решением уровня фермы, если свойство *"изолированное решение"* имеет значение **false** или выбран параметр **Развернуть как решение фермы** . Однако решение обрабатывается иначе, чем в решении фермы, если свойство *"изолированное решение"* имеет значение **true** или если в мастере выбран параметр **Развернуть как изолированное решение** .

## <a name="sharepoint-site-hierarchy"></a>Иерархия сайтов SharePoint
 Чтобы понять, как работают изолированные решения, полезно знать, что сайты SharePoint являются иерархическими в области. Верхний элемент называется веб-фермой, а другие элементы являются подчиненными для нее:

 Веб-ферма

 Веб-приложение а

 Семейство веб-сайтов a1

 A1a сайта

 Веб-приложение B

 Семейство веб-сайтов B1

 B1a сайта

 B1b сайта

 Семейство веб-сайтов B2

 B2a сайта

 Как видите, веб-фермы могут содержать одно или несколько веб-приложений, которые, в свою очередь, могут содержать одно или несколько семейств веб-сайтов, которые могут иметь дочерние сайты и т. д. Изменения, вносимые в одно семейство веб-сайтов, влияют только на это семейство веб-сайтов. Однако изменения, вносимые на уровне веб-фермы, влияют на все семейства веб-сайтов в ферме.

 Службы Windows SharePoint Services (WSS) 3,0 позволяют развертывать решения только на уровне фермы, но [!INCLUDE[wss_14_long](../sharepoint/includes/wss-14-long-md.md)] позволяют развертывать их на уровне фермы (решение фермы) или на уровне семейства узлов (изолированное решение).

## <a name="why-sandboxed-solutions"></a>Зачем нужно изолировать решения?
 В WSS 3,0 решения можно развернуть только на уровне фермы. Это означало, что можно развернуть потенциально опасные или дестабилизации решения, которые затронули всю веб-ферму и все остальные семейства веб-сайтов и приложения, работающие под управлением. Однако с помощью изолированных решений можно развертывать решения в подобласти фермы, в определенном семействе веб-сайтов. Для обеспечения дополнительной защиты сборка решения не загружается в основной [!INCLUDE[TLA2#tla_iis5](../sharepoint/includes/tla2sharptla-iis5-md.md)] процесс (*w3wp.exe*). Вместо этого он загружается в отдельный процесс (*SPUCWorkerProcess.exe*). Этот процесс отслеживает и реализует квоты и регулирование для защиты фермы от изолированных решений, которые выполняют вредоносные действия, например выполнение строгих циклов, использующих циклы ЦП.

## <a name="site-collection-solution-gallery"></a>Коллекция решений семейства веб-сайтов
 В [!INCLUDE[sharepointShort](../sharepoint/includes/sharepointshort-md.md)] 2010 входит компонент под названием "коллекция решений семейств сайтов". Доступ к этой функции можно получить на странице центра администрирования SharePoint 2010 или открыть меню **действия сайта** , выбрать пункт **Параметры сайта**, а затем нажать ссылку **решения** в разделе  **коллекции** на сайте SharePoint. Коллекции решений — это репозитории решений, которые позволяют администраторам семейства веб-сайтов управлять решениями в своих семействах узлов.

 Коллекция решений — это библиотека документов, хранящаяся в корневом веб-узле SharePoint. Коллекция решений заменяет шаблоны сайтов и поддерживает пакеты решений. При передаче пакета решения SharePoint (*WSP*-файл) он обрабатывается как изолированное решение.

## <a name="sandboxed-solution-limitations"></a>Ограничения изолированных решений
 При развертывании изолированного решения доступ к массиву функций SharePoint, доступных для него, ограничен, что позволяет снизить все уязвимые места в системе безопасности. Ниже перечислены некоторые из этих ограничений.

- Изолированные решения имеют ограниченный набор доступных для развертывания элементов решений. Потенциально уязвимые шаблоны проектов SharePoint, такие как определения сайтов и рабочие процессы, недоступны.

- SharePoint выполняет код изолированного решения в процессе (*SPUCWorkerProcess.exe*) отдельно от основного [!INCLUDE[TLA2#tla_iis5](../sharepoint/includes/tla2sharptla-iis5-md.md)] процесса пула приложений (*w3wp.exe*).

- Сопоставленные папки не могут быть добавлены в проект.

- Типы в [!INCLUDE[moss_14_long](../sharepoint/includes/moss-14-long-md.md)] сборке Microsoft. Office. Server нельзя использовать в изолированных решениях. Кроме того, [!INCLUDE[wss_14_long](../sharepoint/includes/wss-14-long-md.md)] в изолированных решениях можно использовать только типы в сборке Microsoft. SharePoint.

  Важно отметить, что указание решения SharePoint в качестве изолированного решения не влияет на сервер SharePoint; Он определяет только способ развертывания проекта SharePoint в SharePoint из и то, [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] к каким сборкам он привязан. Он не влияет на созданный *WSP* файл, а файл *. wsp* не содержит данных, которые непосредственно сопоставляются со свойством *изолированного решения* .

## <a name="capabilities-and-elements-in-sandboxed-solutions"></a>Возможности и элементы в изолированных решениях
 Изолированные решения поддерживают следующие возможности и элементы:

- Типы содержимого и поля

- Настраиваемые действия

- Декларативные рабочие процессы

- приемники событий;

- Выноски функций

- Перечисление списков

- Экземпляры списка

- Модули и файлы

- Навигация

- *Onet.xml*

- спитемевентрецеивер

- сплистевентрецеивер

- спвебевентрецеивер

- Поддержка всех веб-части, производных от `System.Web.UI.WebControls.WebParts.WebPart`

- веб-части

- Элементы компонента-шаблона (вместо *Webtemp.xml*)

- Визуальный веб-части

  Изолированные решения не поддерживают следующие возможности и элементы:

- Страницы приложения

- Пользовательская группа действий

- Компоненты уровня фермы

- Элемент `HideCustomAction`

- Компоненты с областью действия веб-приложения

- Рабочие процессы с кодом

## <a name="see-also"></a>См. также
- [Различия между песочницами и решениями фермы](../sharepoint/differences-between-sandboxed-and-farm-solutions.md)
- [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)
