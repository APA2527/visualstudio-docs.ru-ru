---
title: Задача ClangCompile | Документация Майкрософт
ms.date: 03/10/2019
ms.topic: reference
f1_keywords:
- vc.task.clangcompile
dev_langs:
- VB
- CSharp
- C++
- jsharp
- C++
helpviewer_keywords:
- MSBuild (C++), ClangCompile task
- ClangCompile task (MSBuild (C++))
author: mikeblome
ms.author: mblome
ms.workload:
- multiple
ms.openlocfilehash: 1bd1d749461c423d51e0f5b736563a9f9aa757c5
ms.sourcegitcommit: 5f6ad1cefbcd3d531ce587ad30e684684f4c4d44
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/22/2019
ms.locfileid: "72747345"
---
# <a name="clangcompile-task"></a>Задача ClangCompile

Создает программу-оболочку для компилятора Microsoft C++ (clang.exe).

## <a name="parameters"></a>Параметры

В следующей таблице приводятся параметры задачи **ClangCompile**.

|Параметр|ОПИСАНИЕ|
|---------------|-----------------|
|**AdditionalIncludeDirectories**|Необязательный параметр типа **string[]** .<br/><br/>Задает один или несколько каталогов для добавления в качестве пути включения; несколько значений разделяются точками с запятой.<br/><br/>Используйте ключевое слово `-I[path]`.|
|**AdditionalOptions**|Необязательный параметр типа **string**.|
|**BufferSecurityCheck**|Необязательный параметр типа **string**.<br/><br/>Проверка безопасности помогает обнаруживать переполнения буфера стека, что является обычной попыткой обхода защиты программы. <br/><br/>Используйте ключевое слово `fstack-protector`.|
|**BuildingInIde**|Необязательный параметр типа **bool**.|
|**CLanguageStandard**|Необязательный параметр типа **string**.<br/><br/>Определяет стандарт языка C.<br/><br/>Используйте `std=[value]` со значением **c89**, **c99**, **c11**, **gnu99** или **gnu11**.|
|**ClangVersion**|Необязательный параметр типа **string**.|
|**CompileAs**|Необязательный параметр типа **string**.<br/><br/>Выбор языка компиляции C-файлов и CPP-файлов. При выборе варианта по умолчанию определение производится по расширениям .c или .cpp.<br/><br/>Используйте `-x c`, `-x c++`.|
|**CppLanguageStandard**|Необязательный параметр типа **string**.<br/><br/>Определяет стандарт языка C++.<br/><br/>Используйте `std=[value]` со значением **c++98**, **c++11**, **c++1y**, **gnu++98**, **gnu++11** или **gnu++1y**.|
|**DataLevelLinking**|Необязательный параметр типа **bool**.<br/><br/>Разрешает операциям оптимизации компоновщика удалять неиспользуемые данные, порождая каждый элемент данных в отдельном разделе.|
|**DebugInformationFormat**|Необязательный параметр типа **string**.<br/><br/>Определяет тип отладочной информации, создаваемой компилятором.<br/><br/>**None** — отладочная информация не создается для ускорения компиляции (используйте `g0`).<br/>**FullDebug** — создается отладочная информация DWARF2 (используйте `g2 -gdwarf-2`).<br/>**LineNumber** — создается только информация о номерах строк (используйте `gline-tables-only`).|
|**EnableNeonCodegen**|Необязательный параметр типа **bool**.<br/><br/>Включает создание кода для оборудования NEON с плавающей запятой. Применимо только к архитектуре ARM.|
|**ExceptionHandling**|Необязательный параметр типа **string**.<br/><br/>Задает модель обработки исключений, используемую компилятором.<br/><br/>**Disabled** — отключение обработки исключений (используйте `fno-exceptions`).<br/>**Enabled** — включение обработки исключений (используйте `fexceptions`).<br/>**UnwindTables** — создает нужные статические данные, не затрагивая создаваемый код (используйте `funwind-tables`).|
|**FloatABI**|Необязательный параметр типа **string**.<br/><br/>Параметр для выбора ABI с плавающей запятой.<br/><br/>**soft** — выходные данные компилятора содержат вызовы библиотек для операций с плавающей запятой (используйте `mfloat-abi=soft`).<br/>**softfp** — код создается с помощью аппаратных инструкций с плавающей запятой, но с соблюдением соглашений о вызове программных операций с плавающей запятой (используйте `mfloat-abi=softfp`).<br/>**hard** — позволяет создавать инструкции с плавающей запятой и использовать соглашения о вызовах для конкретных FPU (используйте `mfloat-abi=hard`).|
|**ForcedIncludeFiles**|Необязательный параметр типа **string[]** .<br/><br/>Один или несколько принудительно включаемых файлов.<br/><br/>Используйте ключевое слово `-include [name]`.|
|**FunctionLevelLinking**|Необязательный параметр типа **bool**.<br/><br/>Компилятор может упаковывать отдельные функции в форме упакованных функций (COMDAT). Требуется для изменения и продолжения работы.<br/><br/>Используйте ключевое слово `ffunction-sections`.|
|**GccToolChain**|Необязательный параметр типа **string**.<br/><br/>Путь к папке с цепочкой инструментов Gcc.|
|**GNUMode**|Необязательный параметр типа **bool**.<br/><br/>|
|**MSCompatibility**|Необязательный параметр типа **bool**.<br/><br/>Включение полной совместимости с Microsoft C++.|
|**MSCompatibilityVersion**|Необязательный параметр типа **string**.<br/><br/>Значение с разделителями-точками, представляющее номер версии компилятора Майкрософт, который указывается в _MSC_VER (по умолчанию 0 — не задавать значение).|
|**MSExtensions**|Необязательный параметр типа **bool**.<br/><br/>Прием некоторых нестандартных конструкций, поддерживаемых компилятором корпорации Майкрософт.|
|**MSCompilerVersion**|Необязательный параметр типа **string**.<br/><br/>Номер версии компилятора Майкрософт, который указывается в _MSC_VER (по умолчанию 0 — не задавать значение).|
|**MSVCErrorReport**|Необязательный параметр типа **bool**.<br/><br/>Отчеты об ошибках, которые Visual Studio может проанализировать для получения данных о файле и строке.|
|**ObjectFileName**|Необязательный параметр типа **string**.<br/><br/>Задает имя, переопределяющее имя объектного файла по умолчанию; может быть именем файла или каталога.<br/><br/>Используйте ключевое слово `/Fo[name]`.|
|**OmitFramePointers**|Необязательный параметр типа **bool**.<br/><br/>Отменяет создание указателей на фреймы в стеке вызовов.|
|**Optimization**|Необязательный параметр типа **string**.<br/><br/>Указывает уровень оптимизации для приложения.<br/><br/>**Custom** — настраиваемая оптимизация.<br/>**Disabled** — отключить оптимизацию (используйте `O0`).<br/>**MinSize** — оптимизировать по размеру (используйте `Os`).<br/>**MaxSpeed** — оптимизировать по скорости (используйте `O2`).<br/>**Full** — дорогостоящие оптимизации (используйте `O3`).|
|**PositionIndependentCode**|Необязательный параметр типа **bool**.<br/><br/>Создать позиционно-независимый код (PIC) для использования в общей библиотеке.|
|**PrecompiledHeader**|Необязательный параметр типа **string**.<br/><br/>Разрешает создание или использование предварительно скомпилированного заголовка во время сборки.|
|**PrecompiledHeaderFile**|Необязательный параметр типа **string**.<br/><br/>Задает имя, используемое для файла предкомпилированных заголовков. Во время сборки этот файл будет также добавлен в **принудительно включенные файлы**.|
|**PrecompiledHeaderOutputFileDirectory**|Необязательный параметр типа **string**.<br/><br/>Указывает каталог для создаваемого предкомпилированного заголовка. Во время сборки этот каталог также добавляется в **дополнительные каталоги включаемых файлов**.|
|**PrecompiledHeaderCompileAs**|Необязательный параметр типа **string**.<br/><br/>Выбор языка компиляции для файла предкомпилированных заголовков.<br/><br/>Используйте `-x c-header`, `-x c++-header`.|
|**PreprocessorDefinitions**|Необязательный параметр типа **string[]** .<br/><br/>Определяет символы предварительной обработки в исходном файле.<br/><br/>Используйте ключевое слово `-D`.|
|**RuntimeLibrary**|Необязательный параметр типа **string**.<br/><br/>Определяет библиотеку среды выполнения для компоновки.<br/><br/>Используйте параметры `MSVC /MT`, `/MTd`, `/MD`, `/MDd`.<br/><br/>**MultiThreaded** — предписывает приложению использовать многопоточную, статичную версию библиотеки среды выполнения.<br/>**MultiThreadedDebug** — определяет параметры _DEBUG и _MT. Этот параметр также предписывает компилятору размещение имени библиотеки LIBCMTD.lib в .obj-файле, чтобы компоновщик использовал LIBCMTD.lib для разрешения внешних символов.<br/>**MultiThreadedDLL** — предписывает приложению использовать специальную многопоточную версию библиотеки среды выполнения для конкретной библиотеки DLL. Определяет параметры _MT и _DLL и предписывает компилятору размещать имя библиотеки MSVCRT.lib в OBJ-файле.<br/>**MultiThreadedDebugDLL** — определяет параметры _DEBUG, _MT и_DLL и предписывает приложению использовать специальную многопоточную версию библиотеки среды выполнения для конкретной библиотеки DLL. Также предписывает компилятору размещение имени библиотеки MSVCRTD.lib в .obj-файле.|
|**RuntimeTypeInfo**|Необязательный параметр типа **bool**.<br/><br/>Добавляет код для проверки типов объектов C++ во время выполнения (информация о типах времени выполнения).<br/><br/>Используйте `frtti`, `fno-rtti`.|
|**ShowIncludes**|Необязательный параметр типа **bool**.<br/><br/>Создает список включаемых файлов с выводом компилятора.<br/><br/>Используйте ключевое слово `-H`.|
|**Sources**|Обязательный параметр **ITaskItem[]** .|
|**StrictAliasing**|Необязательный параметр типа **bool**.<br/><br/>Использовать самые строгие правила присвоения псевдонима. Объект одного типа никогда не будет считаться находящимся по тому же адресу, что и объект другого типа.|
|**Sysroot**|Необязательный параметр типа **string**.<br/><br/>Путь к корневому каталогу с заголовками и библиотеками.|
|**TargetArch**|Необязательный параметр типа **string**.<br/><br/>Целевая архитектура.|
|**ThumbMode**|Необязательный параметр типа **string**.<br/><br/>Создайте код, выполняемый для микроархитектуры Thumb. Применимо только к архитектуре ARM.<br/><br/>**Thumb** — создание кода Thumb (используйте `mthumb`).<br/>**ARM** — создание кода Arm (используйте `marm`).<br/>**Disabled** — вариант недоступен для выбранной платформы.|
|**TrackerLogDirectory**|Необязательный параметр типа **string**.<br/><br/>Каталог журнала отслеживания.|
|**TreatWarningAsError**|Необязательный параметр типа **bool**.<br/><br/>Интерпретирует все предупреждения компилятора как ошибки.<br/><br/>Для нового проекта мы рекомендуем использовать параметр `/WX` во всех компиляциях. Разрешение всех предупреждений снизит число трудновыявляемых дефектов кода.|
|**UndefinePreprocessorDefinitions**|Необязательный параметр типа **string[]** .<br/><br/>Задает одну или несколько отмен определений препроцессора.<br/><br/>Используйте ключевое слово `-U [macro]`.|
|**UndefineAllPreprocessorDefinitions**|Необязательный параметр типа **bool**.<br/><br/>Отменить все объявленные ранее определения препроцессора.<br/><br/>Используйте ключевое слово `-undef`.|
|**UseMultiToolTask**|Необязательный параметр типа **bool**.<br/><br/>Многопроцессорная компиляция.|
|**UseShortEnums**|Необязательный параметр типа **bool**.<br/><br/>Тип перечисления использует столько байт, сколько требует входной набор возможных значений.|
|**Verbose**|Необязательный параметр типа **bool**.<br/><br/>Отображение команд для выполнения и использования подробного вывода.|
|**WarningLevel**|Необязательный параметр типа **string**.<br/><br/>Выберите, как строго компилятор должен воспринимать ошибки в коде. Другие флаги следует добавлять непосредственно в раздел **дополнительных параметров** (используйте `/w`, `/Weverything`).<br/><br/>**TurnOffAllWarnings** — отключает все предупреждения компилятора (используйте `w`).<br/>**EnableAllWarnings** — включает все предупреждения, в том числе отключенные по умолчанию (используйте `Wall`).|

## <a name="see-also"></a>См. также

[Справочные сведения о задачах](../msbuild/msbuild-task-reference.md)