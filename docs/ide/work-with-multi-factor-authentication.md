---
title: Работа с учетными записями, которые требуют многофакторную проверку подлинности
ms.date: 05/27/2020
ms.topic: conceptual
description: Сведения о том, как использовать Visual Studio с учетными записями, которые используют многофакторную идентификацию.
author: ornellaalt
ms.author: ornella
manager: jillfra
ms.workload:
- multiple
monikerRange: '>=vs-2019'
ms.openlocfilehash: 696664aa5aa92a3e9a675df4803a3e65e3e81f36
ms.sourcegitcommit: d20ce855461c240ac5eee0fcfe373f166b4a04a9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2020
ms.locfileid: "84185701"
---
# <a name="how-to-use-visual-studio-with-accounts-that-require-multi-factor-authentication"></a>Использование Visual Studio с учетными записями, которые требуют многофакторную идентификацию

При взаимодействии с внешними гостевыми пользователями рекомендуется защищать свои приложения с помощью политик **условного доступа**, таких как **многофакторная идентификация**.  

Если такие политики применяются, для доступа к вашим ресурсам гостевым пользователям необходимо выполнить дополнительные требования безопасности, помимо ввода традиционных имени пользователя и пароля. Эти политики можно применять на уровне клиента, приложения или отдельных гостевых пользователей точно так же, как для сотрудников и членов организации. 

## <a name="how-is-the-visual-studio-experience-affected-by-mfa-policies"></a>Как политики многофакторной идентификации влияют на работу с Visual Studio?
В версиях Visual Studio до 16.6 возможны определенные проблемы с проверкой подлинности при работе с учетными записями, которые используют политики условного доступа (например, многофакторную идентификацию) и связаны с несколькими клиентами.

В таких случаях в вашем экземпляре Visual Studio могут несколько раз в день появляться запросы на повторную проверку подлинности. Соответственно, вам будет необходимо снова вводить учетные данные ранее прошедших проверку подлинности клиентов даже в рамках одного и того же сеанса Visual Studio.

## <a name="using-visual-studio-with-mfa-policies"></a>Использование Visual Studio с политиками многофакторной идентификации
В версии 16.6 в Visual Studio 2019 были реализованы новые возможности, позволяющие оптимизировать процесс доступа пользователей к ресурсам, защищенным с помощью политик условного доступа, таких как многофакторная идентификация. Что воспользоваться этим усовершенствованным рабочим процессом, вам необходимо настроить установленный по умолчанию в системе веб-браузер в качестве механизма для добавления или повторной проверки подлинности учетных записей Visual Studio.  

> [!WARNING]
> Если вы не используете этот рабочий процесс, могут возникать проблемы, связанные с многократными запросами на ввод учетных данных при добавлении или повторной проверке подлинности учетных записей Visual Studio. 

### <a name="enabling-system-web-browser"></a>Настройка использования системного веб-браузера  
Чтобы использовать этот рабочий процесс, перейдите в диалоговое окно параметров Visual Studio **(Сервис > Параметры)** , откройте вкладку **Учетные записи** и выберите пункт **Системный веб-браузер** в раскрывающемся списке **Использовать для добавления и повторной проверки подлинности учетных записей**. 

:::image type="content" source="media/select-system-web-browser.png" alt-text="Выберите системный веб-браузер в меню.":::

### <a name="sign-into-additional-accounts-with-mfapolicies"></a>Вход в дополнительные учетные записи, использующие политики многофакторной идентификации 
После активации рабочего процесса с использованием системного веб-браузера вы можете выполнять вход в дополнительные учетные записи или добавлять их в Visual Studio обычным способом с помощью диалогового окна "Параметры учетной записи" **(Файл > Параметры учетной записи)** .   
</br>
:::image type="content" source="media/add-personalization-account.png" alt-text="Добавьте в Visual Studio новую учетную запись персонализации." border="false":::

В результате этого действия откроется установленный по умолчанию в системе веб-браузер и появится запрос на вход в учетную запись и прохождение проверки с использованием заданной политики многофакторной идентификации. 

> [!NOTE] 
> На протяжении всего этого процесса веб-браузер должен оставаться открытым, поскольку в противном случае могут появляться дополнительные запросы на авторизацию. 

## <a name="reauthenticating-an-account"></a>Повторная проверка подлинности учетной записи  
При возникновении проблем с учетной записью в Visual Studio может появиться запрос на повторный ввод ее учетных данных.  

:::image type="content" source="media/reauthenticate-account.png" alt-text="Выполните повторную проверку подлинности учетной записи Visual Studio.":::

Щелкните **Еще раз введите учетные данные**. Откроется установленный по умолчанию в системе веб-браузер, и будет предпринята попытка автоматически обновить ваши учетные данные. В случае неудачи вам будет предложено войти в учетную запись и пройти проверку с использованием заданной политики многофакторной идентификации. 

> [!NOTE] 
> На протяжении всего этого процесса веб-браузер должен оставаться открытым, поскольку в противном случае могут появляться дополнительные запросы на авторизацию. 

## <a name="how-to-opt-out-of-using-a-specific-azure-active-directory-tenant-in-visual-studio"></a>Отключение работы с конкретным клиентом Azure Active Directory в Visual Studio

В версии 16.6 Visual Studio 2019 предусмотрен фильтр, с помощью которого можно отключить некоторых клиентов и скрыть их в Visual Studio. В этом случае вам не придется проходить проверку подлинности для таких клиентов, но при этом вы не сможете получить доступ к связанным с ними ресурсам. 

Эта возможность может быть полезна, если вам требуется оптимизировать среду разработки, ограничив круг клиентов. Кроме того, она пригодится в тех случаях, когда вы не можете пройти проверку с использованием какой-либо политики условного доступа (многофакторной идентификации) из-за нарушений со стороны отдельных клиентов. 

### <a name="how-to-filter-out-a-tenant"></a>Фильтрация клиентов
Чтобы выполнить фильтрацию клиентов, связанных с вашей учетной записью Visual Studio, откройте диалоговое окно "Параметры учетной записи" **(Файл > Параметры учетной записи)** и щелкните **Применить фильтр**. 
</br>
</br>

:::image type="content" source="media/apply-filter.png" alt-text="Примените фильтр." border="false":::

Появится диалоговое окно **Фильтровать по учетной записи**, где вы можете выбрать клиентов, которые будут использоваться с вашей учетной записью. 

:::image type="content" source="media/select-filter-account.png" alt-text="Выберите учетную запись для фильтрации.":::

## <a name="see-also"></a>См. также

- [Вход в Visual Studio](signing-in-to-visual-studio.md)
- [Вход в Visual Studio для Mac](/visualstudio/mac/signing-in)
- [Работа с несколькими учетными записями пользователя](work-with-multiple-user-accounts.md)