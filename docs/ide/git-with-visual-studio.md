---
title: Новый интерфейс GIT в Visual Studio (предварительная версия)
titleSuffix: ''
description: Сведения о новом интегрированном интерфейсе GIT в Visual Studio 2019
ms.date: 09/22/2020
ms.topic: conceptual
ms.author: tglee
author: prnadago
ms.manager: jillfra
monikerRange: vs-2019
ms.openlocfilehash: 1f9dc891219e5563ad6ea72085b0ad28469c7171
ms.sourcegitcommit: a876fcc75321f9c30729121cae83f400973f9d9d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/15/2020
ms.locfileid: "92082061"
---
# <a name="new-git-experience-in-visual-studio-preview"></a>Новый интерфейс GIT в Visual Studio (предварительная версия)

Начиная с [версии 16.6](/visualstudio/releases/2019/release-notes-v16.6) в Visual Studio 2019 появился новый интерфейс GIT, который упрощает использование GIT из интегрированной среды разработки. GIT — это наиболее широко используемая современная система управления версиями, которая может быть полезна как профессиональным разработчиком, так и только начинающим изучать программирование.

> [!TIP]
> Если вы не знакомы с GIT, можно начать с веб-сайта https://git-scm.com/. На нем вы найдете популярную электронную книгу, видеоматериалы по основам GIT и памятки.

## <a name="how-to-start-using-git-in-visual-studio"></a>Начало работы с GIT в Visual Studio

Чтобы включить новый интерфейс GIT, перейдите в раздел **Сервис** > **Параметры** > **Среда** > **Функции предварительной версии** и установите флажок **Новый пользовательский интерфейс GIT** .

:::image type="content" source="media/git-opt-new-user-experience.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

Использовать GIT в Visual Studio 2019 можно тремя способами.

- [Открытие существующего репозитория GIT](#open-an-existing-local-repository). Если у вас уже есть код на компьютере, его можно открыть с помощью пункта меню **Файл** > **Открыть** > **Решение/проект** (или **Папка** ). Visual Studio автоматически определяет, имеется ли инициализированный репозиторий GIT.
- [Создание нового репозитория GIT](#create-a-new-git-repository). Если ваш код не связан с GIT, можно создать новый репозиторий GIT.
- [Клонирование существующего репозитория GIT](#clone-an-existing-git-repository). Если код, с которым вы хотите работать, не находится на вашем компьютере, можно клонировать любые существующие удаленные репозитории.

## <a name="create-a-new-git-repository"></a>Создание репозитория GIT

Если ваш код не связан с GIT, можно начать с создания нового репозитория GIT. Для этого в строке меню выберите **GIT** > **Создать репозиторий GIT** . Затем в диалоговом окне **Создание репозитория GIT** введите свои данные.

:::image type="content" source="media/git-create-repository.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

С помощью диалогового окна **Создание репозитория GIT** можно легко отправить новый репозиторий в GitHub. По умолчанию новый репозиторий является частным. Это означает, что доступ к нему есть только у вас. Если снять соответствующий флажок, репозиторий будет общедоступным. Это означает, что любой пользователь в GitHub сможет его просмотреть.

> [!TIP]
> Независимо от того, является ли репозиторий общедоступным или частным, лучше создать удаленную резервную копию кода, которая будет безопасно храниться в GitHub, даже если вы работаете сами по себе. Это также позволит вам получать доступ к коду с любого компьютера.

Вы можете создать исключительно локальный репозиторий GIT, выбрав параметр **Только локальный** . Вы также можете связать репозиторий с любым существующим пустым удаленным репозиторием, размещенным у любого другого поставщика GIT, с помощью параметра **Существующий удаленный** .

## <a name="clone-an-existing-git-repository"></a>Клонирование существующего репозитория GIT

В Visual Studio процесс клонирования прост. Если вы знаете URL-адрес репозитория, который нужно клонировать, можно вставить его в разделе **Расположение репозитория** , а затем выбрать место на диске, в которое будет клонирован репозиторий.

:::image type="content" source="media/git-clone-repository.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

Если вы не знаете URL-адрес репозитория, в Visual Studio можно легко перейти к существующему репозиторию GitHub или Azure DevOps и выбрать его.

### <a name="open-an-existing-local-repository"></a>Открытие существующего локального репозитория

После клонирования или создания репозитория GIT Visual Studio обнаружит его и добавит в список **Локальные репозитории** в меню GIT. В нем можно быстро открывать репозитории GIT и переключаться между ними.

:::image type="content" source="media/git-local-repositories.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

## <a name="view-files-in-solution-explorer"></a>Просмотр файлов в обозревателе решений

При клонировании репозитория или открытии локального репозитория Visual Studio переключается в этот контекст GIT, сохраняя и закрывая все ранее открытые решения и проекты. Обозреватель решений загружает папку в корне репозитория GIT и проверяет дерево каталогов на наличие файлов представлений. К ним относятся такие файлы, как CMakeLists.txt или файлы с расширением SLN.

Visual Studio настраивает представление в зависимости от файла представления, загруженного в обозревателе решений.

- При клонировании репозитория, содержащего один SLN-файл, обозреватель решений напрямую загружает это решение.
- Если обозреватель решений не обнаруживает файлов SLN в репозитории, по умолчанию он загружает представление папки.
- Если репозиторий содержит несколько файлов SLN, то обозреватель решений выводит список доступных представлений для выбора.

Переключаться между текущим представлением и списком представлений можно с помощью кнопки **Переключить представления** на панели инструментов обозревателя решений.

:::image type="content" source="media/git-solution-explorer-views.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

## <a name="git-changes-window"></a>Окно "Изменения GIT"

GIT отслеживает изменения файлов в репозитории в процессе работы и разделяет файлы на три категории. Это те же изменения, которые отображаются при вводе команды `git status` в командной строке.

- **Файлы без изменений** : эти файлы не были изменены с момента последней фиксации.
- **Измененные файлы** : эти файлы изменились с момента последней фиксации, но еще не были подготовлены для следующей фиксации.
- **Промежуточные файлы** : эти файлы содержат изменения, которые будут добавлены в следующую фиксацию.

В процессе работы Visual Studio отслеживает изменения в файлах проекта в разделе **Изменения** окна **Изменения GIT** .

:::image type="content" source="media/git-changes-window.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio" ( **+** ) в верхней части раздела **Изменения** .

При подготовке изменения Visual Studio создает раздел **Подготовленные изменения** . Только изменения из раздела **Подготовленные изменения** добавляются к следующей фиксации, которую можно выполнить, выбрав команду **Зафиксировать промежуточные** . Можно также отменить подготовку изменений, нажав кнопку **–** (минус). Эквивалентная команда для этого действия — `git commit -m "Your commit message"`.

Кроме того, можно отказаться от подготовки измененных файлов, пропустив область подготовки. В этом случае Visual Studio позволяет зафиксировать изменения напрямую без предварительной подготовки. Просто введите сообщение о фиксации и выберите **Зафиксировать все** . Эквивалентная команда для этого действия — `git commit -a`.

Visual Studio также позволяет выполнить фиксацию и синхронизацию одним щелчком мыши с помощью ярлыков **Зафиксировать все и отправить** и **Зафиксировать все и синхронизировать** . Если дважды щелкнуть любой файл в разделе **Изменения** или **Подготовленные изменения** , то можно построчно сравнить измененную версию файла с неизмененной.

:::image type="content" source="media/git-file-version-compare.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

> [!TIP]
> Если вы подключены к репозиторию Azure DevOps, вы можете связать рабочий элемент Azure DevOps с фиксацией, используя символ #. Чтобы подключить репозиторий Azure DevOps, выберите Team Explorer > "Управление подключениями".

### <a name="select-an-existing-branch"></a>Выбор существующей ветви

В Visual Studio текущая ветвь отображается в селекторе в верхней части окна **Изменения GIT** .

:::image type="content" source="media/git-changes-current-branch-selector.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

Текущая ветвь также доступна в строке состояния в правом нижнем углу интегрированной среды разработки Visual Studio.

:::image type="content" source="media/git-changes-current-branch-status-bar.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

В обоих местах можно переключаться между имеющимися ветвями.

### <a name="create-a-new-branch"></a>Создание ветви

Можно также создать новую ветвь. Эквивалентная команда для этого действия — `git checkout <branchname>`.

Чтобы создать ветвь, достаточно ввести ее имя и указать существующую ветвь, на основе которой будет создана данная.

:::image type="content" source="media/git-changes-create-new-branch.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

В качестве базовой можно выбрать существующую локальную или удаленную ветвь. Если флажок **Извлечь ветвь** установлен, вы автоматически переключитесь на новую ветвь после ее создания. Эквивалентная команда для этого действия — `git checkout -b <new-branch><existing-branch>`.

## <a name="git-repository-window"></a>Окно "Репозиторий GIT"

В Visual Studio имеется новое окно **Репозиторий GIT** , в котором представлены все сведения о репозитории, включая все ветви, удаленные репозитории и журналы фиксации. Открыть это окно можно из меню **GIT** или **Вид** либо непосредственно из строки состояния.

### <a name="manage-branches"></a>Управление ветвями

При выборе в меню **GIT** пункта **Управление ветвями** отображается древовидное представление ветвей в окне **Репозиторий GIT** . В левой области можно использовать контекстное меню для извлечения, создания, объединения ветвей, перемещения изменений из одной ветви в другую, отбора изменений и других действий. Щелкнув ветвь, можно просмотреть ее журнал фиксаций в правой области.

### <a name="incoming-and-outgoing-commits"></a>Входящие и исходящие фиксации

При принесении ветви в окне **Изменения GIT** под раскрывающемся списком ветвей отображается индикатор, который показывает количество фиксаций, которые не были вытянуты из удаленной ветви. Он также показывает число локальных фиксаций, которые не были отправлены.

:::image type="content" source="media/git-repo-drop-down-indicator.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

Индикатор также является ссылкой, по которой можно перейти к журналу фиксаций этой ветви в окне **Репозиторий GIT** . В начале журнала теперь отображаются сведения об этих входящих и исходящих фиксациях. Здесь можно также вытянуть или отправить фиксации.

:::image type="content" source="media/git-branch-commit-history.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

#### <a name="commit-details"></a>Сведения о фиксации

Если дважды щелкнуть **фиксацию** , в Visual Studio откроются сведения о ней в отдельном окне инструментов. Здесь можно отменить фиксацию, сбросить ее, исправить сообщение о фиксации или создать тег для нее. Если щелкнуть измененный файл в фиксации, в Visual Studio откроется **инструмент сравнения** , в котором рядом друг с другом показаны фиксация и ее предок.

:::image type="content" source="media/git-branch-commit-details.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

## <a name="handle-merge-conflicts"></a>Разрешение конфликтов слияния

Во время слияния могут возникать конфликты, если два разработчика изменяют одни и те же строки в файле и GIT неизвестно, какой вариант правильный. В этом случае GIT прерывает слияние и сообщает о конфликтном состоянии.

В Visual Studio можно легко выявлять и устранять конфликты слияния. Во-первых, в верхней части окна **Репозиторий GIT** имеется золотистая информационная панель.

:::image type="content" source="media/git-merge-conflict-gold-bar.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

В окне **Изменения GIT** также выводится сообщение *Слияние выполняется с конфликтами* , под которым в отдельном разделе указываются файлы, слияние которых не было выполнено.

:::image type="content" source="media/git-merge-progress-conflicts-message.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

Но если ни одно из этих окон не открыто и вы переходите к файлу с конфликтами слияния, вам не придется искать следующий текст:

```bash
    <<<<<<< HEAD
    =======
    >>>>>>> main
```

Вместо этого в верхней части страницы в Visual Studio отображается золотистая информационная панель с сообщением о наличии конфликтов в открытом файле. Щелкните ссылку, чтобы открыть **редактор слияния** .

:::image type="content" source="media/git-merge-conflict-gold-info-bar.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

### <a name="the-merge-editor"></a>Редактор слияния

Редактор слияния в Visual Studio позволяет выполнять трехстороннее сравнение: в нем приводятся входящие изменения, текущие изменения и результат слияния. С помощью панели инструментов вверху **редактора слияния** можно переходить между конфликтами и просматривать результаты автоматического слияния в файле.

:::image type="content" source="media/git-merge-editor.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

Можно также использовать переключатели для отображения и скрытия различий, отображения и скрытия различий в словах и настройки макета. Вверху с каждой стороны есть флажки, с помощью которых можно перенести все изменения с одной стороны на другую. Чтобы перенести отдельные изменения, можно установить флажки слева от конфликтующих строк с любой стороны. Завершив разрешение конфликтов, нажмите в редакторе слияния кнопку **Принять слияние** . После этого нужно ввести сообщение о фиксации и зафиксировать изменения, чтобы завершить процесс разрешения.

## <a name="personalize-your-git-settings"></a>Настройка параметров GIT

Чтобы настроить параметры GIT на уровне репозитория, а также на глобальном уровне, выберите в строке меню пункты **GIT** > **Параметры** или **Сервис** > **Параметры** > **Управление исходным кодом** . Затем выберите нужные параметры.

:::image type="content" source="media/git-options-settings.png" alt-text="Снимок экрана: раздел &quot;Функции предварительной версии&quot; диалогового окна &quot;Параметры&quot; в Visual Studio":::

## <a name="whats-next"></a>Что дальше?

Следите за новостями. Мы будем обновлять эту страницу по мере дальнейшего совершенствования нового интерфейса GIT в Visual Studio 2019.

> [!IMPORTANT]
> Если у вас есть предложение, отправьте его нам. Мы будем рады вашему участию в работе над решением на портале [**Сообщества разработчиков**](https://aka.ms/vs-suggest).

## <a name="see-also"></a>См. также раздел

- Видео, посвященное [новому интерфейсу GIT](https://channel9.msdn.com/Shows/Visual-Studio-Toolbox/The-New-Git-Experience), на Channel 9 и [YouTube](https://www.youtube.com/watch?v=ZiQ2LXtAJ6I&feature=youtu.be)
- Запись блога [Новые интересные обновления для интерфейса GIT в Visual Studio](https://devblogs.microsoft.com/visualstudio/exciting-new-updates-to-the-git-experience-in-visual-studio/)
- Запись блога [Улучшенный интерфейс GIT в Visual Studio 2019](https://devblogs.microsoft.com/visualstudio/improved-git-experience-in-visual-studio-2019/)
- [Заметки о выпуске Visual Studio 2019](/visualstudio/releases/2019/release-notes)
