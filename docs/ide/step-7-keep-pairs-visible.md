---
title: Шаг 7. Отмена исчезновения пар значков
ms.date: 11/04/2016
ms.topic: tutorial
ms.prod: visual-studio-windows
ms.technology: vs-ide-general
dev_langs:
- CSharp
- VB
ms.assetid: 42e1d08c-7b2e-4efd-9f47-85d6206afe35
author: ornellaalt
ms.author: ornella
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: e854425bab10174220188b23fb7e292371e9cb48
ms.sourcegitcommit: 2c26d6e6f2a5c56ae5102cdded7b02f2d0fd686c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2020
ms.locfileid: "88168727"
---
# <a name="step-7-keep-pairs-visible"></a>Шаг 7. Отмена исчезновения пар значков
Игра работает правильно, пока игрок выбирает только пары значков, которые не совпадают. Но давайте посмотрим, что произойдет, когда игрок выберет совпадающую пару. Вместо того чтобы значки исчезали благодаря включению таймера (с помощью метода <xref:System.Windows.Forms.Timer.Start>), игра должна сбрасываться и больше не отслеживать метки с помощью ссылочных переменных `firstClicked` и `secondClicked`. Но цвета двух меток, которые были выбраны, не должны сбрасываться.

## <a name="to-keep-pairs-visible"></a>Отмена исчезновения пар значков

1. Добавьте следующий оператор `if` в конец кода метода обработчика событий `label_Click()` перед оператором, который запускает таймер. Внимательно просмотрите код при добавлении его в программу. Рассмотрим, как работает код.

     [!code-csharp[VbExpressTutorial4Step7#9](../ide/codesnippet/CSharp/step-7-keep-pairs-visible_1.cs)]
     [!code-vb[VbExpressTutorial4Step7#9](../ide/codesnippet/VisualBasic/step-7-keep-pairs-visible_1.vb)]

     > [!IMPORTANT]
     > Используйте элемент управления языка программирования в правом верхнем углу этой страницы, чтобы просмотреть фрагмент кода на C# или Visual Basic.<br><br>![Элемент управления языка программирования для Docs.Microsoft.com](../ide/media/docs-programming-language-control.png)

     Первая строка только что добавленного оператора `if` проверяет, совпадает ли значок в первой метке, которую выбрал игрок, со значком во второй метке. Если значки совпадают, программа выполняет три оператора, которые расположены между фигурными скобками в C# или внутри оператора `if` в Visual Basic. Первые два оператора сбрасывают ссылочные переменные `firstClicked` и `secondClicked`, чтобы они больше не отслеживали какие-либо метки. (Возможно, вы узнали эти два оператора из обработчика событий <xref:System.Windows.Forms.Timer.Tick> таймера.) Третий оператор — оператор `return`, который сообщает программе, что требуется пропустить оставшиеся в методе операторы и не выполнять их.

     При программировании в C# вы могли обратить внимание, что в некоторых местах кода используется одиночный знак равенства (`=`), а в других — двойной (`==`). Рассмотрим, почему в одних местах используется `=`, а в других — `==`.

     Вот хороший пример, показывающий разницу. Внимательно посмотрите на код между скобками в операторе `if`.

    ```vb
    firstClicked.Text = secondClicked.Text
    ```

    ```csharp
    firstClicked.Text == secondClicked.Text
    ```

     Затем внимательно посмотрите на первый оператор в блоке кода после оператора `if`.

    ```vb
    firstClicked = Nothing
    ```

    ```csharp
    firstClicked = null;
    ```

     Первый из этих двух операторов проверяет, являются ли два значка одинаковыми. Поскольку два значения сравниваются, программа C# использует оператор равенства `==`. Второй оператор на самом деле изменяет значение (это называется *присваивание*), задавая ссылочной переменной `firstClicked` значение `null`, чтобы ее сбросить. Вот почему здесь используется оператор присваивания `=`. В C# для задания значений используется оператор `=`, а оператор `==` используется для их сравнения. В Visual Basic оператор `=` используется для присваивания значений переменным и для сравнения.

2. Сохраните и запустите программу, а затем начните выбирать значки в форме. Если вы выбрали пару, которая не совпадает, произойдет событие таймера Tick и оба значка исчезнут. Если вы выбрали пару, которая совпадает, выполнится новый оператор `if`, а оператор return укажет методу пропустить код, запускающий таймер, чтобы значки остались видимыми, как показано на следующем рисунке.

     ![Игра, которую вы создадите в этом учебном руководстве](../ide/media/express_finishedgame.png)<br/>
***Игра "Подбери пару!"*** *с видимыми парами значков*

## <a name="to-continue-or-review"></a>Продолжить или повторить пройденный материал

- Следующий раздел руководства: **[Шаг 8. Добавление метода для проверки, выиграл ли игрок](../ide/step-8-add-a-method-to-verify-whether-the-player-won.md)**

- Предыдущий раздел: [Шаг 6. Добавление таймера](../ide/step-6-add-a-timer.md).
