---
title: Производительность XSLT
description: Узнайте о профилировщике XSLT в Visual Studio, который создает подробные отчеты о производительности XSLT, помогающие оптимизировать производительность кода XSLT.
ms.custom: SEO-VS-2020
ms.date: 11/11/2020
ms.topic: conceptual
ms.assetid: 87387c9a-2e89-4801-ad51-83740cd6ea25
author: TerryGLee
ms.author: tglee
manager: jmartens
ms.workload:
- multiple
monikerRange: vs-2017
ms.openlocfilehash: 9dc37ceddd87fa0b6c8029c0acb8ea195f9ce10b
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99900806"
---
# <a name="the-xslt-profiler"></a>Профилировщик XSLT

Профилировщик XSLT создает подробные отчеты о производительности XSLT, помогающие измерять, оценивать и выявлять проблемы в XSLT коде, связанные с производительностью. Профилировщик XSLT содержит полезные подсказки по оптимизации таблиц стилей XSL и XSLT. Для приложений XSLT, требующих максимальной производительности, данное средство может стать незаменимым.

Профилировщик XSLT является частью Visual Studio и открывается через меню **XML**.

![Профилировщик XSLT](../xml-tools/media/profile-xslt-menu.png "Снимок экрана: пункты меню XML в Visual Studio 2017.")

> [!NOTE]
> Профилировщик XSLT предоставляется только в выпуске Visual Studio Enterprise 2017.

## <a name="create-a-performance-report"></a>Создание отчета о производительности

1. Откройте XSLT-документ в редакторе Visual Studio 2017.

2. В строке меню выберите **XML** > **Профиль XSLT**.

3. Предоставьте входной XML документ. Если XML-документ до сих пор не был открыт, появится приглашение открыть файл.

   Начнется анализ и индикатор выполнения в редакторе будет отображать прогресс. Также отображаются выходные данные XSLT.

4. По окончании сеанса проверки производительности изучите отчет для анализа производительности XSLT.

## <a name="get-all-available-views"></a>Получение всех доступных представлений

1. Щелкните раскрывающийся список **Текущее представление**, чтобы получить список всех доступных представлений.

2. Выберите вариант **Просмотреть сводку** в раскрывающемся списке **Текущее представление**. По умолчанию отчет о производительности отображается в представлении **Сводка**. Это представление является отправной точкой для определения проблем производительности XSLT-документов. Представление **Сводка** содержит следующие точки данных:

   - Наиболее часто вызываемые функции

   - Функции с максимальным объемом индивидуальной работы

   - Функции с наибольшим временем выполнения

   По умолчанию каждая точка данных имеет три столбца: имя функции, количество вызовов в абсолютном значении и процентное отношение вызовов названной функции к общему числу вызовов функции. Из каждой точки данных в представлении **Сводка** можно перейти к более подробным представлениям, щелкнув правой кнопкой мыши точки данных функции.

3. Выберите параметр **Function View** (Представление функций) в раскрывающемся списке **Текущее представление**. **Представление функций** содержит список функций, вызванных во время профилирования. Щелкнув имя столбца, можно сортировать данные. По умолчанию отображаются следующие столбцы:

    - **Имя функции**

    - **Затраченное инклюзивное время**

    - **Затраченное эксклюзивное время**

    - **Инклюзивное время приложения**

    - **Эксклюзивное время приложения**

    - **Число вызовов**

   Все столбцы времени отображаются в абсолютном и процентном значениях. Термин **Эксклюзивный** относится к общему времени, затраченному на выполнение функции, из которого вычтено время, затраченное другими функциями, вызванными в процессе выполнения этой функции.

   Термин **Инклюзивный** относится к общему времени, затраченному функцией на выполнение, включая время выполнения всех функций, к которые она обращалась, и любых других функций, вызванных в процессе выполнения этих функций.

## <a name="select-callercallee-view"></a>Выберите представление «Вызывающий/вызываемый»

Выберите представление **Вызывающий/вызываемый** в раскрывающемся списке **Текущее представление**. Представление **Вызывающий/вызываемый** состоит их трех отдельных частей:

- **Функции, вызвавшие {0}** . Все функции, которые вызывали определенную функцию, перечислены в верхней части представления.

- **Текущая функция**. Конкретная функция, которая вызывалась, отображена в средней части представления.

- **Функции, вызванные {0}** . Все функции, вызывавшиеся конкретной функцией, перечислены в нижней части представления.

Если функция по имени `SyncToNavigator` появится в средней части представления, то все функции, вызывавшие функцию `SyncToNavigator`, будут отображены в верхней части представления, а все функции, которые вызывались функцией `SyncToNavigator`, будут отображены в нижней части представления.

- Можно изменить функцию в средней части представления, дважды щелкнув любую из функций, перечисленных в двух других частях представления. Представление обновится автоматически, чтобы отобразить произведенные изменения.

- Можно также сортировать данные, щелкая имена столбцов.

## <a name="select-call-tree-view"></a>Выбор представления дерева вызовов

- Выберите представление **Дерево вызовов** в раскрывающемся списке **Текущее представление**. Данное представление является древовидным представлением выполнения программы.

   В представление **Дерево вызовов** отображается имя процесса в качестве корневого элемента дерева. Функции являются узлами дерева. Данное представление позволяет углубляться в конкретные трассировки вызовов и анализировать, какие из трассировок оказывают большее влияние на производительность. Это представление подобно представлению **Стек вызовов**, которое доступно во время отладки. Помимо столбцов в **представлении функции**, в представлении **Дерево вызовов** есть дополнительный столбец, отображающий **Имя модуля**.

- Выберите **Метки** в раскрывающемся списке **Текущее представление**.

   В профилировщике XSLT есть метки, которые отображаются в потоке сбора данных с соответствующим комментарием. Метки представляют собой места в коде, имеющие счетчики. Когда профилировщику XSLT поставлена задача сбора счетчиков производительности XSLT, счетчики собираются каждый раз, когда одна из этих меток выполняется. Данные отображаются в таблице, которая содержит **Идентификатор метки**, **Имя метки** (**Запуск программы**, **Завершение программы**) и **Отметка времени**. Метки не проходят статистическую обработку и отображаются в хронологическом порядке в **представлении меток** отчета о производительности.

## <a name="select-modules-in-the-current-view"></a>Выбор модуля в текущем представлении.

- Выберите **Модули** в раскрывающемся списке **Текущее представление**.

   Представление модулей - это плоский список всех функций, агрегированных на уровне модуля. Чтобы отобразить или свернуть данные о производительности модуля, следует отобразить или закрыть имя модуля. Щелкнув имя столбца, можно сортировать данные. По умолчанию для разделов **Затраченное инклюзивное время**, **Затраченное эксклюзивное время**, **Инклюзивное время приложения**, **Эксклюзивное время приложения** и **Количество вызовов** отображаются абсолютное и процентное значение.

- Выберите **Процесс** в раскрывающемся списке **Текущее представление**.

   Представление процесса содержит таблицу, которая включает столбцы **Идентификатор процесса**, **Имя процесса**, **Время начала** и **Время окончания**. Данные можно сортировать, щелкая имена столбцов.

## <a name="see-also"></a>См. также

- [Пошаговое руководство: Использование иерархии XSLT](../xml-tools/walkthrough-using-xslt-hierarchy.md)
