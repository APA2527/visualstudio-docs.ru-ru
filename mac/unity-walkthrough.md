---
title: Начало создания игры с Unity в Visual Studio для Mac
description: Начало работы с Unity и Visual Studio для Mac
author: asb3993
ms.author: amburns
ms.date: 05/20/2019
ms.topic: article
ms.technology: vs-ide-general
ms.assetid: D07FA43B-9D18-4DFA-8343-CD538FAD84DB
ms.openlocfilehash: 8f14d21468336dba220a76ad8978f136d50f96f1
ms.sourcegitcommit: cc5fd59e5dc99181601b7db8b28d7f8a83a36bab
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2019
ms.locfileid: "66836163"
---
# <a name="getting-started-building-games-with-unity-in-visual-studio-for-mac"></a>Начало создания игры с Unity в Visual Studio для Mac 

Unity представляет собой игр механизм, который позволяет разрабатывать игры в C#. В этом пошаговом руководстве показано, как приступить к разработке и отладки игр Unity с помощью Visual Studio для Mac и Visual Studio для Mac средств для расширения Unity наряду с среды Unity.

Visual Studio для средства Mac для Unity представляют собой бесплатное расширение, вместе с Visual Studio для Mac. Она позволяет разработчикам Unity, чтобы воспользоваться преимуществами функций повышения продуктивности Visual Studio для Mac, включая отличную поддержку IntelliSense, отладку и другие возможности.

## <a name="objectives"></a>Цели

> [!div class="checklist"]
> * Дополнительные сведения о разработке с помощью Visual Studio для Mac для Unity

## <a name="prerequisites"></a>Предварительные требования

- Visual Studio для Mac ([https://www.visualstudio.com/vs/mac](https://www.visualstudio.com/vs/visual-studio-mac))
- Unity 5.6.1 Personal Edition или более поздней версии ([https://store.unity.com](https://store.unity.com/), требуется учетная запись unity.com для запуска)

## <a name="intended-audience"></a>Целевая аудитория

Это лабораторное занятие предназначено для разработчиков, знакомых с C#, несмотря на то, что не требуется обширный опыт.

## <a name="task-1-creating-a-basic-unity-project"></a>Задача 1. Создание базового проекта Unity

1. Запустите **Unity**. Вход, если запрошено.

2. Щелкните **Создать**.

    ![Кнопка "Создать" в unity](media/unity-image1.png)

3. Задайте **имя_проекта** для **«UnityLab»** и выберите **3D**. Нажмите кнопку **создать проект**.

    ![Создание нового экрана проекта](media/unity-image2.png)

4. Теперь вы увидите интерфейс Unity по умолчанию. Он имеет иерархии сцены с игровым объектам в левой части, трехмерное представление пустым по середине и панель файлов проекта, в нижней части страницы и инспектор и служб в правой части сцены. Конечно существует гораздо больше к нему, но таковы некоторые из более важных компонентов.

    ![интерфейс пустой unity](media/unity-image3.png)

5. Для разработчиков — новичков в Unity, все, что запускает в приложении будут существовать в контексте **сцены**. Файл сцены является один файл, содержащий все виды метаданных о ресурсах, используемых в проекте для текущей сцене и его свойств. При создании пакета приложения для платформы, оно перемещается, который коллекцией один или несколько сцены, а также любой добавляемый код зависит от платформы. Может иметь столько сцены, при необходимости в проекте.

6. Создать сцену просто содержит веб-камеры и направленный свет. Сцена требует **камеры** сведения обо всех проблемах быть видимым и **прослушивателя аудио** сведения обо всех проблемах слышны. Эти компоненты, присоединяются к **GameObject**.

7. Выберите **Main Camera** объекта из **иерархии** области.

    ![объект главной камеры, выделен на панели иерархии](media/unity-image4.png)

8. Выберите **инспектор** панели в правой части окна, чтобы просмотреть его свойства. Свойства камеры включают информацию о преобразовании, фон, типа проекции, поле зрения и т. д. Компонент аудио прослушивателя также был добавлен по умолчанию, который фактически выполняет визуализацию сцены звукового сигнала при помощи виртуального микрофона, подключенного к камере.

    ![панели Инспектора](media/unity-image5.png)

9. Выберите **направленный свет** объекта. Это обеспечивает свет в сцену, чтобы компоненты, такие как шейдеры знать способ отрисовки объектов.

    ![Объект light направление выделены](media/unity-image6.png)

10. Используйте **инспектор** чтобы увидеть, что он включает общих свойств освещения, включая тип, цвет, насыщенность, типом теневой копии и т. д.

    ![Просмотр свойств на панели Инспектора](media/unity-image7.png)

11. Важно отметить, что проектов в Unity немного отличаются от их Visual Studio для Mac аналоги. В **проекта** щелкните правой кнопкой мыши вкладку внизу **активы** папку и выберите **отобразить в Finder**.

    ![отобразить в finder контекстного действия](media/unity-image8.png)

12. Проекты содержат **активы**, **библиотеки**, **ProjectSettings**, и **Temp** папки, как вы видите. Тем не менее, — единственный, который отображается в интерфейсе **активы** папки. **Библиотеки** папки используется локальный кэш для импортированных ресурсов; он содержит все метаданные для ресурсов. **ProjectSettings** папке хранятся параметры, которые можно настроить. **Temp** папка используется для хранения временных файлов из Mono и Unity во время сборки. Имеется также файл решения, который можно открыть в Visual Studio для Mac (**UnityLab.sln** здесь).

    ![ресурсы в finder](media/unity-image9.png)

13. Закрыть **Finder** окно и вернуться в **Unity**.

14. **Активы** папка содержит все современные средства, код, аудио, и т.д. Он теперь является пустым, но каждый отдельный файл, которые вы добавляете в проект здесь. Это всегда папку верхнего уровня в **редактора Unity**. Но всегда добавлять и удалять файлы через интерфейс Unity (или Visual Studio для Mac) и никогда не через файловую систему напрямую.

    ![папки Assets в unity](media/unity-image10.png)

15. **GameObject** является центральным элементом разработки в Unity, как почти все, что является производным от типа, включая модели, индикаторы, системы частиц и т. д. Добавьте новый **куба** объекта в сцену через **GameObject > трехмерный объект > куба** меню.

    ![объект куба в сцене](media/unity-image11.png)

16. Посмотрите свойства нового **GameObject** и увидеть, что его имя, тег, слой и преобразования. Эти свойства являются общими для всех **объекты Gameobject**. Кроме того, некоторые компоненты были подключены к **куба** для предоставления необходимых функций mesh фильтра, поле collider и модуль подготовки отчетов.

    ![свойства объекта игр](media/unity-image12.png)

17. Переименуйте **куба** объект, который имеет имя **«Куб»** по умолчанию для **«Злоумышленником»** . Убедитесь, что клавишу **ввод** для сохранения изменений. Это будет выстрелов куба в наш простой игре.

    ![свойства переименования объекта CUBE](media/unity-image13.png)

18. Добавьте еще один **куба** объекта в сцену, используя тот же процесс, как описано выше и назовите это **«Player»** .

    ![Переименуйте второй объект куба](media/unity-image14.png)

19. Тег объекта player **«Player»** также (см. в разделе **тега** раскрывающийся элемент управления под именем поля). Мы будем использовать в скрипте, угрозы для поиска игровому объекту player.

    ![Добавление тегов объекту player](media/unity-image15.png)

20. В **сцены** Просмотр, перемещения объекта player от выстрелов объекта по оси Z, с помощью мыши. Можно переместить на оси Z, выбрав и перетащив куба, его **red** панели к **синий** строки. Так как куб живет в трехмерном пространстве, но можно только перетащить двумерный каждый раз, оси, на котором вы перетащите особенно важна.

    ![Отображение Просмотр сцены куба](media/unity-image16.png)

21. Переместите куба вниз и вправо на оси. При этом обновляется **Transform.Position** свойство в **инспектор**. Обязательно перетащите папку аналогичным образом, чтобы новые показано ниже, для упрощения последующих шагах в лаборатории.

    ![Перемещение одного куба на оси](media/unity-image17.png)

22. Теперь можно добавить код для диска выстрелов логику, чтобы он придерживается проигрыватель. Щелкните правой кнопкой мыши **активы** папку в **проекта** рукописного ввода и выберите **Создать > C# сценарий**.

    ![C#контекст действия сценария](media/unity-image18.png)

23. Имя нового C# сценарий **«EnemyAI»** .

    ![Пример шаблона сценария C#](media/unity-image19.png)

24. Чтобы присоединить сценарии игровым объектам перетащите только что созданный скрипт на **злоумышленником** объекта в **иерархии** области. Теперь этот объект будет использовать поведения, выдаваемые этим сценарием.

    ![Отображение выделения, добавления сценария игровому объекту](media/unity-image20.png)

25. Выберите **файл > Сохранить сцены** для сохранения в текущую сцену. Назовите его **«MyScene»** .

## <a name="task-2-working-with-visual-studio-for-mac-tools-for-unity"></a>Задача 2. Работа с Visual Studio для Mac инструментов для Unity

1. Лучший способ изменить C# кода является использование Visual Studio для Mac. Вы можете настроить Unity с помощью Visual Studio для Mac в качестве его обработчика по умолчанию. Выберите **Unity > предпочтения**.

2. Выберите **внешние инструменты** вкладки. Из **внешнего редактора скриптов** раскрывающемся списке выберите **Обзор** и выберите **приложений/Visual Studio.app**. Кроме того Если уже существует **Visual Studio** , просто выберите.

    ![внешние вкладки "Сервис" в настройках](media/unity-image21.png)

3. Unity теперь настроена для использования **Visual Studio для Mac** для изменения скриптов. Закрыть **настройкам Unity** диалоговое окно.

    ![Visual Studio, выбранного в предпочтения](media/unity-image22.png)

4. Дважды щелкните **EnemyAI.cs** чтобы открыть его в **Visual Studio для Mac**.

    ![Выстрелов активов, выбранных в unity](media/unity-image23.png)

5. Visual Studio решение достаточно прямолинейно. Он содержит **активы** папку (одного из **Finder**) и **EnemyAI.cs** сценарий, созданный ранее. В более сложных проектах иерархии скорее всего будет выглядеть отличается от показанного на Unity.

    ![Панель решения в Visual Studio для Mac](media/unity-image24.png)

6. **EnemyAI.cs** открыт в редакторе. Исходный скрипт просто содержит заглушки для **запустить** и **обновления** методы.

7. Замените исходный код выстрелов приведенный ниже код.

    ```csharp
    public class EnemyAI : MonoBehaviour
    {
        public float Speed = 50;
        private Transform _playerTransform;
        private Transform _myTransform;
        
        void Start()
        {
            var player = GameObject.FindGameObjectWithTag("Player");
            if (!player)
            {
                Debug.LogError(
                    "Could not find the main player. Ensure it has the player tag set.");
            }
            else
            {
                _playerTransform = player.transform;
            }
            _myTransform = this.transform;
        }

        void Update()
        {
            var moveAmount = Speed * Time.deltaTime;
            _myTransform.position = Vector3.MoveTowards(_myTransform.position,
                _playerTransform.position, moveAmount);

            if (_myTransform.position == _playerTransform.position)
            {
                _myTransform.position = Vector3.back * 10;
            }
        }
    }
    ```

8. Посмотрите на простой выстрелов поведение, которое определяется здесь. В **запустить** метод, мы получаем ссылку к объекту player (по его тегом), а также его **преобразование**. В **обновления** метод, который вызывается в каждом кадре, враги перейдет к объекту player. Ключевые слова и имена используется цветовое кодирование для облегчения понимания базы кода в Visual Studio для Mac.

9. Сохраните изменения в выстрелов скрипт в **Visual Studio для Mac**.

## <a name="task-3-debugging-the-unity-project"></a>Задача 3. Отладка проекта Unity

1. Установите точку останова в первой строке кода в **запустить** метод. Можно нажать кнопку в поле редактора в целевой линия "или" поместить курсор в строку и нажмите клавишу **F9**.

    ![Задание точки останова в visual studio для mac](media/unity-image25.png)

2. Нажмите кнопку **начать отладку** или клавишу **F5**. Это создаст проект и присоединить ее к Unity для отладки.

    ![Кнопка "Пуск" в visual studio для mac](media/unity-image26.png)

3. Вернитесь к **Unity** и нажмите кнопку **запуска** кнопку, чтобы начать игру.

    ![кнопку запуска в unity](media/unity-image27.png)

4. Должна быть достигнута точка останова, и теперь можно использовать Visual Studio для Mac средства отладки.

    ![точки останова в visual studio для mac](media/unity-image28.png)

5. Из **"Локальные"** рукописного ввода, найдите **это** указатель, который ссылается на **EnemyAI** объекта. Развернуть ссылки и просмотреть возможность просмотра связанных с ним элементов, таких как **скорость**.

    ![Отладка панели в visual studio для mac "Локальные"](media/unity-image29.png)

6. Удалите точку останова из **запустить** метод так же, это был добавлен, либо щелкнув его в поле или выбрав в строке и нажмите клавишу **F9**.

    ![точки останова в visual studio для mac](media/unity-image30.png)

7. Нажмите клавишу **F10** к шагу на первую строку кода, который находит **проигрывателя** игровому объекту, используя тег в качестве параметра.

8. Наведите курсор мыши на **проигрывателя** переменной в окне редактора кода для просмотра его связанных элементов. Можно даже развернуть наложения, чтобы просмотреть свойства дочерних элементов.

    ![Отладка в visual studio для mac редактора](media/unity-image31.png)

9. Нажмите клавишу **F5** или нажмите клавишу **запуска** кнопку, чтобы продолжить выполнение. Вернитесь к Unity — см. в разделе выстрелов куба многократно подход куба проигрывателя. Может потребоваться настроить камеры, если она еще не открыта.

    ![сцены, играющий в unity](media/unity-image32.png)

10. Вернитесь в **Visual Studio для Mac** и установите точку останова на первой строке **обновления** метод. Она должна быть достигнута немедленно.

    ![Задание точки останова в visual studio для mac](media/unity-image33.png)

11. Предположим, что скорость слишком быстро, и мы хотим проверить влияние изменения без перезапуска приложения. Найдите **скорость** переменную **"Видимые"** или **"Локальные"** окна и затем измените его на **«10»** и нажмите клавишу **ввод** .

    ![Настройка переменных в окне "Локальные"](media/unity-image34.png)

12. Удалите точку останова и нажмите клавишу **F5** для возобновления выполнения.

13. Вернитесь к **Unity** для просмотра выполняющегося приложения. Теперь выстрелов куба движется пятая исходное скорости.

    ![окно Unity с запуска приложения](media/unity-image35.png)

14. Остановка приложения Unity, нажав кнопку **воспроизведение** еще раз.

    ![идет остановка приложения unity](media/unity-image36.png)

15. Вернитесь к **Visual Studio для Mac**. Остановить сеанс отладки, нажав кнопку **остановить** кнопки.

    ![остановка сеанса отладки в Visual Studio для Mac](media/unity-image37.png)

## <a name="task-4-exploring-unity-features-in-visual-studio-for-mac"></a>Задача 4. Познакомьтесь с функциями Unity в Visual Studio для Mac

1. Visual Studio для Mac предоставляет быстрый доступ к документации Unity в редакторе кода. Поместите курсор где-нибудь на **Vector3** символов в **обновление** метод и нажмите клавишу **⌘ Command + '** .

    ![Выбрав метод в visual studio для mac редактора](media/unity-image38.png)

2. Откроется новое окно браузера в документации по **Vector3**. Закройте окно браузера, если условие удовлетворено.

    ![Откроется окно браузера на документацию](media/unity-image39.png)

3. Visual Studio для Mac также предоставляет вспомогательные средства для быстрого создания классов поведений Unity. Из **обозревателе решений**, щелкните правой кнопкой мыши **активы** и выберите **Добавить > новый MonoBehaviour**.

    ![новое действие контекста monobehaviour](media/unity-image40.png)

4. Только что созданный класс предоставляет заглушки для **запустить** и **обновления** методы. После закрывающей скобки **обновление** метод, начните вводить **«onmouseup»** . При вводе, обратите внимание на то, что IntelliSense в Visual Studio быстро нули на метод, который вы планируете реализовать. Выберите его из списка указанный автозаполнения. Он заполнит заглушку метода для вас, включая любые параметры.

    ![Технология IntelliSense в visual studio для mac](media/unity-image41.png)

5. Внутри **OnMouseUp** метод, тип **«базовый».** Чтобы просмотреть все доступные для вызова базовых методов. Вы также можете изучить различных перегрузок каждой функции, используя параметр разбиения на страницы в верхний правый угол всплывающего меню IntelliSense.

    ![Изучение перегрузки в visual studio для mac](media/unity-image42.png)

6. Visual Studio для Mac также позволяет легко определить новые построители текстур. Из **обозревателе решений**, щелкните правой кнопкой мыши **активы** и выберите **Добавить > новый шейдер**.

    ![новое действие шейдера в visual studio для mac](media/unity-image43.png)

7. Формат файла шейдера получает полный цвета и шрифта обработки, чтобы было проще прочесть и понять.

    ![Выделение синтаксиса](media/unity-image44.png)

8. Вернитесь к **Unity**. Вы увидите, что поскольку Visual Studio для Mac работает с той же системе проекта, изменения, внесенные в любом месте, автоматически синхронизируются с другими. Теперь можно с легкостью использовать оптимальное средство для задачи.

    ![панель активов Unity](media/unity-image45.png)

## <a name="summary"></a>Сводка

В этой лабораторной работе вы узнали, как приступить к созданию игр с помощью Unity и Visual Studio для Mac. См. в разделе [ https://unity3d.com/learn ](https://unity3d.com/learn) Дополнительные сведения о Unity.
